!function e(t,n,i){function s(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return s(n?n:e)},d,d.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t,n){"use strict";Vue.use(e("./plugins/translate")),Vue.use(e("./plugins/cp_url")),Vue.use(e("./plugins/resource_url")),Vue.use(e("./plugins/can")),Vue.use(e("./plugins/slugify")),Vue.filter("pre",e("./filters/pre")),Vue.filter("reverse",e("./filters/reverse")),Vue.filter("pluck",e("./filters/pluck")),Vue.filter("parse",e("./filters/parse")),Vue.filter("optionize",e("./filters/optionize")),Vue.filter("markdown",e("./filters/markdown")),Vue.filter("caseInsensitiveOrderBy",e("./filters/orderby")),window.Dossier=e("./components/dossier/dossier"),Vue.component("list",e("./components/list")),Vue.component("alert",e("./components/alert")),Vue.component("asset-editor",e("./components/assets/modals/asset-editor")),Vue.component("asset-folder-editor",e("./components/assets/modals/folder-editor")),Vue.component("asset-listing",e("./components/assets/listing/listing")),Vue.component("branch",e("./components/page-tree/branch")),Vue.component("branches",e("./components/page-tree/branches")),Vue.component("set-builder",e("./components/fieldset-builder/set-builder")),Vue.component("fields-builder",e("./components/fieldset-builder/fields-builder")),Vue.component("field-settings",e("./components/fieldset-builder/field-settings")),Vue.component("fieldset-fields",e("./components/fieldset-builder/fieldset-fields")),Vue.component("fieldtype-selector",e("./components/fieldset-builder/fieldtype-selector")),Vue.component("modal",e("./components/modal/modal")),Vue.component("array-fieldtype",e("./components/fieldtypes/array/array")),Vue.component("assets-fieldtype",e("./components/fieldtypes/assets/assets")),Vue.component("asset_container-fieldtype",e("./components/fieldtypes/asset-container/asset-container")),Vue.component("asset_folder-fieldtype",e("./components/fieldtypes/asset-folder/asset-folder")),Vue.component("checkboxes-fieldtype",e("./components/fieldtypes/checkboxes/checkboxes")),Vue.component("collection-fieldtype",e("./components/fieldtypes/collection/collection")),Vue.component("date-fieldtype",e("./components/fieldtypes/date/date")),Vue.component("fieldset-fieldtype",e("./components/fieldtypes/fieldset/fieldset")),Vue.component("grid-fieldtype",e("./components/fieldtypes/grid/grid")),Vue.component("hidden-fieldtype",e("./components/fieldtypes/hidden/hidden")),Vue.component("list-fieldtype",e("./components/fieldtypes/list/list")),Vue.component("locale_settings-fieldtype",e("./components/fieldtypes/locale-settings/locale-settings")),Vue.component("markdown-fieldtype",e("./components/fieldtypes/markdown/markdown")),Vue.component("pages-fieldtype",e("./components/fieldtypes/pages/pages")),Vue.component("radio-fieldtype",e("./components/fieldtypes/radio/radio")),Vue.component("redactor-fieldtype",e("./components/fieldtypes/redactor/redactor")),Vue.component("redactor_settings-fieldtype",e("./components/fieldtypes/redactor/settings")),Vue.component("relate-fieldtype",e("./components/fieldtypes/relate/relate")),Vue.component("replicator-fieldtype",e("./components/fieldtypes/replicator/replicator")),Vue.component("section-fieldtype",e("./components/fieldtypes/section/section")),Vue.component("select-fieldtype",e("./components/fieldtypes/select/select")),Vue.component("status-fieldtype",e("./components/fieldtypes/status/status")),Vue.component("suggest-fieldtype",e("./components/fieldtypes/suggest/suggest")),Vue.component("table-fieldtype",e("./components/fieldtypes/table/table")),Vue.component("tags-fieldtype",e("./components/fieldtypes/tags/tags")),Vue.component("taxonomy-fieldtype",e("./components/fieldtypes/taxonomy/taxonomy")),Vue.component("template-fieldtype",e("./components/fieldtypes/template/template")),Vue.component("theme-fieldtype",e("./components/fieldtypes/theme/theme")),Vue.component("text-fieldtype",e("./components/fieldtypes/text/text")),Vue.component("textarea-fieldtype",e("./components/fieldtypes/textarea/textarea")),Vue.component("time-fieldtype",e("./components/fieldtypes/time/time")),Vue.component("title-fieldtype",e("./components/fieldtypes/title/title")),Vue.component("toggle-fieldtype",e("./components/fieldtypes/toggle/toggle")),Vue.component("users-fieldtype",e("./components/fieldtypes/users/users")),Vue.component("user_groups-fieldtype",e("./components/fieldtypes/user-groups/user-groups")),Vue.component("user_roles-fieldtype",e("./components/fieldtypes/user-roles/user-roles")),Vue.component("yaml-fieldtype",e("./components/fieldtypes/yaml/yaml")),Vue.directive("elastic",e("./directives/elastic"))},{"./components/alert":3,"./components/assets/listing/listing":12,"./components/assets/modals/asset-editor":14,"./components/assets/modals/folder-editor":16,"./components/dossier/dossier":18,"./components/fieldset-builder/field-settings":25,"./components/fieldset-builder/fields-builder":27,"./components/fieldset-builder/fieldset-fields":29,"./components/fieldset-builder/fieldtype-selector":31,"./components/fieldset-builder/set-builder":33,"./components/fieldtypes/array/array":35,"./components/fieldtypes/asset-container/asset-container":37,"./components/fieldtypes/asset-folder/asset-folder":39,"./components/fieldtypes/assets/assets":41,"./components/fieldtypes/checkboxes/checkboxes":45,"./components/fieldtypes/collection/collection":47,"./components/fieldtypes/date/date":48,"./components/fieldtypes/fieldset/fieldset":50,"./components/fieldtypes/grid/grid":52,"./components/fieldtypes/hidden/hidden":54,"./components/fieldtypes/list/list":55,"./components/fieldtypes/locale-settings/locale-settings":57,"./components/fieldtypes/markdown/markdown":59,"./components/fieldtypes/pages/pages":61,"./components/fieldtypes/radio/radio":62,"./components/fieldtypes/redactor/redactor":64,"./components/fieldtypes/redactor/settings":66,"./components/fieldtypes/relate/relate":67,"./components/fieldtypes/replicator/replicator":69,"./components/fieldtypes/section/section":71,"./components/fieldtypes/select/select":72,"./components/fieldtypes/status/status":74,"./components/fieldtypes/suggest/suggest":76,"./components/fieldtypes/table/table":78,"./components/fieldtypes/tags/tags":80,"./components/fieldtypes/taxonomy/taxonomy":81,"./components/fieldtypes/template/template":82,"./components/fieldtypes/text/text":84,"./components/fieldtypes/textarea/textarea":85,"./components/fieldtypes/theme/theme":86,"./components/fieldtypes/time/time":88,"./components/fieldtypes/title/title":90,"./components/fieldtypes/toggle/toggle":91,"./components/fieldtypes/user-groups/user-groups":93,"./components/fieldtypes/user-roles/user-roles":95,"./components/fieldtypes/users/users":97,"./components/fieldtypes/yaml/yaml":98,"./components/list":119,"./components/modal/modal":138,"./components/page-tree/branch":140,"./components/page-tree/branches":142,"./directives/elastic":161,"./filters/markdown":162,"./filters/optionize":163,"./filters/orderby":164,"./filters/parse":165,"./filters/pluck":166,"./filters/pre":167,"./filters/reverse":168,"./plugins/can":169,"./plugins/cp_url":170,"./plugins/resource_url":171,"./plugins/slugify":172,"./plugins/translate":173}],2:[function(e,t,n){"use strict";var i=window.$,s=e("mousetrap");Vue.config.debug=!0,e("./app-globals");new Vue({el:"#statamic",data:{isPublishPage:!1,isPreviewing:!1,showShortcuts:!1,navVisible:!1,version:Statamic.version},components:{"asset-browser":e("./components/assets/browser/browser"),"page-tree":e("./components/page-tree/page-tree"),publish:e("./components/publish/publish"),"fieldset-builder":e("./components/fieldset-builder/builder"),"formset-builder":e("./components/formset-builder/formset-builder"),typeahead:e("./components/typeahead/typeahead"),installer:e("./components/installer/installer"),updater:e("./components/updater"),importer:e("./components/importer/importer"),"addon-listing":e("./components/listings/addons"),"entry-listing":e("./components/listings/entries"),"collection-listing":e("./components/listings/collections"),"configure-collection-listing":e("./components/listings/collections-configure"),"term-listing":e("./components/listings/terms"),"taxonomies-listing":e("./components/listings/taxonomies"),"configure-taxonomies-listing":e("./components/listings/taxonomies-configure"),"globals-listing":e("./components/listings/globals"),"configure-globals-listing":e("./components/listings/globals-configure"),"asset-container-listing":e("./components/listings/asset-containers"),"configure-asset-container-listing":e("./components/listings/asset-containers-configure"),"user-listing":e("./components/listings/users"),"user-group-listing":e("./components/listings/user-groups"),"user-role-listing":e("./components/listings/user-roles"),"fieldset-listing":e("./components/listings/fieldsets"),"form-submission-listing":e("./components/listings/form-submissions"),"asset-container-form":e("./components/assets/forms/container"),roles:e("./components/roles/roles"),login:e("./components/login/login")},computed:{showPage:function(){return!this.hasSearchResults},hasSearchResults:function(){return this.$refs.search.hasItems}},methods:{preview:function(){var e=this;e.$broadcast("previewing"),e.isPreviewing=!0,i(".sneak-peek-viewport").addClass("on"),setTimeout(function(){i(e.$el).addClass("sneak-peeking"),i("#sneak-peek").find("iframe").show(),setTimeout(function(){i(e.$el).addClass("sneak-peek-editing")},200)},200)},stopPreviewing:function(){var e=this,t=i(".sneak-peek-viewport"),n=t.find(".icon");i(e.$el).removeClass("sneak-peek-editing"),i("#sneak-peek").find("iframe").fadeOut().remove(),n.hide(),setTimeout(function(){i(e.$el).removeClass("sneak-peeking"),t.removeClass("on"),setTimeout(function(){n.show(),e.isPreviewing=!1,e.$broadcast("previewing.stopped")},200)},500)},toggleNav:function(){this.navVisible=!this.navVisible}},ready:function(){s.bind(["/","ctrl+f"],function(e){i("#global-search").focus()},"keyup"),s.bind("?",function(e){this.showShortcuts=!0}.bind(this),"keyup")}})},{"./app-globals":1,"./components/assets/browser/browser":6,"./components/assets/forms/container":10,"./components/fieldset-builder/builder":23,"./components/formset-builder/formset-builder":103,"./components/importer/importer":107,"./components/installer/installer":108,"./components/listings/addons":121,"./components/listings/asset-containers":123,"./components/listings/asset-containers-configure":122,"./components/listings/collections":125,"./components/listings/collections-configure":124,"./components/listings/entries":126,"./components/listings/fieldsets":127,"./components/listings/form-submissions":128,"./components/listings/globals":130,"./components/listings/globals-configure":129,"./components/listings/taxonomies":132,"./components/listings/taxonomies-configure":131,"./components/listings/terms":133,"./components/listings/user-groups":134,"./components/listings/user-roles":135,"./components/listings/users":136,"./components/login/login":137,"./components/page-tree/page-tree":146,"./components/publish/publish":151,"./components/roles/roles":155,"./components/typeahead/typeahead":158,"./components/updater":160,mousetrap:180}],3:[function(e,t,n){"use strict";e("sweetalert"),t.exports={props:{type:{type:String,"default":null},title:{type:String,"default":null},timer:{type:String,"default":null},text:{type:String,"default":null},button:{type:Boolean,"default":!0}},ready:function(){swal.setDefaults({confirmButtonColor:"#748885"}),"confirm"===this.type?swal({title:this.title,text:this.text,type:"warning",showCancelButton:!0,confirmButtonText:"Yes. Do it.",closeOnConfirm:!1}):swal({title:this.title,text:this.text,timer:this.timer,type:this.type,showConfirmButton:this.button})}}},{sweetalert:181}],4:[function(e,t,n){"use strict";t.exports={template:e("./asset.template.html"),props:{asset:Object},data:function(){return{editing:!1}},computed:{isImage:function(){return this.asset.basename.toLowerCase().match(/(jpe?g|gif|png)$/)},isUploaded:function(){return Boolean(this.asset.id)},thumbnail:function(){return this.asset.thumbnail},toenail:function(){return this.asset.toenail},icon:function(){return resource_url("img/filetypes/"+this.asset.extension+".png")},uploadPercent:function(){return this.asset.uploadPercent},uploadSucceeded:function(){return"success"===this.asset.status},uploadFailed:function(){return"error"===this.asset.status},label:function(){return this.asset.title||this.asset.basename}},methods:{edit:function(){this.editing=!0},remove:function(){this.$dispatch("asset.remove",this.asset)},makeZoomable:function(){this.isImage&&this.isUploaded&&new Luminous($(this.$el).find("a.zoom")[0],{closeOnScroll:!0,captionAttribute:"title"})}},ready:function(){this.makeZoomable(),this.$watch("asset",function(e){console.log(e),e.id&&this.$nextTick(function(){this.makeZoomable()})},{deep:!0})}}},{"./asset.template.html":5}],5:[function(e,t,n){t.exports='<div class="asset-thumbnail"\n     :class="{ \'is-image\': isImage && isUploaded, \'is-file\': !isImage }"\n     :title="asset.filename"\n>\n\n    <asset-editor v-if="asset.uuid" :show.sync="editing" :uuid="asset.uuid"></asset-editor>\n\n    <div class="controls">\n        <button @click="edit" class="btn btn-icon icon icon-pencil" alt="Edit"></button>\n        <button @click="remove" class="btn btn-icon icon icon-trash" alt="Remove"></button>\n\n    </div>\n\n    <div class="asset-thumb">\n        <a :href="toenail" class="zoom" v-if="isImage && isUploaded" :title="label"><img :src="thumbnail" /></a>\n        <img :src="icon" v-else>\n        <div class="asset-progress" v-if="!isUploaded" :style="{ width: uploadPercent+\'%\' }"></div>\n    </div>\n\n    <div class="asset-filename" :title="label">{{ label }}</div>\n\n    <div class="asset-status asset-success" v-if="uploadSucceeded"><i class="icon icon-check"></i></div>\n    <!-- <div class="asset-status asset-error" v-if="uploadFailed" :title="asset.errorMessage">!</div> -->\n    <!-- <div class="asset-filename" :title="asset.basename">{{ asset.basename }}</div> -->\n</div>\n'},{}],6:[function(e,t,n){"use strict";t.exports={template:e("./browser.template.html"),props:{container:String,uuid:String,path:String},data:function(){return{assets:[],folders:[],folder:{},loading:!0,syncing:!1}},methods:{loadAssets:function(){this.$http.post(cp_url("assets/browse"),{container:this.uuid,folder:this.path}).success(function(e){this.assets=e.assets,this.folder=e.folder,this.folders=e.folders,this.loading=!1})},openFinder:function(){$(".system-file-upload").click()},sync:function(){this.syncing=!0,this.$http.get(cp_url("assets/sync/"+this.uuid)).success(function(e){this.loadAssets(),this.syncing=!1})},updatePath:function(e){this.loading=!0,this.path=e,this.loadAssets()},bindBrowserNavigation:function(){var e=this;window.history.replaceState({path:this.path},""),window.onpopstate=function(t){e.updatePath(t.state.path)}},pushState:function(){var e="/"===this.path?"":"/"+this.path;window.history.pushState({path:this.path},"",cp_url("assets/browse/"+this.uuid+e))}},ready:function(){this.loadAssets(),this.bindBrowserNavigation(),this.$on("path.updated",function(e){this.updatePath(e),this.pushState()}),this.$on("asset.uploaded",function(e){this.assets.unshift(e)})}}},{"./browser.template.html":7}],7:[function(e,t,n){t.exports='<div class="card flat-bottom sticky">\n    <div class="head">\n        <h1>\n            {{ container }}\n            <strong v-if="path !== \'/\'"><small>{{ path }}</small></strong>\n        </h1>\n        <div class="btn-group" v-if="path === \'/\'">\n            <button class="btn btn-secondary" @click="sync" :disabled="syncing">\n                <template v-if="!syncing">{{ translate(\'cp.sync_assets\') }}</template>\n                <template v-if="syncing">{{ translate(\'cp.syncing_assets\') }}</template>\n            </button>\n        </div>\n        <div class="btn-group">\n            <button class="btn btn-primary" @click="openFinder">{{ translate(\'cp.upload_asset\') }}</button>\n        </div>\n    </div>\n</div>\n<div class="card flat-top">\n\n    <div v-if="loading" class="loading">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <asset-listing v-if="!loading"\n                   name="browse"\n                   :assets="assets"\n                   :folders="folders"\n                   :folder="folder"\n                   :container="uuid"\n                   :path="path">\n    </asset-listing>\n</div>\n'},{}],8:[function(e,t,n){"use strict";t.exports={template:e("./focal.template.html"),props:{url:String,data:{}},data:function(){return{show:!1,x:50,y:50}},computed:{bgPosition:function(){return this.x+"% "+this.y+"%"}},methods:{open:function(){this.show=!0},define:function(e){var t=$(e.target),n=t.width(),i=t.height(),s=e.pageX-t.offset().left,r=e.pageY-t.offset().top;this.x=(s/n*100).toFixed(),this.y=(r/i*100).toFixed()},select:function(){this.data=this.x+"-"+this.y,this.show=!1},cancel:function(){this.resetCoords(),this.show=!1},resetCoords:function(){if(this.data){var e=this.data.split("-");this.x=e[0],this.y=e[1]}else this.x=50,this.y=50}},ready:function(){this.resetCoords()}}},{"./focal.template.html":9}],9:[function(e,t,n){t.exports='<div>\n\n    <p class="form-control-static">\n        {{ x }}% / {{ y }}%\n        &nbsp;\n        <a href="#" @click.prevent="open" class="focal-point-trigger">Edit...</a>\n    </p>\n\n    <div class="focal-point" v-if="show">\n\n        <div class="focal-point-toolbox card">\n\n            <div class="form-group">\n                <label>{{ translate(\'cp.focal_point_label\') }}</label>\n                <small class="help-block">{{ translate(\'cp.focal_point_instructions\') }}</small>\n                <div class="focal-point-image">\n                    <img :src="url" @click="define" />\n                    <div class="focal-point-reticle" :style="{ top: y+\'%\', left: x+\'%\' }"></div>\n                </div>\n            </div>\n\n            <button type="button" class="btn btn-primary" @click="select">{{ translate(\'cp.select\') }}</button>\n            <button type="button" class="btn btn-default" @click="cancel">{{ translate(\'cp.cancel\') }}</button>\n\n            <span class="focal-point-values pull-right text-muted">\n                X: {{ x }}% / Y: {{ y }}%\n            </span>\n        </div>\n\n        <div v-for="n in 9"\n             class="frame frame-{{ n+1 }}"\n             :style="{ backgroundImage: \'url(\'+url+\')\', backgroundPosition: bgPosition }">\n        </div>\n    </div>\n</div>\n'},{}],10:[function(e,t,n){"use strict";t.exports={template:e("./container.template.html"),props:{isNew:Boolean,container:Object},data:function(){return{config:{title:null,handle:null,driver:"local",fieldset:null,local:{},s3:{}},drivers:[{value:"local",text:"Local"},{value:"s3",text:"Amazon S3"}],isHandleModified:!1,errors:[]}},computed:{driver:function(){return this.config.driver},s3Regions:function(){return[{value:"us-east-1",text:"US East / US Standard / us-east-1"},{value:"us-west-2",text:"US West (Oregon) / us-west-2"},{value:"us-west-1",text:"US West (N. California) / us-west-1"},{value:"eu-west-1",text:"EU (Ireland) / eu-west-1"},{value:"eu-central-1",text:"EU (Frankfurt) / eu-central-1"},{value:"ap-southeast-1",text:"Asia Pacific (Singapore) / ap-southeast-1"},{value:"ap-northeast-1",text:"Asia Pacific (Tokyo) / ap-northeast-1"},{value:"ap-southeast-2",text:"Asia Pacific (Sydney) / ap-southeast-2"},{value:"ap-northeast-2",text:"Asia Pacific (Seoul) / ap-northeast-2"},{value:"sa-east-1",text:"South America (Sao Paulo) / sa-east-1)"}]},hasErrors:function(){return 0!==_.size(this.errors)}},ready:function(){if(this.isNew)this.config.s3.region=_.first(this.s3Regions).value;else{var e=this.container.driver||"local";this.config.driver=e,this.config.title=this.container.title,this.config.handle=this.container.handle,this.config.fieldset=this.container.fieldset,this.config[e]=this.container}this.isNew&&this.syncTitleAndHandleFields()},methods:{save:function(){var e=this.isNew?cp_url("configure/content/assets"):cp_url("configure/content/assets/"+this.container.id);this.$http.post(e,this.config).success(function(e){e.success?window.location=e.redirect:this.errors=e.errors})},syncTitleAndHandleFields:function(){this.$watch("config.title",function(e){this.isHandleModified||(this.config.handle=this.$slugify(e))})}}}},{"./container.template.html":11}],11:[function(e,t,n){t.exports='<div class="alert alert-danger" v-if="hasErrors">\n    <ul>\n        <li v-for="error in errors">{{ error }}</li>\n    </ul>\n</div>\n\n<div class="publish-form card">\n    <div class="head">\n        <h1 v-if="isNew">Creating a new asset container</h1>\n        <h1 v-else>Editing asset container</h1>\n\n        <div class="btn-group">\n            <button type="submit" class="btn btn-primary" @click="save">{{ translate(\'cp.save\') }}</button>\n        </div>\n    </div>\n\n    <hr>\n\n    <div class="publish-fields">\n\n        <div class="form-group">\n            <label class="block">Title</label>\n            <small class="help-block">The display name of the container.</small>\n            <input type="text" class="form-control" v-model="config.title" />\n        </div>\n\n        <div class="form-group" v-if="isNew">\n            <label class="block">Handle</label>\n            <div class="help-block">A unique string that you can use to reference your container. <b>This cannot be changed after creation.</b></div>\n            <input type="text" class="form-control" v-model="config.handle" @keydown="isHandleModified = true" />\n        </div>\n\n        <div class="form-group">\n            <label class="block">Fieldset</label>\n            <small class="help-block">The fieldset to be used by assets in this container.</small>\n            <fieldset-fieldtype :data.sync="config.fieldset"></fieldset-fieldtype>\n        </div>\n\n        <div class="form-group">\n            <label class="block">Driver</label>\n            <small class="help-block">Where will the assets be stored and accessed?</small>\n            <select-fieldtype :data.sync="config.driver" :options="drivers"></select-fieldtype>\n        </div>\n\n        <template v-if="driver === \'local\'">\n            <div class="form-group">\n                <label class="block">Path</label>\n                <small class="help-block">Location of the folder on the filesystem.</small>\n                <input type="text" class="form-control" v-model="config.local.path" />\n            </div>\n\n            <div class="form-group">\n                <label class="block">URL</label>\n                <small class="help-block">URL of the folder.</small>\n                <input type="text" class="form-control" v-model="config.local.url" />\n            </div>\n        </template>\n\n        <template v-if="driver === \'s3\'">\n            <div class="form-group">\n                <label class="block">Access Key ID</label>\n                <input type="text" class="form-control" v-model="config.s3.key" />\n            </div>\n\n            <div class="form-group">\n                <label class="block">Secret Access Key</label>\n                <input type="text" class="form-control" v-model="config.s3.secret" />\n            </div>\n\n            <div class="form-group">\n                <label class="block">Bucket</label>\n                <input type="text" class="form-control" v-model="config.s3.bucket" />\n            </div>\n\n            <div class="form-group">\n                <label class="block">Region</label>\n                <select-fieldtype :data.sync="config.s3.region" :options="s3Regions"></select-fieldtype>\n            </div>\n\n            <div class="form-group">\n                <label class="block">Path</label>\n                <input type="text" class="form-control" v-model="config.s3.path" />\n            </div>\n        </template>\n\n    </div>\n</div>\n'},{}],12:[function(e,t,n){"use strict";t.exports={template:e("./listing.template.html"),components:{asset:e("../asset/asset")},props:{name:{type:String,"default":function(){return _.random(1e3)}},container:String,path:String,assets:{type:Array,required:!1,"default":function(){return null}},folders:{type:Array,required:!1,"default":function(){return null}},folder:{type:Object,required:!1,"default":function(){return null}},selectedAssets:{type:Array,required:!1,"default":function(){return[]}},mode:{type:String,"default":function(){return Cookies.get("statamic.assets.listing_view_mode")||"table"}}},data:function(){return{loading:!0,editingAsset:!1,editedAssetUuid:null,showFolderEditor:!1,folderModalPath:"",creatingFolder:!1,search:null,sortCol:"title",sortOrders:{title:1,basename:1,size_b:1,last_modified:1},assetQueue:[],draggingFile:!1,plugin:null}},computed:{hasParent:function(){return this.folder?this.folder.parent_path:!1},hasItems:function(){return this.folders.length||this.assets.length},allItemsChecked:function(){return this.assets.length>0&&this.assets.length===this.selectedAssets.length},selectedUuids:function(){return _.map(this.selectedAssets,function(e){return e.uuid})}},methods:{goToFolder:function(e){this.$dispatch("path.updated",e)},selectAsset:function(e){var t=_.findWhere(this.selectedAssets,{uuid:e.uuid}),n=_.indexOf(this.selectedAssets,t);t?this.selectedAssets.splice(n,1):this.selectedAssets.push(e)},isSelected:function(e){var t=_.findWhere(this.selectedAssets,{uuid:e.uuid});return-1!==_.indexOf(this.selectedAssets,t)},getOrder:function(e){var t=_.findWhere(this.selectedAssets,{uuid:e.uuid});return _.indexOf(this.selectedAssets,t)+1},getLabel:function(e){return e.title||e.basename},editAsset:function(e){this.editingAsset=!0,this.editedAssetUuid=e},deleteAsset:function(e){var t=this;swal({type:"warning",title:translate("cp.are_you_sure"),text:translate_choice("cp.confirm_delete_items",1),confirmButtonText:translate("cp.yes_im_sure"),cancelButtonText:translate("cp.cancel"),showCancelButton:!0},function(){t.$http["delete"](cp_url("assets/delete"),{ids:[e]},function(t){var n=_.findWhere(this.assets,{uuid:e}),i=_.indexOf(this.assets,n);this.assets.splice(i,1)})})},deleteAssets:function(){var e=this;swal({type:"warning",title:translate("cp.are_you_sure"),text:translate_choice("cp.confirm_delete_items",2),confirmButtonText:translate("cp.yes_im_sure"),cancelButtonText:translate("cp.cancel"),showCancelButton:!0},function(){e.$http["delete"](cp_url("assets/delete"),{ids:e.selectedUuids},function(t){_.each(e.selectedAssets,function(t){var n=_.indexOf(e.assets,t);e.assets.splice(n,1),e.selectedAssets=_.without(e.selectedAssets,t)})})})},createFolder:function(){this.showFolderEditor=!0,this.folderModalPath=this.path,this.creatingFolder=!0},editFolder:function(e){this.showFolderEditor=!0,this.folderModalPath=e,this.creatingFolder=!1},deleteFolder:function(e){var t=this;swal({type:"warning",title:translate("cp.are_you_sure"),text:translate("cp.confirm_delete_item"),confirmButtonText:translate("cp.yes_im_sure"),cancelButtonText:translate("cp.cancel"),showCancelButton:!0},function(){t.$http["delete"](cp_url("assets/folders/delete"),{container:t.container,folders:[e]},function(t){var n=_.findWhere(this.folders,{path:e}),i=_.indexOf(this.folders,n);this.folders.splice(i,1)})})},loadingComplete:function(){this.loading=!1,this.$dispatch("asset-listing.loading-complete"),this.bindUploader()},sortBy:function(e){this.sortCol=e,this.sortOrders[e]=-1*this.sortOrders[e]},checkAllItems:function(){this.allItemsChecked?this.selectedAssets=[]:this.selectedAssets=this.assets},bindUploader:function(){var e=this,t=$(this.$el);t.dmUploader({url:cp_url("assets"),extraData:{container:e.container,folder:e.path},onNewFile:function(t,n){e.assetQueue.push({queueId:t,basename:n.name,extension:n.name.split(".").pop(),uploadPercent:0})},onUploadProgress:function(t,n){var i=_.findWhere(e.assetQueue,{queueId:t});i.uploadPercent=n},onUploadSuccess:function(t,n){e.assets.unshift(n.asset);var i=_.findWhere(e.assetQueue,{queueId:t});_.indexOf(e.assetQueue,i);e.assetQueue.splice(e.assetQueue,1)},onUploadError:function(t,n){var i=_.findWhere(e.assetQueue,{queueId:t});Vue.set(i,"status","error"),Vue.set(i,"errorMessage",n)}}),e.plugin=t.data("dmUploader")},fileIcon:function(e){return resource_url("img/filetypes/"+e+".png")}},ready:function(){this.assets?this.loadingComplete():this.$http.post(cp_url("assets/browse"),{container:this.container,folder:this.path}).success(function(e){this.assets=e.assets,this.folder=e.folder,this.folders=e.folders,this.loadingComplete()}),this.$on("asset.updated",function(e){var t=_.findWhere(this.assets,{uuid:e.uuid});t.title=e.title}),this.$on("folder.updated",function(e){var t=_.findWhere(this.folders,{path:e.path});t.title=e.title}),this.$on("folder.created",function(e){this.folders.push(e)}),this.$watch("mode",function(e){Cookies.set("statamic.assets.listing_view_mode",e)})}}},{"../asset/asset":4,"./listing.template.html":13}],13:[function(e,t,n){t.exports='<div class="asset-listing"\n    :class="{ \'being-dragging\': beingDragged }"\n     @dragover="draggingFile = true"\n     @dragleave="draggingFile = false"\n     @drop="draggingFile = false"\n >\n    <input type="file" multiple="multiple" class="system-file-upload hide">\n\n    <div v-if="loading" class="loading">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <div class="drag-notification" v-show="draggingFile">\n        <div>\n            <i class="icon icon-download"></i>\n            <h3>{{ translate(\'cp.drop_to_upload\') }}</h3>\n        </div>\n    </div>\n\n    <div class="asset-listing table asset-listing-uploads" v-if="assetQueue.length">\n        <table>\n            <thead>\n                <tr>\n                    <th class="column-checkbox"></th>\n                    <th colspan="2">{{ translate_choice(\'cp.uploads\', 2) }}</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for="asset in assetQueue">\n                    <td class="column-checkbox">\n                        <span class="icon icon-circular-graph animation-spin" v-if="asset.status !== \'error\'"></span>\n                        <span class="icon icon-warning error" v-else></span>\n                    </td>\n                    <td class="column-filename">\n                        <img :src="fileIcon(asset.extension)" />\n                        {{ asset.basename }}\n                    </td>\n                    <td class="column-progress" v-if="asset.status !== \'error\'">\n                        <div class="progress">\n                            <div class="progress-bar" :style="{ width: asset.uploadPercent+\'%\' }"></div>\n                        </div>\n                    </td>\n                    <td class="column-error" v-else>{{ asset.errorMessage }}</td>\n                </tr>\n            </tbody>\n        </table>\n\n        <hr />\n    </div>\n\n    <div class="actions" v-if="!loading">\n        <div class="actions-controls">\n            <template v-if="hasItems">\n                <input type="checkbox" id="checkbox-all" :checked="allItemsChecked" @click="checkAllItems" />\n                <label for="checkbox-all"></label>\n\n                <button type="button" class="btn" @click.prevent="deleteAssets">\n                    {{ translate(\'cp.delete\') }}\n                </button>\n            </template>\n\n            <button @click="createFolder" class="btn">\n                {{ translate(\'cp.new_folder\') }}\n            </button>\n        </div>\n\n        <input type="text" :placeholder="translate(\'cp.search\')" @keydown.esc="search = null" v-model="search" class="search" />\n\n        <div class="btn-group">\n            <button type="button" class="btn btn-icon" @click="mode = \'grid\'" :class="{\'depressed\': mode == \'grid\'}">\n                <span class="icon icon-grid"></span>\n            </button>\n            <button type="button" class="btn btn-icon" @click="mode = \'table\'" :class="{\'depressed\': mode == \'table\'}">\n                <span class="icon icon-list"></span>\n            </button>\n        </div>\n    </div>\n\n    <div v-if="!loading && (hasItems || hasParent)">\n        <div class="asset-listing table" v-if="mode == \'table\'">\n            <table>\n                <thead>\n                    <tr>\n                        <th class="column-checkbox"></th>\n                        <th class="column-sortable" @click="sortBy(\'title\')">\n                            {{ translate(\'cp.title\') }}\n                            <i v-if="sortCol === \'title\'"\n                               class="icon icon-chevron-{{ (sortOrders.title > 0) ? \'down\' : \'up\' }}"></i>\n                        </th>\n                        <th class="column-sortable" @click="sortBy(\'basename\')">\n                            {{ translate(\'cp.filename\') }}\n                            <i v-if="sortCol === \'basename\'"\n                               class="icon icon-chevron-{{ (sortOrders.basename > 0) ? \'down\' : \'up\' }}"></i>\n                        </th>\n                        <th class="column-sortable" @click="sortBy(\'size_b\')">\n                            {{ translate(\'cp.filesize\') }}\n                            <i v-if="sortCol === \'size_b\'"\n                               class="icon icon-chevron-{{ (sortOrders.size_b > 0) ? \'down\' : \'up\' }}"></i>\n                        </th>\n                        <th class="column-sortable" @click="sortBy(\'last_modified\')">\n                            {{ translate(\'cp.date_modified\') }}\n                            <i v-if="sortCol === \'last_modified\'"\n                               class="icon icon-chevron-{{ (sortOrders.last_modified > 0) ? \'down\' : \'up\' }}"></i>\n                        </th>\n                        <th class="column-actions"></th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr v-if="hasParent">\n                        <td></td>\n                        <td>\n                            <a href="" @click.prevent="goToFolder(folder.parent_path)">\n                                <img :src="resource_url(\'img/filetypes/folder.png\')" class="folder">\n                                ({{ translate(\'cp.parent_folder\') }})\n                            </a>\n                        </td>\n                        <td colspan="3">..</td>\n                        <td></td>\n                    </tr>\n                    <tr v-for="folder in folders | filterBy search">\n                        <td></td>\n                        <td>\n                            <a href="" @click.prevent="goToFolder(folder.path)">\n                                <img :src="resource_url(\'img/filetypes/folder.png\')" class="folder">\n                                {{ folder.title }}\n                            </a>\n                        </td>\n                        <td colspan="3"></td>\n                        <td class="column-actions">\n                            <div class="btn-group">\n                                <button type="button" class="btn-more dropdown-toggle"\n                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                                    <i class="icon icon-dots-three-vertical"></i>\n                                </button>\n                                <ul class="dropdown-menu">\n                                    <li><a href="" @click.prevent="editFolder(folder.path)">{{ translate(\'cp.edit\') }}</a></li>\n                                    <li class="divider"></li>\n                                    <li class="warning"><a href="" @click.prevent="deleteFolder(folder.path)">{{ translate(\'cp.delete\') }}</a></li>\n                                </ul>\n                            </div>\n                        </td>\n                    </tr>\n\n                    <tr v-for="asset in assets | orderBy sortCol sortOrders[sortCol] | filterBy search">\n                        <td>\n                            <div class="faux-checkbox" :class="{ \'checked\': isSelected(asset) }" @click="selectAsset(asset)"></div>\n                        </td>\n                        <td>\n                            <span class="asset" @click="selectAsset(asset)" @dblclick="editAsset(asset.uuid)">\n                                <img :src="asset.thumbnail" title="{{ asset.title }}" v-if="asset.is_image" class="image">\n                                <img :src="fileIcon(asset.extension)" class="file" v-else>\n                                {{ asset.title }}\n                            </span>\n                        </td>\n                        <td>{{ asset.basename }}</td>\n                        <td>{{ asset.size }}</td>\n                        <td>{{ asset.last_modified }}</td>\n                        <td class="column-actions">\n                            <div class="btn-group">\n                                <button type="button" class="btn-more dropdown-toggle"\n                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                                    <i class="icon icon-dots-three-vertical"></i>\n                                </button>\n                                <ul class="dropdown-menu">\n                                    <li><a href="" @click.prevent="editAsset(asset.uuid)">{{ translate(\'cp.edit\') }}</a></li>\n                                    <li class="divider"></li>\n                                    <li class="warning"><a href="" @click.prevent="deleteAsset(asset.uuid)">{{ translate(\'cp.delete\') }}</a></li>\n                                </ul>\n                            </div>\n                        </td>\n                    </tr>\n\n                </tbody>\n            </table>\n        </div>\n    </div>\n\n    <div class="asset-listing grid" v-if="mode == \'grid\'">\n\n        <!--<template>-->\n            <div v-if="hasParent" class="asset-thumbnail" @click.prevent.stop="goToFolder(folder.parent_path)">\n                <div class="asset-thumb">\n                    <a href="" @click.prevent.stop="goToFolder(folder.parent_path)">\n                        <img :src="resource_url(\'img/filetypes/folder.png\')" class="folder">\n                    </a>\n                </div>\n                <div class="asset-filename">({{ translate(\'cp.parent_folder\') }})</div>\n            </div>\n\n            <div v-for="folder in folders | filterBy search"\n                 class="asset-thumbnail"\n                 @click.prevent="goToFolder(folder.path)"\n            >\n                <div class="asset-thumb">\n                    <a href="" @click.prevent.stop="goToFolder(folder.path)">\n                        <img :src="resource_url(\'img/filetypes/folder.png\')" class="folder">\n                    </a>\n                </div>\n                <div class="asset-filename">{{ folder.title }}</div>\n            </div>\n        <!--</template>-->\n\n        <div class="asset-thumbnail selectable"\n             :class="{ \'selected\': isSelected(asset), \'is-image\': asset.is_image, \'is-file\': !asset.is_image }"\n             v-for="asset in assets | filterBy search"\n             @click="selectAsset(asset)"\n        >\n            <a href="" @click.prevent.stop="editAsset(asset.uuid)" class="edit"><button class="btn btn-icon icon icon-pencil" alt="Edit"></button></a>\n            <span v-if="isSelected(asset)" class="order">{{ getOrder(asset) }}</span>\n\n            <div class="asset-thumb">\n                <img :src="asset.thumbnail" :title="asset.title" v-if="asset.is_image">\n                <img :src="fileIcon(asset.extension)" v-else>\n            </div>\n\n            <div class="asset-filename">{{ getLabel(asset) }}</div>\n        </div>\n    </div>\n\n\n    <div class="no-results" v-if="!loading && !hasItems">\n        <span class="icon icon-folder"></span>\n        <h2>{{ translate(\'cp.asset_folder_empty_heading\') }}</h2>\n        <h3>{{ translate(\'cp.asset_folder_empty\') }}</h3>\n    </div>\n\n    <asset-editor v-if="editingAsset" :show.sync="editingAsset" :uuid.sync="editedAssetUuid"></asset-editor>\n\n    <asset-folder-editor v-if="showFolderEditor"\n                         :show.sync="showFolderEditor"\n                         :container="container"\n                         :path.sync="folderModalPath"\n                         :create.sync="creatingFolder">\n    </asset-folder-editor>\n</div>\n';
},{}],14:[function(e,t,n){"use strict";t.exports={template:e("./asset-editor.template.html"),components:{"focal-point":e("../focal/focal"),"publish-fields":e("../../publish/fields")},props:{uuid:String,show:{type:Boolean,required:!0,"default":!1}},data:function(){return{fields:{},asset:{},loading:!0,saving:!1}},methods:{getAsset:function(){var e=cp_url("assets/"+this.uuid);this.$http.get(e).success(function(e){this.asset=e.asset,this.fields=e.fields,this.loading=!1})},save:function(){this.saving=!0;var e=cp_url("assets/"+this.uuid);this.$http.post(e,this.fields).success(function(e){this.$dispatch("asset.updated",e.asset),this.saving=!1,this.close()})},close:function(){this.show=!1}},ready:function(){this.getAsset(),this.$watch("show",function(e){e||(this.uuid=null)})}}},{"../../publish/fields":147,"../focal/focal":8,"./asset-editor.template.html":15}],15:[function(e,t,n){t.exports='<modal :show.sync="show" class="asset-modal asset-editor" :saving="saving" :loading="loading">\n    <template slot="header">{{ translate(\'cp.editing_asset\') }}</template>\n    <template slot="body">\n        <div class="row">\n            <div class="publish col-md-8">\n                <publish-fields :fieldset-name="asset.fieldset"\n                                :uuid="asset.uuid"\n                                locale="en"\n                                :field-data="fields">\n                </publish-fields>\n            </div>\n            <div class="meta col-md-4">\n                <img :src="asset.thumbnail" v-if="asset.is_image" />\n\n                <div class="form-group">\n                    <label>ID</label>\n                    <p class="form-control-static"><small><code>{{ asset.uuid }}</code></small></p>\n                </div>\n\n                <div class="form-group">\n                    <label>{{ translate(\'cp.filename\') }}</label>\n                    <p class="form-control-static">{{ asset.basename }}</p>\n                </div>\n\n                <div class="form-group" v-if="asset.is_image">\n                    <label>{{ translate(\'cp.focal_point\') }}</label>\n                    <focal-point :data.sync="fields.focus" :url="asset.url"></focal-point>\n                </div>\n            </div>\n        </div>\n    </template>\n\n    <template slot="footer">\n        <button type="button" class="btn" @click="close">{{ translate(\'cp.close\') }}</button>\n        <button type="button" class="btn btn-primary btn-small" @click="save">{{ translate(\'cp.save\') }}</button>\n    </template>\n</modal>\n'},{}],16:[function(e,t,n){"use strict";t.exports={template:e("./folder-editor.template.html"),props:{show:Boolean,container:String,path:String,create:{type:Boolean,"default":!1}},data:function(){return{form:{},folder:{},loading:!0,saving:!1,basenameModified:!1}},methods:{reset:function(){this.path="",this.folder={},this.form={},this.loading=!0},stopEditing:function(){$(this.$el).modal("hide")},getFolder:function(){this.create?this.getBlankFolder():this.getExistingFolder()},getBlankFolder:function(){this.folder={},this.form={container:this.container,parent:this.path,title:"",basename:""},this.loading=!1},getExistingFolder:function(){var e=cp_url("assets/folders/"+this.container+"/"+this.path);this.$http.get(e).success(function(e){this.folder=e,this.form={title:e.title},this.loading=!1})},save:function(){this.saving=!0,this.create?this.saveNewFolder():this.saveExistingFolder()},saveNewFolder:function(){var e=cp_url("assets/folders");this.$http.post(e,this.form).success(function(e){this.$dispatch("folder.created",e.folder),this.saving=!1,this.close()})},saveExistingFolder:function(){var e=cp_url("assets/folders/"+this.container+"/"+this.path);this.$http.post(e,this.form).success(function(e){this.$dispatch("folder.updated",e.folder),this.saving=!1,this.close()})},close:function(){this.show=!1}},ready:function(){this.getFolder(),this.$watch("show",function(e){e||(this.folder=null)}),this.$watch("form.title",function(e){this.create&&!this.basenameModified&&(this.form.basename=this.$slugify(e))})}}},{"./folder-editor.template.html":17}],17:[function(e,t,n){t.exports='<modal :show.sync="show" class="asset-modal asset-folder-editor" :saving="saving" :loading="loading">\n    <template slot="header">\n        <h1 v-if="create">Create Folder</h1>\n        <h1 v-if="!create">Edit Folder</h1>\n    </template>\n\n    <template slot="body">\n\n        <div class="form-group">\n            <label class="block">Title</label>\n            <small class="help-block">The display name of the folder.</small>\n            <input type="text" class="form-control" v-model="form.title" />\n        </div>\n\n        <div class="form-group" v-if="create">\n            <label class="block">Name</label>\n            <small class="help-block">The filesystem directory name</small>\n            <input type="text" class="form-control" v-model="form.basename" @keydown="basenameModified = true" />\n        </div>\n\n    </template>\n\n    <template slot="footer">\n        <button type="button" class="btn" @click="close">Close</button>\n        <button type="button" class="btn btn-primary btn-small" @click="save">Save</button>\n    </template>\n</modal>\n'},{}],18:[function(e,t,n){"use strict";t.exports={data:function(){return{loading:!0,items:[],columns:[],search:null}},computed:{hasItems:function(){return!this.loading&&this.items&&this.items.length},noItems:function(){return!this.loading&&this.items&&!this.items.length},checkedItems:function(){return this.items.filter(function(e){return e.checked}).map(function(e){return e.id})},allItemsChecked:function(){return this.items.length===this.checkedItems.length}},ready:function(){this.getItems()},components:{"dossier-table":e("./table")},methods:{getItems:function(){this.$http.get(this.ajax.get,function(e,t,n){this.items=e.items,this.columns=e.columns,this.loading=!1}).error(function(){alert("There was a problem retrieving data. Check your logs for more details.")})},removeItemFromList:function(e){var t=_.findWhere(this.items,{id:e}),n=_.indexOf(this.items,t);this.items.splice(n,1)},deleteMultiple:function(){var e=this;swal({type:"warning",title:translate("cp.are_you_sure"),text:translate_choice("cp.confirm_delete_items",2),confirmButtonText:translate("cp.yes_im_sure"),cancelButtonText:translate("cp.cancel"),showCancelButton:!0},function(){e.$http["delete"](e.ajax["delete"],{ids:e.checkedItems},function(t){_.each(e.checkedItems,function(t){e.removeItemFromList(t)})})})},deleteItem:function(e){var t=this;swal({type:"warning",title:translate("cp.are_you_sure"),text:translate_choice("cp.confirm_delete_items",1),confirmButtonText:translate("cp.yes_im_sure"),cancelButtonText:translate("cp.cancel"),showCancelButton:!0},function(){t.$http["delete"](t.ajax["delete"],{ids:[e]},function(n){t.removeItemFromList(e)})})},saveOrder:function(){this.saving=!0;var e=_.map(this.items,function(e,t){return e.id});this.$http.post(this.ajax.reorder,{ids:e},function(){this.saving=!1,this.$broadcast("reordering.saved"),this.loading=!0,this.getItems()})}}}},{"./table":19}],19:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.exports={template:e("./table.template.html"),props:["options"],data:function(){return{items:[],columns:[],sortCol:this.options.sort||null,sortOrder:this.options.sortOrder||"asc",sortOrders:{},search:null,reordering:!1}},components:{search:{props:["term"],template:'<input type="text" :placeholder="translate(\'cp.search\')"\n                              @keydown.esc="reset" v-model="term" class="search" />',methods:{reset:function(){this.term=""}}}},partials:{cell:"\n            <a v-if=\"$index === 0\" :href=\"item.edit_url\">\n                <span class=\"status status-{{ (item.published) ? 'live' : 'hidden' }}\"\n                      :title=\"(item.published) ? translate('cp.published') : translate('cp.draft')\"\n                ></span>\n                {{ item[column.label] }}\n            </a>\n            <template v-else>\n                {{ item[column.label] }}\n            </template>\n        "},computed:{hasCheckboxes:function(){return this.options.checkboxes!==!1},hasSearch:function(){return this.options.search!==!1},hasHeaders:function(){return this.options.headers!==!1},hasActions:function(){return void 0!==this.options.partials.actions&&""!==this.options.partials.actions},hasItems:function(){return this.$parent.hasItems},reorderable:function(){return this.options.reorderable},checkedItems:function(){return this.items.filter(function(e){return e.checked}).map(function(e){return e.id})},allItemsChecked:function(){return this.items.length===this.checkedItems.length},computedSearch:function(){return this.reordering?null:this.search},computedSortCol:function(){return this.reordering?!1:this.sortCol},computedSortOrder:function(){return this.reordering?!1:this.sortOrders[this.sortCol]}},beforeCompile:function(){var e=this;_.each(e.options.partials,function(t,n){e.$options.partials[n]=t})},ready:function(){this.items=this.$parent.items,this.columns=this.$parent.columns,this.setColumns(),this.setSortOrders(),this.sortCol=this.options.sort||this.columns[0].field},methods:{registerPartials:function(){var e=this;_.each(e.options.partials,function(e,t){Vue.partial(t,e)})},setColumns:function(){var e=[];_.each(this.columns,function(t){"object"===("undefined"==typeof t?"undefined":i(t))?e.push({label:t.label,field:t.field,translation:t.translation}):e.push({label:t,field:t})}),this.columns=e},setSortOrders:function(){var e={};_.each(this.columns,function(t){e[t.field]=1}),e[this.sortCol]="asc"===this.sortOrder?1:-1,this.sortOrders=e},sortBy:function(e){this.sortCol===e.field&&(this.sortOrders[e.field]=-1*this.sortOrders[e.field]),this.sortCol=e.field},checkAllItems:function(){var e=!this.allItemsChecked;_.each(this.items,function(t){t.checked=e})},toggle:function(e){e.checked=!e.checked},enableReorder:function(){var e=this;e.reordering=!0,$(this.$els.tbody).sortable({axis:"y",revert:175,placeholder:"placeholder",handle:".drag-handle",forcePlaceholderSize:!0,start:function(e,t){t.item.data("start",t.item.index())},update:function(t,n){var i=n.item.data("start"),s=n.item.index();e.items.splice(s,0,e.items.splice(i,1)[0])}})},disableReorder:function(){this.reordering=!1,$(this.$els.tbody).sortable("destroy")},saveOrder:function(){this.$parent.saveOrder()},call:function(e){var t=Array.prototype.slice.call(arguments,1);this.$parent[e].apply(this,t)}},events:{"reordering.saved":function(){this.reordering=!1}}}},{"./table.template.html":20}],20:[function(e,t,n){t.exports='<div>\n    <div v-if="hasItems" :class="{ \'actions\': true, \'no-checkboxes\': !hasCheckboxes }">\n        <div class="actions-controls" v-if="hasCheckboxes">\n            <template v-if="!reordering">\n                <input type="checkbox" id="checkbox-all" :checked="allItemsChecked" @click="checkAllItems" />\n                <label for="checkbox-all"></label>\n\n                <button type="button" class="btn" @click.prevent="call(\'deleteMultiple\', \'foo\', \'bar\')">\n                    {{ translate(\'cp.delete\') }}\n                </button>\n\n                <button type="button" @click="enableReorder" class="btn" v-if="reorderable">\n                    {{ translate(\'cp.reorder\') }}\n                </button>\n            </template>\n\n            <template v-if="reordering">\n                <button type="button" @click="saveOrder" class="btn">\n                    {{ translate(\'cp.save\') }}\n                </button>\n                <button type="button" @click="disableReorder" class="btn">\n                    {{ translate(\'cp.cancel\') }}\n                </button>\n            </template>\n        </div>\n\n        <search v-if="hasSearch && !reordering" :term.sync="search"></search>\n    </div>\n\n    <table class="dossier">\n        <thead v-if="hasHeaders">\n            <tr>\n                <th v-if="hasCheckboxes"></th>\n\n                <th v-for="column in columns"\n                    @click="sortBy(column)"\n                    class="column-sortable column-{{ column.label }}"\n                >\n                    <template v-if="column.translation">{{ column.translation }}</template>\n                    <template v-else>{{ translate(\'cp.\'+column.label) }}</template>\n                    <i v-if="sortCol === column.field"\n                       class="icon icon-chevron-{{ (sortOrders[column.field] > 0) ? \'up\' : \'down\' }}"></i>\n                </th>\n\n                <th class="column-actions" v-if="hasActions"></th>\n            </tr>\n        </thead>\n        <tbody v-el:tbody>\n            <tr v-for="item in items | filterBy computedSearch | caseInsensitiveOrderBy computedSortCol computedSortOrder">\n\n                <td class="checkbox-col" v-if="hasCheckboxes && !reordering">\n                    <input type="checkbox" :id="\'checkbox-\' + $index" :checked="item.checked" @change="toggle(item)" />\n                    <label :for="\'checkbox-\' + $index"></label>\n                </td>\n\n                <td class="checkbox-col" v-if="reordering">\n                    <div class="drag-handle">\n                        <i class="icon icon-menu"></i>\n                    </div>\n                </td>\n\n                <td v-for="column in columns">\n                    <partial name="cell"></partial>\n                </td>\n\n                <!-- actions -->\n                <td class="column-actions" v-if="hasActions">\n                    <div class="btn-group">\n                        <button type="button" class="btn-more dropdown-toggle"\n                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                            <i class="icon icon-dots-three-vertical"></i>\n                        </button>\n                        <ul class="dropdown-menu">\n                            <partial name="actions"></partial>\n                        </ul>\n                    </div>\n                </td>\n\n            </tr>\n        </tbody>\n    </table>\n</div>\n'},{}],21:[function(e,t,n){"use strict";t.exports={props:["entry","type","primary"],template:'<a :href="entry.publish_url" v-if="primary === type">{{ entry[type] }}</a><template v-if="primary !== type">{{ entry[type] }}</template>'}},{}],22:[function(e,t,n){"use strict";t.exports={props:["entry","key","type","primary","is"],computed:{statusClass:function(){var e=this.entry.published?"live":"hidden";return"status status-"+e}},template:'<span :class="statusClass"></span>'}},{}],23:[function(e,t,n){"use strict";t.exports={template:e("./builder.template.html"),props:{fieldsetTitle:String,create:{type:Boolean,"default":!1},saveUrl:String},data:function(){return{loading:!0,errorMessage:null,slug:null,fieldset:{fields:[]},fieldtypes:[]}},methods:{getFieldtypes:function(){var e=this;this.$http.get(cp_url("/fieldsets/fieldtypes")).success(function(t){_.each(t,function(t){e.fieldtypes.push(t)}),e.create?e.getBlankFieldset():e.getFieldset()})},getBlankFieldset:function(){this.fieldset={title:"",fields:[]},this.loading=!1},getFieldset:function(){var e=this,t=cp_url("/fieldsets/"+get_from_segment(3)+"/get?partials=0");e.$http.get(t).success(function(t){var n=this.registerFieldKeys(t);n.fields=_.map(n.fields,function(e){return delete e.complete,delete e.html,e}),e.fieldset=n,e.loading=!1}).error(function(t){e.errorMessage=t.message})},registerFieldKeys:function(e){var t=this;return e.fields=_.map(e.fields,function(e){var n=_.findWhere(t.fieldtypes,{name:e.type}).config;return _.each(n,function(t){void 0===e[t.name]&&(e[t.name]=null)}),e}),e},save:function(){this.$http.post(this.saveUrl,{slug:this.slug,fieldset:this.fieldset}).success(function(e){window.location=e.redirect})}},ready:function(){this.getFieldtypes()}}},{"./builder.template.html":24}],24:[function(e,t,n){t.exports='<div>\n	<div class="card sticky flat-bottom">\n		<div class="head">\n			<h1 class="pull-left" v-if="create">\n				{{ translate(\'cp.create_fieldset\') }}\n			</h1>\n\n			<h1 class="pull-left" v-if="!create">\n				{{ translate(\'cp.editing_fieldset\') }}:\n				<strong>{{ fieldsetTitle }}</strong>\n			</h1>\n\n			<button type="button" class="btn btn-primary pull-right" v-on:click="save()">{{ translate(\'cp.save\') }}</button>\n		</div>\n	</div>\n\n	<div class="card flat-top">\n		<div v-if="loading && !errorMessage" class="loading">\n			<span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n		</div>\n\n		<div v-if="errorMessage" class="alert alert-danger">\n			<p>{{ errorMessage }}</p>\n		</div>\n\n		<div class="fieldset-builder" v-if="! loading">\n\n			<div class="form-group">\n				<label class="block">Title</label>\n				<small class="help-block">How the fieldset will be displayed.</small>\n				<input type="text" class="form-control" v-model="fieldset.title" />\n			</div>\n\n			<div class="form-group" v-if="create">\n				<label class="block">Slug</label>\n				<small class="help-block">How the fieldset will be referenced.</small>\n				<input type="text" class="form-control" v-model="slug" />\n			</div>\n\n			<div class="form-group">\n				<label class="block">Hide</label>\n				<small class="help-block">Hide from the selection dialog?</small>\n				<toggle-fieldtype :data.sync="fieldset.hide"></toggle-fieldtype>\n			</div>\n\n			<div class="form-group">\n				<label class="block">Fields</label>\n				<small class="help-block">Choose and customize the fields in this fieldset.</small>\n				<fields-builder :fields="fieldset.fields"\n								:fieldtypes="fieldtypes"\n								:root="true">\n				</fields-builder>\n			</div>\n		</div>\n	</div>\n</div>\n'},{}],25:[function(e,t,n){"use strict";t.exports={template:e("./field-settings.template.html"),props:["field","fieldtypeConfig","fieldtypes","root"],data:function(){return{isNameModified:!0,widths:[{value:100,text:"Full width"},{value:50,text:"Half"},{value:25,text:"1/4 - One quarter"},{value:75,text:"3/4 - Three quarters"},{value:33,text:"1/3 - One third"},{value:66,text:"2/3 - Two thirds"}]}},computed:{selectedWidth:function(){var e=this.field.width||100,t=_.findWhere(this.widths,{value:e});return t.text},fieldtype:function(){return _.findWhere(this.fieldtypes,{name:this.field.type})},canBeLocalized:function(){return this.root&&Statamic.locales.length>1&&this.fieldtype.canBeLocalized},canBeValidated:function(){return this.fieldtype.canBeValidated},canHaveDefault:function(){return this.fieldtype.canHaveDefault}},ready:function(){var e=this;this.root=Boolean(this.root||!1),this.field.isNew&&(this.isNameModified=!1,delete this.field.isNew,this.$watch("field.display",function(e){this.isNameModified||(this.field.name=this.$slugify(e,"_"))})),_.each(this.fieldtypeConfig,function(t){if(void 0===e.field[t.name]){var n=t["default"]||null;Vue.set(e.field,t.name,n)}})}}},{"./field-settings.template.html":26}],26:[function(e,t,n){t.exports='<div>\n\n<div class="form-group">\n	<label>Display text</label>\n	<small class="help-block">The field\'s label</small>\n	<input type="text" class="form-control" v-model="field.display" />\n</div>\n\n<div class="form-group">\n	<label>Field name</label>\n	<small class="help-block">The field variable</small>\n	<input type="text" class="form-control" v-model="field.name" @keydown="isNameModified = true" :disabled="field.name === \'title\'"/>\n</div>\n\n<div class="row" v-if="field.name !== \'title\'">\n	<div class="form-group col-md-7">\n		<label class="block">Width</label>\n		<div class="select full" :data-content="selectedWidth">\n			<select v-model="field.width" number>\n				<option v-for="width in widths" :value="width.value" number>{{ width.text }}</option>\n			</select>\n		</div>\n	</div>\n\n	<div class="form-group col-md-5" v-if="canBeLocalized">\n		<label class="block">Localizable</label>\n		<toggle-fieldtype :data.sync="field.localizable"></toggle-fieldtype>\n	</div>\n</div>\n\n<div class="form-group markdown-fieldtype">\n	<label>Instructions</label>\n	<small class="help-block">Basic markdown is allowed</small>\n	<markdown-fieldtype :data.sync="field.instructions"></markdown-fieldtype>\n</div>\n\n<div class="form-group" v-if="canBeValidated">\n	<label>Validation Rules</label>\n	<small class="help-block">Enter a pipe delimited string of <a href="https://laravel.com/docs/5.1/validation#available-validation-rules" target="_blank">validation rules</a>.</small>\n	<input type="text" class="form-control" v-model="field.validate" />\n</div>\n\n<div class="form-group" v-if="canHaveDefault">\n	<label>Default Value</label>\n	<small class="help-block">Enter the default value, for string based fields.</small>\n	<input type="text" class="form-control" v-model="field.default" />\n</div>\n\n\n<div v-for="configField in fieldtypeConfig"\n     :class="configField.type + \'-fieldtype form-group\'">\n\n	<label class="block">{{ configField.display || configField.name }}</label>\n	<small class="help-block" v-if="configField.instructions" v-html="configField.instructions | markdown"></small>\n\n	<component :is="configField.type + \'-fieldtype\'"\n	           :name="$key"\n	           :data.sync="field[configField.name]"\n	           :config="configField"\n			   v-if="configField.name !== \'sets\' && configField.name !== \'fields\'">\n	</component>\n\n	<set-builder :sets.sync="field[configField.name]"\n	             :fieldtypes="fieldtypes"\n	             v-if="configField.name === \'sets\'">\n	</set-builder>\n\n	<fields-builder :fields.sync="field[configField.name]"\n	                :fieldtypes="fieldtypes"\n			        v-if="configField.name === \'fields\'">\n	</fields-builder>\n</div>\n\n</div>\n'},{}],27:[function(e,t,n){"use strict";t.exports={template:e("./fields-builder.template.html"),props:["data","config","name","fields","fieldtypes","root"],data:function(){return{selectedField:null}},computed:{hasFields:function(){return this.fields&&this.fields.length},selectedFieldConfig:function(){if(null===this.selectedField)return[];var e=this.fields[this.selectedField].type,t=_.findWhere(this.fieldtypes,{name:e});return t.config}},methods:{addField:function(e){var t=this.fields.length||0,n=t+1,i=_.findWhere(this.fieldtypes,{name:e}),s=$.extend({},i);s.type=s.name,s.name="field_"+n,s.display="Field "+n,s.instructions=null,s.isNew=!0,delete s.config,delete s.label,delete s.canBeValidated,delete s.canBeLocalized,delete s.canHaveDefault,"title"===s.type?(s.display=translate("cp.title"),s.name="title",this.fields.unshift(s),this.selectedField=0):(this.fields.push(s),this.selectedField=n-1)},selectField:function(e){this.selectedField=e,this.tab="edit"},deleteField:function(e){this.selectedField=null,this.fields.splice(e,1)},sortFields:function(e,t){this.fields.splice(t,0,this.fields.splice(e,1)[0]),this.ensureTitleIsFirst()},ensureTitleIsFirst:function(){var e=this,t=_.indexOf(e.fields,_.findWhere(e.fields,{name:"title"}));-1!==t&&"title"!==this.fields[0].name&&this.sortFields(t,0)}},ready:function(){this.fields=this.fields||[],this.root=Boolean(this.root||!1),this.ensureTitleIsFirst()}}},{"./fields-builder.template.html":28}],28:[function(e,t,n){t.exports='<div class="fields-builder">\n\n    <fieldset-fields v-show="hasFields"\n                     :fields.sync="fields"\n                     :fieldtypes="fieldtypes"\n                     :selected-field.sync="selectedField"\n                     :fieldtype-config="selectedFieldConfig"\n                     :on-select="selectField"\n                     :on-delete="deleteField"\n                     :on-sort="sortFields"\n                     :root="root">\n    </fieldset-fields>\n\n    <fieldtype-selector :fieldtypes="fieldtypes"\n                        :on-select="addField">\n    </fieldtype-selector>\n\n</div>\n'},{}],29:[function(e,t,n){"use strict";t.exports={template:e("./fieldset-fields.template.html"),props:["fields","fieldtypes","onSelect","selectedField","onSort","onDelete","fieldtypeConfig","root"],data:function(){return{showEditModal:!1}},computed:{canLocalize:function(){return this.root&&Statamic.locales.length>1}},methods:{selectField:function(e){this.selectedField=e,this.onSelect(e)},deselectField:function(){this.selectedField=null,this.onSelect(null)},deleteField:function(e){this.onDelete(e)},fieldtypeLabel:function(e){return _.findWhere(this.fieldtypes,{name:e}).label},enableSorting:function(){var e=this;$(this.$els.tbody).sortable({axis:"y",revert:175,placeholder:"placeholder",handle:".drag-handle",forcePlaceholderSize:!0,start:function(e,t){t.item.data("start",t.item.index())},update:function(t,n){var i=n.item.data("start"),s=n.item.index();e.onSort(i,s)}})}},watch:{selectedField:function(e){this.showEditModal=null!==e},showEditModal:function(e){e?$(this.$el).find(".modal-body").find("input").first().focus().select():this.deselectField()}},ready:function(){this.root=Boolean(this.root||!1),this.enableSorting()}}},{"./fieldset-fields.template.html":30}],30:[function(e,t,n){t.exports='<div>\n    <table class="fields-table bordered-table">\n        <thead>\n            <tr>\n                <th>Handle</th>\n                <th>Label</th>\n                <th>Type</th>\n                <th class="col-localizable" v-if="canLocalize"><i class="icon icon-globe"></i></th>\n                <th class="row-controls"></th>\n            </tr>\n        </thead>\n        <tbody v-el:tbody>\n            <tr v-for="field in fields">\n                <td class="col-handle"><input type="text" class="code" v-model="field.name" :disabled="field.name === \'title\'"/></td>\n                <td class="col-display"><input type="text" v-model="field.display" /></td>\n                <td>{{ fieldtypeLabel(field.type) }}</td>\n                <td class="col-localizable" v-if="canLocalize">\n                    <toggle-fieldtype :data="field.localizable"></toggle-fieldtype>\n                </td>\n                <td class="row-controls">\n                    <span class="icon icon-edit edit" @click="selectField($index)"></span>\n                    <span class="icon icon-menu move drag-handle" v-if="field.name !== \'title\'"></span>\n                    <span class="icon icon-cross delete" @click="deleteField($index)"></span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <modal :show.sync="showEditModal" class="markdown-modal">\n        <template slot="header">Edit Field</template>\n        <template slot="body">\n            <field-settings :field.sync="fields[selectedField]"\n                            :fieldtype-config="fieldtypeConfig"\n                            :fieldtypes="fieldtypes"\n                            :root="root">\n            </field-settings>\n        </template>\n    </modal>\n</div>\n'},{}],31:[function(e,t,n){"use strict";t.exports={template:e("./fieldtype-selector.template.html"),props:["fieldtypes","on-select"],data:function(){return{fieldtypeSelection:null}},computed:{fieldtypeSelectionText:function(){return _.findWhere(this.fieldtypesSelectOptions,{value:this.fieldtypeSelection}).text},fieldtypesSelectOptions:function(){var e=this.fieldtypes.map(function(e){return{text:e.label,value:e.name}});e.unshift({text:"Select a field to add",value:null});var t=this;if(_.findWhere(t.$parent.fields,{name:"title"})){var n=_.indexOf(e,_.findWhere(e,{value:"title"}));e[n].disabled=!0}return e}},methods:{addField:function(e){this.onSelect(this.fieldtypeSelection)}},ready:function(){}}},{"./fieldtype-selector.template.html":32}],32:[function(e,t,n){t.exports='<div class="fieldtype-selector">\n	<div class="select" :data-content="fieldtypeSelectionText">\n		<select v-model="fieldtypeSelection">\n            <option v-for="option in fieldtypesSelectOptions" :value="option.value" :disabled="option.disabled">{{ option.text }}</option>\n        </select>\n	</div>\n\n	<button type="button" class="btn btn-default" v-on:click="addField" :disabled="!fieldtypeSelection"><i class="icon icon-plus"></i></button>\n</div>'},{}],33:[function(e,t,n){"use strict";t.exports={template:e("./set-builder.template.html"),props:["sets","fieldtypes"],data:function(){return{selectedSet:null,showEditModal:!1}},methods:{fieldCount:function(e){return _.keys(e.fields).length},selectSet:function(e){this.selectedSet=e},deselectSet:function(){this.selectedSet=null},deleteSet:function(e){this.sets.splice(e,1),this.selectedSet=null},addSet:function(){var e=this.sets.length,t=e+1;this.sets.$set(e,{display:"Set "+t,name:"set_"+t,instructions:"",fields:[]}),this.selectedSet=e,this.$nextTick(function(){$(this.$el).find("input").first().focus().select()})},enableSorting:function(){var e=this;$(".sortable").sortable({axis:"y",revert:175,placeholder:"placeholder",handle:".drag-handle",forcePlaceholderSize:!0,start:function(e,t){t.item.data("start",t.item.index())},update:function(t,n){var i=n.item.data("start"),s=n.item.index();e.sets.splice(s,0,e.sets.splice(i,1)[0])}}).disableSelection()}},watch:{selectedSet:function(e){this.showEditModal=null!==e},showEditModal:function(e){e?$(this.$el).find(".modal-body").find("input").first().focus().select():this.deselectSet()}},ready:function(){this.enableSorting(),this.sets=this.sets||[]}}},{"./set-builder.template.html":34}],34:[function(e,t,n){t.exports='<div class="set-builder">\n\n    <div v-show="sets && sets.length">\n\n        <table class="fields-table bordered-table">\n            <thead>\n                <tr>\n                    <th>Handle</th>\n                    <th>Label</th>\n                    <th class="row-controls"></th>\n                </tr>\n            </thead>\n            <tbody v-el:tbody>\n                <tr v-for="set in sets">\n                    <td class="col-handle"><input type="text" class="code" v-model="set.name" /></td>\n                    <td class="col-display"><input type="text" v-model="set.display" /></td>\n                    <td class="row-controls">\n                        <span class="icon icon-edit edit" @click="selectSet($index)"></span>\n                        <span class="icon icon-menu move drag-handle"></span>\n                        <span class="icon icon-cross delete" @click="deleteSet($index)"></span>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n        <modal :show.sync="showEditModal">\n            <template slot="header">Edit Set</template>\n            <template slot="body">\n\n                <div class="form-group">\n                    <label>Display text</label>\n                    <small class="help-block">The field\'s label</small>\n                    <input type="text" class="form-control" v-model="sets[selectedSet].display" />\n                </div>\n\n                <div class="form-group">\n                    <label>Field name</label>\n                    <small class="help-block">The field variable</small>\n                    <input type="text" class="form-control" v-model="sets[selectedSet].name" />\n                </div>\n\n                <div class="form-group markdown-fieldtype">\n                    <label>Instructions</label>\n                    <small class="help-block">Basic markdown is allowed</small>\n                    <markdown-fieldtype :data.sync="sets[selectedSet].instructions"></markdown-fieldtype>\n                </div>\n\n                <div class="form-group markdown-fieldtype">\n                    <label>Fields</label>\n                    <small class="help-block">Choose this set\'s fields</small>\n                    <fields-builder :fields.sync="sets[selectedSet].fields"\n                                    :fieldtypes="fieldtypes">\n                    </fields-builder>\n                </div>\n\n            </template>\n        </modal>\n\n    </div>\n\n    <button type="button" class="btn btn-default" v-on:click="addSet">\n        <i class="icon icon-plus"></i> Add Set\n    </button>\n\n</div>\n';
},{}],35:[function(e,t,n){"use strict";t.exports={template:e("./array.template.html"),props:["name","data","config"],ready:function(){this.data=this.data||[],"keyed"===this.componentType&&(this.data=0===this.data.length?{}:this.data),"dynamic"===this.componentType&&this.initSortable()},computed:{componentType:function(){return this.config.keys?"keyed":"dynamic"},hasRows:function(){return this.data&&this.data.length>0},addRowButton:function(){return this.config.add_row||translate_choice("cp.add_row",1)},valueHeader:function(){return this.config.value_header||"Value"},textHeader:function(){return this.config.text_header||"Text"}},methods:{addRow:function(){this.data.push({value:"",text:""})},deleteRow:function(e){this.data.splice(e,1)},initSortable:function(){var e=this,t="";$(this.$els.tbody).sortable({axis:"y",revert:175,handle:".drag-handle",placeholder:"table-row-placeholder",forcePlaceholderSize:!0,start:function(e,n){t=n.item.index(),n.placeholder.height(n.item.height())},update:function(n,i){var s=i.item.index(),r=e.data.splice(t,1)[0];e.data.splice(s,0,r)}})}}}},{"./array.template.html":36}],36:[function(e,t,n){t.exports='<div class="array-fieldtype-container">\n\n    <div class=\'grid-field array-keyed\' v-if="componentType === \'keyed\'">\n        <table class="grid-table grid-mode-table headless">\n            <tbody>\n                <tr v-if="data" v-for="key in config.keys">\n                    <th>{{ key.text }}</th>\n                    <td>\n                        <input type="text" class="form-control" v-model="data[key.value]" />\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <template v-if="componentType === \'dynamic\'">\n        <div class="grid-field array-dynamic">\n            <table class="grid-table grid-mode-table" v-if="hasRows">\n                <thead>\n                    <tr>\n                        <th>{{ valueHeader }}</th>\n                        <th>{{ textHeader }}</th>\n                        <th class="row-controls"></th>\n                    </tr>\n                </thead>\n                <tbody v-el:tbody>\n                    <tr v-for="(rowIndex, row) in data">\n                        <td>\n                            <input type="text" class="form-control" v-model="row.value" />\n                        </td>\n                        <td>\n                            <input type="text" class="form-control" v-model="row.text" />\n                        </td>\n                        <td class="row-controls">\n                            <span class="icon icon-menu move drag-handle"></span>\n                            <span class="icon icon-cross delete" v-on:click="deleteRow(rowIndex)"></span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n\n            <button type="button" class="btn btn-default" @click="addRow">\n                {{ addRowButton }} <i class="icon icon-plus"></i>\n            </button>\n        </div>\n    </template>\n\n</div>\n'},{}],37:[function(e,t,n){"use strict";t.exports={template:e("./asset-container.template.html"),props:["data","config","name"],data:function(){return{loading:!0,options:{}}},computed:{selectConfig:function(){return{options:this.options}},allowBlank:function(){return this.config&&this.config.allow_blank}},ready:function(){this.$http.get(cp_url("assets/containers/get"),function(e){var t=this.allowBlank?[{value:null,text:""}]:[];_.each(e.items,function(e){t.push({value:e.id,text:e.title})}),this.options=t,this.loading=!1,this.data||(this.data=t[0].value)})}}},{"./asset-container.template.html":38}],38:[function(e,t,n){t.exports='<div>\n    <div v-if="loading" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <select-fieldtype v-if="!loading" :name="name" :data.sync="data" :config="selectConfig"></select-fieldtype>\n</div>\n'},{}],39:[function(e,t,n){"use strict";t.exports={template:e("./asset-folder.template.html"),props:["data","config","name"],data:function(){return{loading:!0,options:{},container:null}},computed:{selectConfig:function(){return{options:this.options}},allowBlank:function(){return!1},containerField:function(){return this.config.container||"container"}},methods:{getFolders:function(){this.$http.get(cp_url("assets/containers/"+this.container+"/folders"),function(e){var t=this.allowBlank?[{value:null,text:""}]:[];_.each(e,function(e,n){var i=e?e+" ("+n+")":n;t.push({value:n,text:i})}),this.options=t,this.loading=!1,this.data||(this.data=t[0].value)})}},ready:function(){var e=this;this.$parent.$watch("field",function(t){return t[e.containerField]===e.container?!1:void(t[e.containerField]?(e.loading=!0,e.container=t[e.containerField],e.getFolders()):(e.container=null,e.data=null))},{deep:!0}),this.$parent.field[this.containerField]&&(this.container=this.$parent.field[this.containerField],this.getFolders())}}},{"./asset-folder.template.html":40}],40:[function(e,t,n){t.exports='<div>\n    <small class="help-block" v-if="!container">Select an asset container.</small>\n\n    <div v-if="container && loading" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <select-fieldtype v-if="container && !loading" :name="name" :data.sync="data" :config="selectConfig"></select-fieldtype>\n</div>\n'},{}],41:[function(e,t,n){"use strict";t.exports={template:e("./assets.template.html"),components:{asset:e("../../assets/asset/asset"),selector:e("./selector")},props:["data","config","name"],data:function(){return{assets:[],assetQueue:[],loading:!0,expanded:!1,plugin:null,selector:!1,selectorViewMode:null,draggingFile:!1}},computed:{hasAssets:function(){return Boolean(this.assets.length)},container:function(){return this.config.container},folder:function(){return this.config.folder||"/"},maxFiles:function(){return this.config.max_files?this.config.max_files:0},maxFilesReached:function(){return 0===this.maxFiles?!1:this.assets.length>=this.maxFiles}},methods:{clone:function(e){return JSON.parse(JSON.stringify(e))},getAssets:function(){this.data&&this.data.length?this.$http.post(cp_url("assets/get"),{uuids:this.data},function(e){this.assets=e,this.loading=!1,this.$nextTick(function(){this.bindUploader();var e=this;_.each(this.assets,function(t,n){e.assetQueue.push(t)})})}):(this.loading=!1,this.$nextTick(function(){this.bindUploader()}))},openFinder:function(){$(this.$el).find("input.system-file-upload").click()},selectAsset:function(){this.selector=!0},bindUploader:function(){var e=this,t=$(this.$el).find(".asset-uploader-container");t.dmUploader({url:cp_url("assets"),extraData:{container:e.container,folder:e.folder},onNewFile:function(t,n){e.assetQueue.push({queueId:t,basename:n.name,extension:n.name.split(".").pop(),uploadPercent:0})},onBeforeUpload:function(t){if(e.selector)return!1;if(e.maxFilesReached){var n=_.findWhere(e.assetQueue,{queueId:t}),i=_.indexOf(e.assetQueue,n);return e.assetQueue.splice(i,1),!1}},onUploadProgress:function(t,n){var i=_.findWhere(e.assetQueue,{queueId:t});i.uploadPercent=n},onUploadSuccess:function(t,n){var i=_.findWhere(e.assetQueue,{queueId:t});Vue.set(i,"status","success"),Vue.set(i,"id",n.asset.id),Vue.set(i,"thumbnail",n.asset.thumbnail),Vue.set(i,"toenail",n.asset.toenail),Vue.set(i,"basename",n.asset.basename),Vue.set(i,"extension",n.asset.extension),e.assets.push(n.asset)},onUploadError:function(e,t){console.log(e,t)}}),e.plugin=t.data("dmUploader")}},events:{"asset.remove":function(e){var t=_.findWhere(this.assetQueue,{id:e.id}),n=_.indexOf(this.assetQueue,t);this.assetQueue.splice(n,1);var i=_.findWhere(this.assets,{id:e.id}),s=_.indexOf(this.assets,i);this.assets.splice(s,1)},"assets.selected":function(e){var t=this,n=_.pluck(e,"id"),i=_.difference(n,this.data),s=_.difference(this.data,n);_.each(i,function(n){if(!t.maxFilesReached){var i=_.findWhere(e,{id:n});t.assets.push(i),t.assetQueue.push({id:n,basename:i.basename,thumbnail:i.thumbnail,toenail:i.toenail})}}),_.each(s,function(e){var n=_.findWhere(t.assets,{id:e}),i=_.indexOf(t.assets,n);t.assets.splice(i,1);var s=_.findWhere(t.assetQueue,{id:e}),r=_.indexOf(t.assetQueue,s);t.assetQueue.splice(r,1)})}},ready:function(){this.selectorViewMode=Cookies.get("statamic.assets.listing_view_mode")||"grid",this.getAssets(),this.$watch("assetQueue",function(e){this.expanded=Boolean(e.length)}),this.$watch("assets",function(e){this.data=_.reject(_.pluck(this.assets,"id"),function(e){return!e})},{deep:!0})}}},{"../../assets/asset/asset":4,"./assets.template.html":42,"./selector":43}],42:[function(e,t,n){t.exports='<div class="assets-field-wrapper"\n    :class="{ \'being-dragging\': draggingFile && !selector }"\n    @dragover="draggingFile = true"\n    @dragleave="draggingFile = false"\n    @drop="draggingFile = false">\n\n    <div v-if="loading" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <div class="drag-notification" v-if="draggingFile && !selector">\n        <i class="icon icon-download"></i>\n        <h3>Drop to upload</h3>\n    </div>\n\n    <div class="asset-uploader-container" :class="{ \'max-files-reached\': maxFilesReached }" v-if="!loading">\n\n        <div class="manage-assets" v-else v-if="expanded && !maxFilesReached">\n            <button type="button" class="btn btn-with-icon" @click="selectAsset">\n                <span class="icon icon-folder-images"></span>\n                {{ translate(\'cp.browse_assets\') }}\n            </button>\n            <p>or <a href=\'\' @click.prevent="openFinder">upload</a> new file</p>\n        </div>\n\n        <div class="asset-uploader" v-if="expanded">\n            <div class="asset-listing grid">\n                <asset v-for="asset in assetQueue" :asset="asset"></asset>\n            </div>\n        </div>\n\n        <div class="empty-assets" v-if="! expanded">\n            <span class="icon icon-large icon-folder-images"></span>\n            <button type="button" class="btn btn-lg btn-white" @click="selectAsset">\n                {{ translate(\'cp.browse_assets\') }}\n            </button>\n            <p>or <a href=\'\' @click.prevent="openFinder">upload</a> new file</p>\n        </div>\n\n\n        <input type="file" multiple="multiple" class="system-file-upload hide">\n    </div>\n\n    <selector :container="container"\n              :folder="folder"\n              :selected="clone(assets)"\n              :show.sync="selector"\n              :view-mode="selectorViewMode">\n    </selector>\n</div>\n'},{}],43:[function(e,t,n){"use strict";t.exports={template:e("./selector.template.html"),props:{show:{type:Boolean,"default":!1,twoWay:!0},container:String,folder:String,selected:Array,viewMode:String},data:function(){return{loading:!0,showListing:!0}},methods:{select:function(){this.$dispatch("assets.selected",this.selected),this.close()},close:function(){this.show=!1}},ready:function(){this.$on("asset-listing.loading-complete",function(){this.loading=!1})},events:{"path.updated":function(e){this.showListing=!1,this.folder=e,this.$nextTick(function(){this.showListing=!0})}}}},{"./selector.template.html":44}],44:[function(e,t,n){t.exports='<div>\n    <modal :show.sync="show" :full="true">\n        <template slot="header">Asset Manager</template>\n\n        <template slot="body">\n            <asset-listing v-if="showListing"\n                           :container="container"\n                           :path="folder"\n                           :selected-assets.sync="selected"\n                           :mode="viewMode">\n            </asset-listing>\n        </template>\n\n        <template slot="footer">\n            <button type="button" class="btn" @click="close">{{ translate(\'cp.close\') }}</button>\n            <button type="button" class="btn btn-primary btn-small" @click="select">{{ translate(\'cp.select\') }}</button>\n        </template>\n    </modal>\n</div>\n'},{}],45:[function(e,t,n){"use strict";t.exports={template:e("./checkboxes.template.html"),props:["name","data","config"],ready:function(){"string"==typeof this.config&&(this.config=JSON.parse(this.config)),this.data||(this.data=[])}}},{"./checkboxes.template.html":46}],46:[function(e,t,n){t.exports='<ul>\n    <li v-for="option in config.options">\n\n        <input type="checkbox"\n               name="{{ name }}[]"\n               :id="name + \'-\' + $index"\n               :value="option.value"\n               v-model="data"\n		/>\n\n        <label :for="name + \'-\' + $index">{{ option.text }}</label>\n\n    </li>\n</ul>\n'},{}],47:[function(e,t,n){"use strict";t.exports={template:'<div class="collection-fieldtype"><relate-fieldtype :data.sync="data" :name="name" :config="config"></relate-fieldtype></div>',props:["data","config","name"]}},{}],48:[function(e,t,n){"use strict";t.exports={template:e("./date.template.html"),props:{name:String,data:{},config:{"default":function(){return{}}}},data:function(){return{time:null}},computed:{hasDate:function(){return this.blankAllowed?null!==this.data:!0},hasTime:function(){return this.data&&this.data.length>10},timeAllowed:function(){return this.config.allow_time!==!1},blankAllowed:function(){return this.config.allow_blank===!0}},methods:{dateString:function(){return this.data?this.data.substr(0,10):moment().format("YYYY-MM-DD")},updateDateString:function(e){var t=this.hasTime?" "+this.time:"";this.data=e+t},watchTime:function(){var e=this;this.$watch("time",function(t,n){null===t?e.data=e.dateString():e.data=e.dateString()+" "+t})},addTime:function(){this.time=moment().format("HH:mm"),this.$nextTick(function(){$(this.$refs.time.$els.hour).focus().select()})},removeTime:function(){this.time=null},addDate:function(){this.data=moment().format("YYYY-MM-DD"),this.$nextTick(function(){this.bindCalendar()})},removeDate:function(){this.data=null},bindCalendar:function(){var e=this,t=this.data?moment(e.dateString()):moment().format("YYYY-MM-DD");new Calendar({element:$(e.$el).find(".daterange"),current_date:moment(t),earliest_date:this.config.earliest_date||"January 1, 1900",callback:function(){var t=moment(this.current_date).format("YYYY-MM-DD");e.updateDateString(t)}})}},ready:function(){this.data&&(this.time=this.data.substr(11)),this.data||this.blankAllowed||(this.data=moment().format("YYYY-MM-DD")),this.watchTime(),this.bindCalendar()}}},{"./date.template.html":49}],49:[function(e,t,n){t.exports='<div class="datetime clearfix">\n\n	<button type="button" class="btn btn-default add-date" v-if="!hasDate" @click="addDate">\n		{{ translate(\'cp.add_date\') }}\n	</button>\n\n	<div v-if="hasDate" class="date-time-container">\n\n		<div class="col-date">\n			<div class="daterange daterange--single" :data-datetime="date">\n				<span class="icon icon-calendar"></span>\n				<span class="icon icon-remove" @click="removeDate" v-if="blankAllowed">&times;</span>\n			</div>\n		</div>\n		<div class="col-time">\n			<div class="time-fieldtype" v-if="timeAllowed">\n				<time-fieldtype v-ref:time v-show="hasTime" :data.sync="time"></time-fieldtype>\n				<button type="button" class="btn btn-default btn-icon add-time" v-show="!hasTime" @click="addTime">\n					<span class="icon icon-clock"></span>\n				</button>\n			</div>\n		</div>\n\n	</div>\n\n</div>\n'},{}],50:[function(e,t,n){"use strict";t.exports={template:e("./fieldset.template.html"),props:{data:{},config:{},name:{},required:Boolean,hidden:{type:Boolean,"default":function(){return!0}},url:String},data:function(){return{loading:!0,options:{}}},computed:{selectConfig:function(){return{options:this.options}}},ready:function(){var e=cp_url("fieldsets/get"),t={};this.url&&(t.url=this.url),this.hidden||(t.hidden=!1),e+="?"+$.param(t),this.$http.get(e,function(e){var t=this.required?[]:[{value:null,text:""}];_.each(e.items,function(e){t.push({value:e.uuid,text:e.title})}),this.options=t,this.loading=!1,this.required&&!this.data&&(this.data=this.options[0].value)})}}},{"./fieldset.template.html":51}],51:[function(e,t,n){arguments[4][38][0].apply(n,arguments)},{dup:38}],52:[function(e,t,n){"use strict";window.Vue;t.exports={template:e("./grid.template.html"),props:["name","data","config"],data:function(){return{blank:{},sortableOptions:{},min_rows:this.config.min_rows||0,max_rows:this.config.max_rows||!1}},computed:{stacked:function(){return"stacked"===this.config.mode||this.$root.isPreviewing},hasData:function(){return this.data&&this.data.length},isNested:function(){return"grid-fieldtype"===this.$parent.$options.name},canAddRows:function(){return this.max_rows&&this.data?this.data.length<this.max_rows:!0},addRowButton:function(){return this.config.add_row||translate_choice("cp.add_row",1)}},ready:function(){if(this.data||(this.data=[]),this.prepareBlankRow(),this.min_rows)for(var e=this.min_rows-this.data.length,t=1;e>=t;t++)this.addRow();this.initSortable(),this.$watch("stacked",function(){this.initSortable()})},methods:{prepareBlankRow:function(){var e={},t=JSON.parse(JSON.stringify(this.config.fields));_.each(t,function(t){e[t.name]=t["default"]||Statamic.fieldtypeDefaults[t.type]||null}),this.blank=e},addRow:function(){var e=_.clone(this.blank);this.data.push(e),this.$nextTick(function(){this.getSortable().sortable(this.getSortableOptions())})},deleteRow:function(e){var t=this;swal({type:"warning",title:translate("cp.are_you_sure"),confirmButtonText:translate("cp.yes_im_sure"),cancelButtonText:translate("cp.cancel"),showCancelButton:!0},function(){t.data.splice(e,1)})},isExcessive:function(e){return this.max_rows?e+1>this.max_rows:!1},initSortable:function(){this.getSortable().sortable(this.getSortableOptions())},getSortable:function(){return this.stacked?$(this.$el).find(".grid-stacked"):$(this.$el).find("tbody")},getSortableOptions:function(){var e=this,t="";if(this.stacked)var n="stacked-placeholder";else var n="table-row-placeholder";return{axis:"y",revert:175,handle:".drag-handle",placeholder:n,forcePlaceholderSize:!0,start:function(e,n){t=n.item.index(),n.placeholder.height(n.item.height())},update:function(n,i){var s=i.item.index(),r=e.data.splice(t,1)[0];e.data.splice(s,0,r)}}},colClass:function(e){return this.$root.isPreviewing?"col-md-12":(e=e||100,"col-md-"+Math.round(e/8.333))},gridColWidth:function(e){return 100===e?"":e+"%"}}}},{"./grid.template.html":53}],53:[function(e,t,n){t.exports='<div class="grid-field grid-mode-{{ (stacked) ? \'stacked\' : \'table\' }}">\n	<table v-if="hasData && !stacked" class="grid-table bordered-table">\n		<thead>\n			<tr>\n				<th v-for="field in config.fields" :style="{ width: gridColWidth(field.width) }">\n					<label class="block">\n						<template v-if="field.display">{{ field.display }}</template>\n						<template v-if="!field.display">{{ field.name | capitalize }}</template>\n						<i class="required" v-if="field.required">*</i>\n					</label>\n\n					<small class="help-block" v-if="field.instructions" v-html="field.instructions | markdown"></small>\n				</th>\n                <th class="row-controls"></th>\n			</tr>\n		</thead>\n		<tbody>\n			<tr v-for="(rowIndex, row) in data" :class="{excess: isExcessive(rowIndex)}">\n				<td v-for="field in config.fields">\n					<div class="{{ field.type }}-fieldtype">\n						<component :is="field.type + \'-fieldtype\'"\n						           :name="name + \'.\' + rowIndex + \'.\' + field.name"\n						           :data.sync="row[field.name]"\n						           :config="field">\n						</component>\n					</div>\n				</td>\n                <td class="row-controls">\n                    <span class="icon icon-menu move drag-handle"></span>\n                    <span class="icon icon-cross delete" v-on:click="deleteRow(rowIndex)"></span>\n                </td>\n			</tr>\n		</tbody>\n	</table>\n\n	<div v-if="hasData && stacked" class="grid-stacked">\n		<div class="list-group" v-for="row in data">\n			<div class="list-group-item group-header">\n				<div class="btn-group icon-group pull-right">\n                    <i class="icon icon-cross" v-on:click="deleteRow($index)"></i>\n                    <i class="icon icon-menu drag-handle"></i>\n				</div>\n				<label>{{ $index + 1 }}</label>\n			</div>\n			<div class="list-group-item">\n				<div class="row">\n					<div v-for="field in config.fields" class="{{ colClass(field.width )}}">\n						<div class="form-group {{ field.type }}-fieldtype">\n							<label class="block">\n								<template v-if="field.display">{{ field.display }}</template>\n								<template v-if="!field.display">{{ field.name | capitalize }}</template>\n								<i class="required" v-if="field.required">*</i>\n							</label>\n\n							<small class="help-block" v-if="field.instructions" v-html="field.instructions | markdown"></small>\n\n							<component :is="field.type + \'-fieldtype\'"\n							           :name="field.name"\n							           :data.sync="row[field.name]"\n							           :config="field">\n							</component>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n\n	<template v-if="canAddRows">\n		<button type="button" class="btn btn-default add-row" @click="addRow">\n			{{ addRowButton }}\n		</button>\n	</template>\n</div>\n'},{}],54:[function(e,t,n){"use strict";t.exports={props:["data","config","name"],template:'<input type="hidden" :name="name" v-model="data" />'}},{}],55:[function(e,t,n){"use strict";t.exports={template:e("./list.template.html"),props:["name","data","config"],data:function(){return{newItem:"",editing:null}},methods:{addItem:function(){""!==this.newItem&&(this.data.push(this.newItem),this.newItem="",this.editing=this.data.length)},editItem:function(e){event.preventDefault(),this.editing=e,this.$nextTick(function(){$(this.$el).find(".editing input").focus().select()})},goUp:function(){this.editing>0&&(this.editing=this.editing-1,this.$nextTick(function(){$(this.$el).find(".editing input").focus().select()}))},goDown:function(){this.editing===this.data.length-1?(this.editing=this.data.length,$(this.$el).find(".new-item").focus()):(this.editing=this.editing+1,this.$nextTick(function(){$(this.$el).find(".editing input").focus().select()}))},updateItem:function(e,t,n){n.preventDefault(),""==e?this.data.$remove(t):this.data[t]=e,this.editing=this.data.length,$(this.$el).find(".new-item").focus()},deleteItem:function(e){this.data.$remove(e)}},ready:function(){var e=this,t="";this.data||(this.data=[]),$(this.$el).sortable({axis:"y",revert:175,items:"> li:not(:last-child)",start:function(e,n){t=n.item.index()},update:function(n,i){var s=i.item.index(),r=e.data.splice(t,1)[0];e.data.splice(s,0,r)}})}}},{"./list.template.html":56}],56:[function(e,t,n){t.exports='<ul>\n	<li v-for="item in data" track-by="$index" :class="{ editing: (editing == $index) }">\n\n		<span v-if="editing == $index">\n			<input\n				type="text"\n				v-model="item"\n				class="form-control"\n				@keydown.enter="updateItem(item, $index, $event)"\n				@keyup.up="goUp"\n				@keyup.down="goDown"\n			/>\n		</span>\n\n		<span v-if="editing != $index" @dblclick="editItem($index, $event)">\n		    {{ item }}\n			<i class="delete" @click="deleteItem(item)"></i>\n		</span>\n	</li>\n	<li>\n		<input type="text" class="form-control new-item" v-model="newItem"\n		       @keydown.enter.prevent="addItem"\n			   @keyup.up="goUp"\n		/>\n	</li>\n</ul>\n'},{}],57:[function(e,t,n){"use strict";t.exports={template:e("./locale-settings.template.html"),props:["data","config","name"],data:function(){return{gridConfig:{add_row:"Add Locale",fields:[{name:"locale",type:"text",display:"Shorthand",instructions:"2 character code.<br> `en`, `de`, etc.",width:"20%"},{name:"full",type:"text",display:"Full Locale",instructions:"Used for PHP date localization.<br>`en_US`, `de_DE`, etc.",width:"20%"},{name:"name",type:"text",display:"Name",instructions:"Used for display.<br> `English`, `German`, etc",width:"20%"},{name:"url",type:"text",display:"URL",instructions:"`http://example.com/de/`, etc."}]}}}}},{"./locale-settings.template.html":58}],58:[function(e,t,n){t.exports='<div class="locale-settings-container">\n\n    <grid-fieldtype :data="data" :config="gridConfig"></grid-fieldtype>\n\n</div>'},{}],59:[function(e,t,n){"use strict";var i=e("codemirror");e("codemirror/mode/markdown/markdown"),t.exports={template:e("./markdown.template.html"),components:{selector:e("../assets/selector")},props:["data","name","config"],data:function(){return{mode:"write",selections:null,assetSelector:!1,selectedAssets:[],draggingFile:!1,showCheatsheet:!1,codemirror:null}},methods:{getText:function(e){var t=_.indexOf(this.selections,e);return this.codemirror.getSelections()[t]},insertImage:function(e,t){var n=this.codemirror.doc,i="";n.somethingSelected()?i=n.getSelection():t&&(i=t);var e=e||"",s="!["+i+"]("+e+")";n.replaceSelection(s,"start");var r=n.getCursor().line,o=n.getCursor().ch+2,a=o+i.length;n.setSelection({line:r,ch:o},{line:r,ch:a}),this.codemirror.focus()},appendImage:function(e,t){t=t||"",this.data+="\n\n!["+t+"]("+e+")"},insertLink:function(e,t){var n=this.codemirror.doc,i="";n.somethingSelected()?i=n.getSelection():t&&(i=t),e||(e=prompt("Enter URL","http://"),e||(e=""));var s="["+i+"]("+e+")";n.replaceSelection(s,"start");var r=n.getCursor().line,o=n.getCursor().ch+1,a=o+i.length;n.setSelection({line:r,ch:o},{line:r,ch:a}),this.codemirror.focus()},appendLink:function(e,t){t=t||"",this.data+="\n\n["+t+"]("+e+")"},bold:function(){var e=this,t=[];_.each(e.selections,function(n,i){var s=e.isBold(n)?e.removeBold(n):e.makeBold(n);t.push(s)}),this.codemirror.replaceSelections(t,"around"),this.codemirror.focus()},isBold:function(e){return this.getText(e).match(/^\*{2}(.*)\*{2}$/)},makeBold:function(e){return"**"+this.getText(e)+"**"},removeBold:function(e){var t=this.getText(e);return t.substring(2,t.length-2)},italic:function(){var e=this,t=[];_.each(e.selections,function(n,i){var s=e.isItalic(n)?e.removeItalic(n):e.makeItalic(n);t.push(s)}),this.codemirror.replaceSelections(t,"around"),this.codemirror.focus()},isItalic:function(e){return this.getText(e).match(/^\_(.*)\_$/)},makeItalic:function(e){return"_"+this.getText(e)+"_"},removeItalic:function(e){var t=this.getText(e);return t.substring(1,t.length-1)},bindUploader:function(){var e=this,t=$(this.$els.writer);t.dmUploader({url:cp_url("assets"),extraData:{container:e.container,folder:e.folder},onUploadSuccess:function(t,n){n.asset.is_image?e.appendImage(n.asset.url):e.appendLink(n.asset.url)},onUploadError:function(e,t){}}),e.plugin=t.data("dmUploader")},addAsset:function(){this.assetSelector=!0},shortcut:function(e){var t=e.keyCode,n=e.metaKey===!0;n&&66===t&&(this.bold(),e.preventDefault()),n&&73===t&&(this.italic(),e.preventDefault()),n&&75===t&&(this.insertLink(),e.preventDefault())}},computed:{assetsEnabled:function(){return this.config&&this.config.container},container:function(){return this.config.container},folder:function(){return this.config.folder||"/"},cheatsheet:function(){return this.config&&this.config.cheatsheet}},events:{"assets.selected":function(e){var t=this,n=1===e.length?"insert":"append";_.each(e,function(e){var i=e.alt||"";e.is_image?t[n+"Image"](e.url,i):t[n+"Link"](e.url,i)}),this.selectedAssets=[]}},ready:function(){this.assetsEnabled&&this.bindUploader();var e=this;e.codemirror=i(this.$els.codemirror,{value:e.data||"",mode:"markdown",dragDrop:!1,lineWrapping:!0,viewportMargin:1/0}),e.codemirror.on("change",function(t){e.data=t.doc.getValue()}),e.codemirror.on("beforeSelectionChange",function(t,n){e.selections=n.ranges}),this.$watch("data",function(t){t!==e.codemirror.doc.getValue()&&e.codemirror.doc.setValue(t)})}}},{"../assets/selector":43,"./markdown.template.html":60,codemirror:174,"codemirror/mode/markdown/markdown":175}],60:[function(e,t,n){t.exports='<div class="markdown-wrap">\n\n    <div class="markdown-toolbar clearfix">\n        <ul class="markdown-modes">\n            <li :class="{ \'active\': mode == \'write\' }">\n                <a href="" @click.prevent="mode = \'write\'">Write</a>\n            </li>\n            <li :class="{ \'active\': mode == \'preview\' }">\n                <a href="" @click.prevent="mode = \'preview\'">Preview</a>\n            </li>\n        </ul>\n\n        <ul class="markdown-buttons">\n            <li><a href="" @click.prevent="bold"><b>B</b></a></li>\n            <li><a href="" @click.prevent="italic"><i>i</i></a></li>\n            <li><a href="" @click.prevent="insertLink(\'\')">\n                <span class="icon icon-link"></span>\n            </a></li>\n            <li><a href="" @click.prevent="insertImage(\'\')">\n                <span class="icon icon-image"></span>\n            </a></li>\n        </ul>\n    </div>\n\n    <div class="mode-wrap mode-{{ mode }}">\n        <div class="markdown-writer"\n             v-el:writer\n             v-show="mode == \'write\'"\n             @dragover="draggingFile = true"\n             @dragleave="draggingFile = false"\n             @drop="draggingFile = false"\n             @keydown="shortcut"\n        >\n            <div class="editor" v-el:codemirror></div>\n\n            <div class="markdown-cheatsheet-helper" v-if="cheatsheet">\n                <a href="" @click.prevent="showCheatsheet = true">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="208" height="128" viewBox="0 0 208 128"><mask id="a"><rect width="100%" height="100%" fill="#fff"/><path d="M30 98v-68h20l20 25 20-25h20v68h-20v-39l-20 25-20-25v39zM155 98l-30-33h20v-35h20v35h20z"/></mask><rect width="100%" height="100%" ry="15" mask="url(#a)"/></svg>\n                    Markdown Cheatsheet\n                </a>\n            </div>\n\n            <div class="markdown-asset-helper" v-if="assetsEnabled">\n                <a href="" @click.prevent="addAsset"><span class="icon icon-image"></span> Add Asset</a> (or drag &amp; drop)\n            </div>\n\n            <div class="drag-notification" v-if="assetsEnabled && draggingFile">\n                <i class="icon icon-download"></i>\n                <h3>Drop to upload</h3>\n            </div>\n        </div>\n\n        <div v-show="mode == \'preview\'" v-html="data || \'\' | markdown" class="markdown-preview"></div>\n    </div>\n\n    <selector v-if="assetsEnabled" :container="container" :folder="folder" :selected="selectedAssets" :show.sync="assetSelector"></selector>\n\n    <modal :show.sync="showCheatsheet" class="markdown-modal">\n        <template slot="header">Markdown Cheatsheet</template>\n        <template slot="body">\n            {{{ translate(\'markdown.cheatsheet\') }}}\n        </template>\n    </modal>\n\n\n</div>\n'},{}],61:[function(e,t,n){"use strict";t.exports={template:'<div class="pages-fieldtype"><relate-fieldtype :data.sync="data" :name="name" :config="config"></relate-fieldtype></div>',props:["data","config","name"]}},{}],62:[function(e,t,n){"use strict";t.exports={template:e("./radio.template.html"),props:["name","data","config"]}},{"./radio.template.html":63}],63:[function(e,t,n){t.exports='<ul class="list-unstyled">\n    <li v-for="option in config.options">\n\n        <input type="radio"\n               v-model="data"\n               :value="option.value"\n               :id="name + \'-\' + $index" />\n\n        <label :for="name + \'-\' + $index">{{ option.text }}</label>\n\n    </li>\n</ul>'},{}],64:[function(e,t,n){"use strict";t.exports={template:e("./redactor.template.html"),components:{selector:e("../assets/selector")},props:["data","name","config"],data:function(){return{mode:"write",assetSelector:!1,selectedAssets:[]}},methods:{update:function(e){this.data=e},addAsset:function(){this.assetSelector=!0},insertLink:function(e,t){""===t&&(t=prompt("Enter link text")),$(this.$els.redactor).redactor("insert.html",'<a href="'+e+'">'+t+"</a>")},insertImage:function(e,t){$(this.$els.redactor).redactor("insert.html",'<img src="'+e+'" alt="'+t+'" />');
},appendImage:function(e,t){var n=$(this.$els.redactor),i=n.redactor("code.get");n.redactor("code.set",i+'<img src="'+e+'" alt="'+t+'" />')}},computed:{assetsEnabled:function(){return this.config&&"undefined"!=typeof this.config.container},container:function(){return this.config.container},folder:function(){return this.config.folder||"/"}},events:{"assets.selected":function(e){var t=this,n=$(t.$els.redactor);if(1===e.length){var i=e[0],s=n.redactor("selection.getHtml"),r=i.alt||"";s=""!==s?s:r,i.is_image?t.insertImage(i.url,s):t.insertLink(i.url,s)}else{var o=n.redactor("code.get");_.each(e,function(e){var t=e.url,n=e.alt||"";e.is_image?o+='<img src="'+t+'" alt="'+n+'" />':(""===n&&(n=prompt("Enter link text.")),o+='<a href="'+t+'">'+n+"</a>")}),n.redactor("code.set",o)}this.selectedAssets=[]}},ready:function(){var e=this,t={changeCallback:function(){e.update(this.code.get())}};if(this.config.settings&&"string"!=typeof this.config.settings&&console.warn("Redactor Fieldtype: You must reference the settings name instead of adding them inline."),_.has(Statamic.redactorSettings,this.config.settings))var n=Statamic.redactorSettings[this.config.settings];else var n=Statamic.redactorSettings[_.first(_.keys(Statamic.redactorSettings))];var i=_.extend(t,n);i.plugins=i.plugins||[],this.assetsEnabled&&i.plugins.push("assets"),$(this.$els.redactor).redactor(i)}}},{"../assets/selector":43,"./redactor.template.html":65}],65:[function(e,t,n){t.exports='<div class="redactor-wrapper">\n    <textarea v-el:redactor :name="name" v-model="data"></textarea>\n\n    <selector v-if="assetsEnabled" :container="container" :folder="folder" :selected="selectedAssets" :show.sync="assetSelector"></selector>\n</div>\n'},{}],66:[function(e,t,n){"use strict";t.exports={template:'\n        <div>\n            <select-fieldtype :name="name" :data.sync="data" :config="selectConfig"></select-fieldtype>\n        </div>\n    ',props:["data","name","config"],computed:{selectConfig:function(){var e=[{value:null,text:""}];return _.each(Statamic.redactorSettings,function(t,n){e.push({value:n,text:n})}),{options:e}}}}},{}],67:[function(e,t,n){"use strict";t.exports={template:e("./relate.template.html"),props:["data","config","name","suggestionsProp"],data:function(){return{loading:!0,suggestions:[],search:null,active:-1}},computed:{availableSuggestions:function(){var e=this;return _.reject(e.suggestions,function(t){var n=_.contains(e.data,t.value),i=!0;return e.search&&(i=-1!==t.text.toLowerCase().indexOf(e.search.toLowerCase())),n||!i})},selected:function(){var e=this;return _.map(e.data,function(t){return _.findWhere(e.suggestions,{value:t})})},suggestFieldSuggestions:function(){var e=this.suggestions;return e.unshift({value:null,text:""}),e},suggestFieldConfig:function(){return{max_items:1}},suggestFieldData:{get:function(){return[this.data]},set:function(e){this.data=e?e[0]:null}},single:function(){return 1===this.maxItems},maxItems:function(){return this.config.max_items},maxSelected:function(){return this.maxItems?this.data.length>=this.config.max_items:!1}},methods:{getSuggestions:function(){this.suggestionsProp?(this.suggestions=this.suggestionsProp,this.removeInvalidData(),this.loading=!1,this.$nextTick(function(){this.initSortable()})):this.$http.post(cp_url("addons/suggest/suggestions"),this.config,function(e){this.suggestions=e,this.removeInvalidData(),this.loading=!1,this.$nextTick(function(){this.initSortable()})})},initSortable:function(){var e=this;e.getSortable().sortable({axis:"y",placeholder:"item-placeholder",forcePlaceholderSize:!0,revert:175,start:function(e,t){t.item.data("start",t.item.index())},update:function(t,n){var i=n.item.data("start"),s=n.item.index();e.data.splice(s,0,e.data.splice(i,1)[0])}})},getSortable:function(){return $(this.$el).find(".pane-selections .relate-items")},select:function(e){this.maxSelected||this.data.push(e.value)},remove:function(e){var t=_.indexOf(this.data,e.value);this.data.splice(t,1)},goUp:function(){this.active--,this.active<0&&(this.active=0)},goDown:function(){this.active++,this.active>=this.availableSuggestions.length-1&&(this.active=this.availableSuggestions.length-1)},selectActive:function(){var e=this.availableSuggestions[this.active];this.select(e),this.active>=this.availableSuggestions.length&&(this.active=this.availableSuggestions.length-1)},createItem:function(){console.log("creating item")},removeInvalidData:function(){var e=this;e.single?_.findWhere(e.suggestions,{value:e.data})||(e.data=null):e.data=_.filter(e.data,function(t){return _.findWhere(e.suggestions,{value:t})})}},ready:function(){this.data||(this.data=[]),this.getSuggestions(),this.$watch("suggestionsProp",function(e){this.suggestions=e}),this.$watch("search",function(){this.availableSuggestions.length<=this.active&&(this.active=this.availableSuggestions.length-1)}),this.$watch("data",function(){this.$nextTick(function(){this.getSortable().sortable("refresh")})})}}},{"./relate.template.html":68}],68:[function(e,t,n){t.exports='<div class="relate-fieldtype">\n\n    <div v-if="loading" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <template v-if="!loading && single">\n\n        <suggest-fieldtype :suggestions-prop="suggestFieldSuggestions"\n                           :config="suggestFieldConfig"\n                           :data.sync="suggestFieldData">\n       </suggest-fieldtype>\n\n    </template>\n\n    <template v-if="!loading && (!maxItems || maxItems > 1)">\n\n        <button type="button" class="btn btn-default relate-create" @click="createItem">\n            {{ translate(\'cp.create\') }} <i class="icon icon-plus"></i>\n        </button>\n\n        <div class="relate-panes clearfix" :class="{ \'max-selected\': maxSelected }">\n\n            <div class="relate-pane pane-suggestions">\n                <div class="pane-header">\n                      <input type="text"\n                             class="form-control relate-search"\n                             placeholder="Filter"\n                             v-model="search"\n                             @keydown.enter="selectActive"\n                             @keyup.up="goUp"\n                             @keyup.down="goDown"\n                      />\n                </div>\n                <div class="relate-items">\n                    <div class="item"\n                       v-for="item in availableSuggestions"\n                       :class="{ \'active\': $index === active }"\n                       @click.prevent="select(item)"\n                    >\n                        {{{ item.text }}}\n                        <span class="icon icon-chevron-right"></span>\n                    </div>\n                </div>\n            </div>\n\n            <div class="relate-pane pane-selections">\n                <div class="pane-header">Selected</div>\n                <div class="relate-items">\n                    <div class="item" v-for="item in selected">\n                        <span class="item-remove" @click.prevent="remove(item)">&times;</span>\n                        {{{ item.text }}}\n                    </div>\n                </div>\n            </div>\n\n        </div>\n\n        <input type="hidden" :name="name" :value="data | json" />\n\n    </template>\n\n</div>\n'},{}],69:[function(e,t,n){"use strict";var i=window.Vue;t.exports={template:e("./replicator.template.html"),props:["name","data","config"],data:function(){return{blank:{},sortableOptions:{}}},computed:{hasData:function(){return null!==this.data&&this.data.length}},ready:function(){this.data||(this.data=[]),this.sortable()},methods:{sortable:function(){var e=this,t="";$(this.$el).find(".replicator-sets").sortable({axis:"y",revert:175,placeholder:"stacked-placeholder",handle:".drag-handle",forcePlaceholderSize:!0,start:function(e,n){t=n.item.index(),n.placeholder.height(n.item.height())},update:function(n,i){var s=i.item.index(),r=JSON.parse(JSON.stringify(e.data));r.splice(s,0,r.splice(t,1)[0]),e.data=r}})},setConfig:function(e){return _.findWhere(this.config.sets,{name:e})},deleteSet:function(e){var t=this;swal({type:"warning",title:translate("cp.are_you_sure"),confirmButtonText:translate("cp.yes_im_sure"),cancelButtonText:translate("cp.cancel"),showCancelButton:!0},function(){t.data.splice(e.$index,1)})},addSet:function(e){var t={type:e},n=this.setConfig(e);_.each(n.fields,function(e){t[e.name]=e["default"]||Statamic.fieldtypeDefaults[e.type]||null});var i=this.data.length;this.data.$set(i,t),this.sortable()},toggle:function(e){var t=e["#hidden"]||!1;i.set(e,"#hidden",!t)},isHidden:function(e){return e["#hidden"]},colClass:function(e){return this.$root.isPreviewing?"col-md-12":(e=e||100,"col-md-"+Math.round(e/8.333))}}}},{"./replicator.template.html":70}],70:[function(e,t,n){t.exports='<div class="replicator-field">\n\n    <div class="replicator-sets">\n        <div class="list-group" v-for="(setIndex, set) in data">\n            <div class="list-group-item group-header">\n                <div class="btn-group icon-group pull-right">\n                    <!-- <i class="icon icon-cog"></i> -->\n                    <i class="icon" :class="{ \'icon-triangle-down\': !isHidden(set), \'icon-triangle-up\': isHidden(set) }" v-on:click="toggle(set)"></i>\n                    <i class="icon icon-cross" v-on:click="deleteSet(this)"></i>\n                    <i class="icon icon-menu drag-handle"></i>\n                </div>\n                <label>{{ setConfig(set.type).display || set.type }}</label>\n                <small class="help-block" v-if="setConfig(set.type).instructions" v-html="setConfig(set.type).instructions | markdown"></small>\n            </div>\n            <div class="list-group-item" v-if="!isHidden(set)">\n                <div class="row">\n                    <div v-for="field in setConfig(set.type).fields" class="{{ colClass(field.width) }}">\n                        <div class="form-group {{ field.type }}-fieldtype">\n                            <label class="block">\n                                <template v-if="field.display">{{ field.display }}</template>\n                                <template v-if="!field.display">{{ field.name | capitalize }}</template>\n                                <i class="required" v-if="field.required">*</i>\n                            </label>\n\n                            <small class="help-block" v-if="field.instructions" v-html="field.instructions | markdown"></small>\n\n                            <component :is="field.type + \'-fieldtype\'"\n                                       :name="name + \'.\' + setIndex + \'.\' + field.name"\n                                       :data.sync="set[field.name]"\n                                       :config="field">\n                            </component>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="btn-group">\n        <button type="button" class="btn btn-default" v-for="set in config.sets" v-on:click="addSet(set.name)">\n			{{ set.display || set.name }}<i class="icon icon-plus icon-right"></i>\n        </button>\n    </div>\n</div>\n'},{}],71:[function(e,t,n){"use strict";t.exports={template:"<template></template>",props:["name","data","config"]}},{}],72:[function(e,t,n){"use strict";t.exports={props:["name","data","config","options"],template:e("./select.template.html"),data:function(){return{keyed:!1,selectOptions:[]}},ready:function(){this.options?this.selectOptions=this.options:this.selectOptions=this.config.options},computed:{label:function(){var e=_.findWhere(this.selectOptions,{value:this.data});return e?e.text:this.data}}}},{"./select.template.html":73}],73:[function(e,t,n){t.exports='<div class="select select-full" :data-content="label">\n	<select :name="name" v-model="data">\n		<option v-for="option in selectOptions" :value="option.value">{{ option.text }}</option>\n	</select>\n</div>'},{}],74:[function(e,t,n){"use strict";t.exports={template:e("./status.template.html"),props:["selected","translations"],data:function(){return{options:[{text:"Live",value:"live"},{text:"Hidden",value:"hidden"},{text:"Draft",value:"draft"}]}}}},{"./status.template.html":75}],75:[function(e,t,n){t.exports='<div class="select select-full" data-content="{{ selected | capitalize }}">\n	<span class="status status-{{ selected }}"></span>\n	<select name="status" v-model="selected" options="options"></select>\n</div>'},{}],76:[function(e,t,n){"use strict";t.exports={template:e("./suggest.template.html"),props:["data","name","config","suggestionsProp"],data:function(){return{loading:!0,suggestions:[]}},methods:{getSuggestions:function(){this.suggestionsProp?(this.suggestions=this.suggestionsProp,this.loading=!1,this.$nextTick(function(){this.initSelectize()})):this.$http.post(cp_url("addons/suggest/suggestions"),this.config,function(e){this.suggestions=e,this.loading=!1,this.$nextTick(function(){this.initSelectize()})})},initSelectize:function(){var e=this;$(this.$el).find("select").selectize({options:this.suggestions,items:this.data,create:this.config.create||!1,maxItems:this.config.max_items,placeholder:this.config.placeholder,plugins:["drag_drop","remove_button"],onChange:function(t){e.data=t}})}},ready:function(){this.getSuggestions()}}},{"./suggest.template.html":77}],77:[function(e,t,n){t.exports='<div>\n\n    <div v-if="loading" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <select v-if="!loading"\n            :name="name"\n            placeholder="Please select"\n            :multiple="true">\n    </select>\n\n</div>\n'},{}],78:[function(e,t,n){"use strict";t.exports={template:e("./table.template.html"),props:["name","data","config"],data:function(){return{max_rows:this.config.max_rows||null,max_columns:this.config.max_columns||null}},computed:{columnCount:function(){return this.data&&this.data[0]?this.data[0].cells.length:0},rowCount:function(){return this.data&&this.data.length?this.data.length:0},canAddRows:function(){return this.max_rows?this.rowCount<this.max_rows:!0},canAddColumns:function(){return this.rowCount||this.columnCount?this.max_columns?this.columnCount<this.max_columns:!0:!1}},methods:{addRow:function(){var e=0===this.columnCount?1:this.columnCount;this.data.push({cells:new Array(e)})},addColumn:function(){for(var e=this.data.length,t=0;e>t;t++)this.data[t].cells.push("")},deleteRow:function(e){var t=this;swal({type:"warning",title:translate("cp.are_you_sure"),confirmButtonText:translate("cp.yes_im_sure"),cancelButtonText:translate("cp.cancel"),showCancelButton:!0},function(){t.data.splice(e,1)})},deleteColumn:function(e){var t=this;swal({type:"warning",title:translate("cp.are_you_sure"),text:translate("cp.confirm_delete_item"),confirmButtonText:translate("cp.yes_im_sure"),cancelButtonText:translate("cp.cancel"),showCancelButton:!0},function(){for(var n=t.data.length,i=0;n>i;i++)t.data[i].cells.splice(e,1)})}},ready:function(){var e=this,t="";this.data||(this.data=[]),$(this.$el).find("tbody").sortable({axis:"y",revert:175,handle:".drag-handle",placeholder:"table-row-placeholder",forcePlaceholderSize:!0,start:function(e,n){t=n.item.index(),n.placeholder.height(n.item.height())},update:function(n,i){var s=i.item.index(),r=e.data.splice(t,1)[0];e.data.splice(s,0,r)}})}}},{"./table.template.html":79}],79:[function(e,t,n){t.exports='<div class="table-field">\n	<table class="bordered-table" v-if="rowCount || columnCount">\n		<thead>\n			<tr>\n				<th v-for="column in columnCount">\n					<span class="column-count">{{ $index + 1 }}</span>\n					<span class="icon icon-cross delete-column" @click="deleteColumn($index)"></span>\n				</th>\n				<th class="row-controls"></th>\n			</tr>\n		</thead>\n		<tbody>\n			<tr v-for="row in data">\n				<td v-for="cell in row.cells" track-by="$index">\n					<input type="text" v-model="cell" class="form-control" />\n				</td>\n				<td class="row-controls">\n					<span class="icon icon-menu move drag-handle"></span>\n					<span class="icon icon-cross delete" v-on:click="deleteRow(rowIndex)"></span>\n				</td>\n			</tr>\n		</tbody>\n	</table>\n\n	<div class="btn-group">\n		<a href="" class="btn btn-default" @click.prevent="addRow" v-if="canAddRows">\n			{{ translate_choice(\'cp.rows\', 1) }} <i class="icon icon-plus icon-right"></i>\n		</a>\n		<a href="" class="btn btn-default" @click.prevent="addColumn" v-if="canAddColumns">\n			{{ translate_choice(\'cp.columns\', 1) }} <i class="icon icon-plus icon-right"></i>\n		</a>\n	</div>\n</div>\n'},{}],80:[function(e,t,n){"use strict";t.exports={template:'\n        <div><input type="text" v-el:tags :value="data" /></div>\n    ',props:["data","config","name"],ready:function(){var e=this;$(this.$els.tags).selectize({delimiter:",",persist:!1,plugins:["drag_drop","remove_button"],create:function(e){return{value:e,text:e}},onChange:function(t){e.data=t.split(",")},onItemRemove:function(e){delete this.options[e]}})}}},{}],81:[function(e,t,n){"use strict";t.exports={template:'<div class="taxonomy-fieldtype"><relate-fieldtype :data.sync="data" :name="name" :config="config"></relate-fieldtype></div>',props:["data","config","name"]}},{}],82:[function(e,t,n){"use strict";t.exports={template:e("./template.template.html"),props:["data","config","name"],data:function(){return{loading:!0,options:{}}},computed:{selectConfig:function(){return{options:this.options}}},ready:function(){this.$http.get(cp_url("system/templates/get"),function(e){var t=[{value:null,text:""}];_.each(e,function(e){t.push({value:e,text:e})}),this.options=t,this.loading=!1})}}},{"./template.template.html":83}],83:[function(e,t,n){t.exports='<div>\n    <div v-if="loading" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <select-fieldtype v-if="!loading" :name="name" :data.sync="data" :config="selectConfig"></select-fieldtype>\n</div>'},{}],84:[function(e,t,n){"use strict";t.exports={template:'<input :type="mode" :class="classes" v-model="data" />',props:["name","data","config"],data:function(){return{mode:this.config.mode||"text"}},computed:{classes:function(){return"form-control type-"+this.mode}}}},{}],85:[function(e,t,n){"use strict";t.exports={template:'<textarea class="form-control" v-model="data" v-el:textarea v-elastic></textarea>',props:["name","data","config"]}},{}],86:[function(e,t,n){"use strict";t.exports={template:e("./theme.template.html"),props:["data","config","name"],data:function(){return{loading:!0,options:{}}},computed:{selectConfig:function(){return{options:this.options}}},ready:function(){this.$http.get(cp_url("system/themes/get"),function(e){var t=[];_.each(e,function(e){t.push({value:e.folder,text:e.name})}),this.options=t,this.loading=!1})}}},{"./theme.template.html":87}],87:[function(e,t,n){arguments[4][38][0].apply(n,arguments)},{dup:38}],88:[function(e,t,n){"use strict";t.exports={template:e("./time.template.html"),props:["data","config","name"],computed:{hour:{set:function(e){this.ensureTime();var t=this.data.split(":"),n=parseInt(e);n=n>23?23:n,n=0>n?0:n,t[0]=this.pad(n),this.data=t.join(":")},get:function(){return this.hasTime?this.pad(this.data.split(":")[0]):""}},minute:{set:function(e){this.ensureTime();var t=this.data.split(":"),n=parseInt(e);n=n>59?59:n,n=0>n?0:n,t[1]=this.pad(n),this.data=t.join(":")},get:function(){return this.hasTime?this.pad(this.data.split(":")[1]):""}},hasTime:function(){return null!==this.data}},methods:{pad:function(e){return("00"+e).substr(-2,2)},ensureTime:function(){this.hasTime||this.initializeTime()},initializeTime:function(){this.data="00:00"},clear:function(){this.data=null},incrementHour:function(e){this.ensureTime();var t=parseInt(this.hour)+e;t=24===t?0:t,t=-1===t?23:t,this.hour=t},incrementMinute:function(e){this.ensureTime();var t=parseInt(this.minute)+e;t=60===t?0:t,t=-1===t?59:t,this.minute=t},focusMinute:function(){$(this.$els.minute).focus().select()}}}},{"./time.template.html":89}],89:[function(e,t,n){t.exports='<div>\n    <input type="number" min="00" max="23" v-model="hour" v-el:hour\n        @keydown.up.prevent="incrementHour(1)"\n        @keydown.down.prevent="incrementHour(-1)"\n        @keydown.esc="clear"\n        @keydown.186.prevent="focusMinute"\n        @keydown.190.prevent="focusMinute"\n    />\n    :\n    <input type="number" min="00" max="59" v-model="minute" v-el:minute\n        @keydown.up.prevent="incrementMinute(1)"\n        @keydown.down.prevent="incrementMinute(-1)"\n        @keydown.esc="clear"\n    />\n    <span class="icon icon-remove" v-show="hasTime" v-if="hasTime" @click="clear">&times;</span>\n</div>\n'},{}],90:[function(e,t,n){"use strict";t.exports={template:'\n        <input type="text" v-model="data" />\n    ',props:["data","config","name"]}},{}],91:[function(e,t,n){"use strict";t.exports={template:e("./toggle.template.html"),props:["name","data","config"],computed:{isOn:function(){return this.data===!0}},methods:{toggle:function(){this.data=!this.data}}}},{"./toggle.template.html":92}],92:[function(e,t,n){t.exports='<div>\n    <div class="toggle-container" :class="{ \'on\': isOn }" @click="toggle">\n        <div class="toggle-slider">\n            <div class="toggle-knob"></div>\n        </div>\n    </div>\n</div>'},{}],93:[function(e,t,n){"use strict";t.exports={template:e("./user-groups.template.html"),props:["data","config","name"],data:function(){return{loading:!0,groups:{}}},computed:{checkboxesConfig:function(){return{options:this.groups}}},methods:{getGroups:function(){this.$http.get(cp_url("/users/groups"),function(e){var t={};_.each(e,function(e,n){t[n]=e.title}),this.groups=t,this.loading=!1})}},ready:function(){this.getGroups()}}},{"./user-groups.template.html":94}],94:[function(e,t,n){t.exports='<div>\n\n    <div v-if="loading" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <checkboxes-fieldtype v-if="! loading"\n                          :data.sync="data"\n                          :config="checkboxesConfig">\n    </checkboxes-fieldtype>\n\n</div>\n'},{}],95:[function(e,t,n){"use strict";t.exports={template:e("./user-roles.template.html"),props:["data","config","name"],data:function(){return{loading:!0,roles:{}}},computed:{checkboxesConfig:function(){return{options:this.roles}},canEdit:function(){return Vue.can("user-roles:manage")},selectedRoleNames:function(){var e=this;return _.map(this.data,function(t){return _.findWhere(e.roles,{value:t}).text})}},methods:{getRoles:function(){this.$http.get(cp_url("users/roles/get"),function(e){var t=[];_.each(e.items,function(e){t.push({value:e.id,text:e.title})}),this.roles=t,this.loading=!1})}},ready:function(){this.getRoles()}}},{"./user-roles.template.html":96}],96:[function(e,t,n){t.exports='<div>\n\n    <div v-if="loading" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <p v-if="!loading && !canEdit" class="form-control-static">\n        <template v-for="role in selectedRoleNames">\n            {{ role }}<template v-if="$index !== selectedRoleNames.length-1">,</template>\n        </template>\n    </p>\n\n    <checkboxes-fieldtype v-if="!loading && canEdit"\n                          :name="name"\n                          :data.sync="data"\n                          :config="checkboxesConfig">\n    </checkboxes-fieldtype>\n\n</div>\n'},{}],97:[function(e,t,n){"use strict";t.exports={template:'<div class="users-fieldtype"><relate-fieldtype :data.sync="data" :name="name" :config="config" v-if="config.type"></relate-fieldtype></div>',props:{name:String,data:{"default":function(){return[]}},config:{type:Object,"default":function(){return{}}}},ready:function(){Vue.set(this.config,"type","users")}}},{}],98:[function(e,t,n){"use strict";var i=e("codemirror");e("codemirror/mode/yaml/yaml"),t.exports={template:'\n        <div class="yaml-field">\n            <span>YAML</span>\n            <div class="editor" v-el:codemirror></div>\n        </div>\n    ',props:["name","data","config"],ready:function(){var e=this,t=i(this.$els.codemirror,{value:this.data||"",mode:"yaml",lineNumbers:!0,viewportMargin:1/0});t.on("change",function(t){e.data=t.doc.getValue()})}}},{codemirror:174,"codemirror/mode/yaml/yaml":178}],99:[function(e,t,n){"use strict";t.exports={template:e("./columns.template.html"),props:{columns:{type:Array},fields:{type:Array}},computed:{suggestions:function i(){var i=[];return _.each(this.fields,function(e){i.push({text:e.display,value:e.name})}),i}}}},{"./columns.template.html":100}],100:[function(e,t,n){t.exports='<div>\n    <relate-fieldtype :suggestions-prop="suggestions" :data="columns" :config="{}"></relate-fieldtype>\n</div>\n'},{}],101:[function(e,t,n){"use strict";t.exports={template:e("./field-settings.template.html"),props:["field"],data:function(){return{isNameModified:!0}},ready:function(){this.field.isNew&&(this.isNameModified=!1,delete this.field.isNew,this.$watch("field.display",function(e){this.isNameModified||(this.field.name=this.$slugify(e,"_"))}))}}},{"./field-settings.template.html":102}],102:[function(e,t,n){t.exports='<div>\n\n    <div class="form-group">\n    	<label>Display text</label>\n    	<small class="help-block">The field\'s label</small>\n    	<input type="text" class="form-control" v-model="field.display" />\n    </div>\n\n    <div class="form-group">\n    	<label>Field name</label>\n    	<small class="help-block">The field variable</small>\n    	<input type="text" class="form-control" v-model="field.name" @keydown="isNameModified = true" />\n    </div>\n\n    <div class="form-group">\n    	<label>Validation Rules</label>\n        <small class="help-block">Enter a pipe delimited string of <a href="https://laravel.com/docs/5.1/validation#available-validation-rules" target="_blank">validation rules</a>.</small>\n    	<input type="text" class="form-control" v-model="field.validate" />\n    </div>\n\n</div>\n'},{}],103:[function(e,t,n){"use strict";t.exports={template:e("./formset-builder.template.html"),components:{"formset-fields-builder":e("./formset-fields"),"formset-columns":e("./columns")},props:{formsetTitle:String,formsetName:String,create:{type:Boolean,"default":!1},saveUrl:String},data:function(){return{loading:!0,errorMessage:null,slug:null,formset:{fields:[],columns:[]}}},computed:{columns:{get:function(){return this.formset.columns||[]},set:function(e){this.formset.columns=e}},metricsGridConfig:function(){return{add_row:"Metric",mode:"stacked",fields:[{name:"type",display:"Metric Type",width:25,type:"select",options:[{value:"sum",text:"Sum"},{value:"total",text:"Total"},{value:"average",text:"Average"}]},{name:"label",display:"Label",type:"text",width:75},{name:"params",display:"Parameters",type:"array"}]}},emailGridConfig:function(){return{add_row:"Email",mode:"stacked",fields:[{name:"to",display:"Recipient (To)",type:"text",width:50,instructions:"Email address of the recipient."},{name:"from",display:"Sender (From)",type:"text",width:50,instructions:"Leave blank to fall back to the site default."},{name:"subject",display:"Subject",type:"text",instructions:"Email subject line."},{name:"template",display:"Template",type:"text",instructions:"Leave blank to use an automagic email."}]}}},methods:{getBlankFormset:function(){this.formset={title:"",fields:[]},this.loading=!1},getFormset:function(){var e=this,t=cp_url("/forms/"+this.formsetName+"/get");e.$http.get(t).success(function(t){e.formset=t,e.loading=!1}).error(function(t){e.errorMessage=t.message})},save:function(){this.$http.post(this.saveUrl,{slug:this.slug,formset:this.formset}).success(function(e){window.location=e.redirect})}},ready:function(){this.create?this.getBlankFormset():this.getFormset()}}},{"./columns":99,"./formset-builder.template.html":104,"./formset-fields":105}],104:[function(e,t,n){t.exports='<div>\n    <div class="card sticky flat-bottom">\n        <div class="head">\n            <h1 class="pull-left" v-if="create">\n                {{ translate(\'cp.create_formset\') }}\n            </h1>\n\n            <h1 class="pull-left" v-if="!create">\n                {{ translate(\'cp.editing_formset\') }}:\n                <strong>{{ formsetTitle }}</strong>\n            </h1>\n\n            <button type="button" class="btn btn-primary pull-right" v-on:click="save()">{{ translate(\'cp.save\') }}</button>\n        </div>\n    </div>\n\n    <div class="card flat-top">\n        <div v-if="loading && !errorMessage" class="loading">\n            <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n        </div>\n\n        <div v-if="errorMessage" class="alert alert-danger">\n            <p>{{ errorMessage }}</p>\n        </div>\n\n        <div class="fieldset-builder" v-if="! loading">\n\n            <div class="form-group">\n                <label class="block">Title</label>\n                <small class="help-block">Your formset\'s proper label.</small>\n                <input type="text" class="form-control" v-model="formset.title" />\n            </div>\n\n            <div class="form-group" v-if="create">\n                <label class="block">Slug</label>\n                <small class="help-block">How the formset will be referenced.</small>\n                <input type="text" class="form-control" v-model="slug" />\n            </div>\n\n            <div class="form-group">\n                <label class="block">Columns</label>\n                <small class="help-block">Choose which columns should be displayed and in what order.</small>\n                <formset-columns :fields="formset.fields" :columns.sync="columns"></formset-columns>\n            </div>\n\n            <div class="form-group">\n                <label class="block">Metrics</label>\n                <small class="help-block">Specify any metrics you would like displayed.</small>\n                <grid-fieldtype :data.sync="formset.metrics" :config="metricsGridConfig"></grid-fieldtype>\n            </div>\n\n            <div class="form-group">\n                <label class="block">Emails</label>\n                <small class="help-block">Add any emails you want to be sent upon submission.</small>\n                <grid-fieldtype :data.sync="formset.email" :config="emailGridConfig"></grid-fieldtype>\n            </div>\n\n            <div class="form-group">\n                <label class="block">Honeypot Field</label>\n                <small class="help-block">The field name to be used for the honeypot. <a href="https://docs.statamic.com/guides/forms#honeypot">What\'s a honeypot?</a></small>\n                <input type="text" class="form-control" v-model="formset.honeypot" />\n            </div>\n\n        </div>\n    </div>\n\n    <div class="card" v-if="!loading">\n        <div class="head clearfix">\n            <h2>Fields</h2>\n            <small class="help-block">Choose and customize the fields in this form.</small>\n        </div>\n\n        <formset-fields-builder :fields="formset.fields"></formset-fields-builder>\n    </div>\n</div>\n'},{}],105:[function(e,t,n){"use strict";t.exports={template:e("./formset-fields.template.html"),components:{"field-settings":e("./field-settings")},props:{fields:Array},data:function(){return{showEditModal:!1,selectedField:null}},methods:{selectField:function(e){this.selectedField=e},deselectField:function(){this.selectedField=null},deleteField:function(e){this.selectedField=null,this.fields.splice(e,1)},addField:function(){var e=this.fields.length||0,t=e+1;this.fields.push({name:"field_"+t,display:"Field "+t,isNew:!0}),this.selectedField=t-1,this.$nextTick(function(){$(this.$el).find("input").first().focus().select();
})},enableSorting:function(){var e=this;$(".sortable").sortable({axis:"y",revert:175,placeholder:"placeholder",handle:".drag-handle",forcePlaceholderSize:!0,start:function(e,t){t.item.data("start",t.item.index())},update:function(t,n){var i=n.item.data("start"),s=n.item.index();e.fields.splice(s,0,e.fields.splice(i,1)[0])}})}},watch:{selectedField:function(e){this.showEditModal=null!==e},showEditModal:function(e){e?$(this.$el).find(".modal-body").find("input").first().focus().select():this.deselectField()}},ready:function(){this.enableSorting()}}},{"./field-settings":101,"./formset-fields.template.html":106}],106:[function(e,t,n){t.exports='<div>\n    <table class="fields-table bordered-table">\n        <thead>\n            <tr>\n                <th>Handle</th>\n                <th>Label</th>\n                <th class="row-controls"></th>\n            </tr>\n        </thead>\n        <tbody v-el:tbody>\n            <tr v-for="field in fields">\n                <td class="col-handle"><input type="text" class="code" v-model="field.name" /></td>\n                <td class="col-display"><input type="text" v-model="field.display" /></td>\n                <td class="row-controls">\n                    <span class="icon icon-edit edit" @click="selectField($index)"></span>\n                    <span class="icon icon-menu move drag-handle"></span>\n                    <span class="icon icon-cross delete" @click="deleteField($index)"></span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <modal :show.sync="showEditModal" class="markdown-modal">\n        <template slot="header">Edit Field</template>\n        <template slot="body">\n            <field-settings :field.sync="fields[selectedField]">\n            </field-settings>\n        </template>\n    </modal>\n\n\n                <!--\n    <div class="fieldset-fields">\n        <div class="sortable fieldset-fields-body">\n            <div v-for="field in fields" :class="{ \'fieldset-field\': true, \'active\': selectedField === $index }">\n\n                <div class="field-row">\n                    <span class="drag-handle" v-on:mousedown="deselectField"></span>\n\n                    <div class="cell">\n                        <a href="#" v-on:click="selectField($index, $event)">{{ field.display }}</a>\n                    </div>\n\n                    <div class="cell">\n                        <code>{{ field.name }}</code>\n                    </div>\n\n                    <div class="cell actions">\n                        <span v-on:click="selectField($index, $event)" v-if="selectedField !== $index"><i class="icon icon-chevron-down"></i></span>\n                        <span v-on:click="deselectField" v-if="selectedField === $index"><i class="icon icon-chevron-up"></i></span>\n                        <span v-on:click="deleteField($index)"><i class="icon icon-trash"></i></span>\n                    </div>\n                </div>\n\n                <div class="field-settings" v-if="selectedField === $index">\n                    <field-settings :field="field"></field-settings>\n                </div>\n\n            </div>\n        </div>\n    </div> -->\n\n    <button type="button" class="btn btn-default" @click="addField">{{ translate_choice(\'cp.fields\', 1) }} <i class="icon icon-plus icon-right"></i></button>\n</div>\n'},{}],107:[function(e,t,n){"use strict";t.exports={props:["importer"],data:function(){return{loading:!0,instructions:null,siteUrl:"",exporting:!1,exported:!1,exportFailed:!1,exportError:null,importing:!1,imported:!1,summary:null,showAllPages:!1,showCollections:[],showTaxonomies:[],showGlobals:[]}},computed:{totalPages:function(){return Object.keys(this.summary.pages).length}},ready:function(){this.$http.get(cp_url("import/"+this.importer+"/details")).success(function(e){this.loading=!1,this.instructions=e.instructions,this.json=e.json})},methods:{"export":function(){this.exporting=!0,this.$http.post(cp_url("import/"+this.importer+"/export"),{url:this.siteUrl}).success(function(e){e.success&&(this.exporting=!1,this.exported=!0,this.summary=e.summary,this.setChecks())}).error(function(e){this.exporting=!1,this.exportFailed=!0,this.exportError=e.error})},"import":function(){this.importing=!0,this.$http.post(cp_url("import/"+this.importer+"/import"),{summary:this.summary}).success(function(e){this.importing=!1,this.imported=!0,console.log(e)})},setChecks:function(){_.each(this.summary.pages,function(e){e._checked=!0}),_.each(this.summary.collections,function(e){_.each(e.entries,function(e){e._checked=!0})}),_.each(this.summary.taxonomies,function(e){_.each(e.terms,function(e){e._checked=!0})}),_.each(this.summary.globals,function(e){_.each(e.variables,function(e){e._checked=!0})})},size:function(e){return _.size(e)},showCollection:function(e){this.showCollections.push(e),_.uniq(this.showCollections)},hideCollection:function(e){this.showCollections=_.reject(this.showCollections,function(t){return t===e})},shouldShowCollection:function(e){return _.contains(this.showCollections,e)},showTaxonomy:function(e){this.showTaxonomies.push(e),_.uniq(this.showTaxonomies)},hideTaxonomy:function(e){this.showTaxonomies=_.reject(this.showTaxonomies,function(t){return t===e})},shouldShowTaxonomy:function(e){return _.contains(this.showTaxonomies,e)},showGlobal:function(e){this.showGlobals.push(e),_.uniq(this.showGlobals)},hideGlobal:function(e){this.showGlobals=_.reject(this.showGlobals,function(t){return t===e})},shouldShowGlobal:function(e){return _.contains(this.showGlobals,e)}}}},{}],108:[function(e,t,n){"use strict";t.exports={components:{permissions:e("./steps/permissions"),"license-key":e("./steps/licensekey"),settings:e("./steps/settings"),user:e("./steps/user"),login:e("./steps/login")},props:["cpUrl"],data:function(){return{steps:{permissions:{label:"Permissions",status:"pending"},licenseKey:{label:"License Key",status:"pending"},settings:{label:"Settings",status:"pending"},user:{label:"Create a User",status:"pending"},login:{label:"Log in",status:"pending"}},currentStep:"permissions",userId:null,cleanupFailed:!1}},methods:{complete:function(){this.$http.get("/installer/complete").success(function(e){e.success?window.location=this.cpUrl:this.cleanupFailed=!0})},url:function(e){var t=Statamic.cpRoot.split("/");return t.pop(),t.join("/")+"/installer/"+e}},events:{"permissions.status":function(e){this.steps.permissions.status=e},"permissions.complete":function(){this.currentStep="licenseKey"},"licensekey.complete":function(){this.steps.licenseKey.status="success",this.currentStep="settings"},"settings.complete":function(){this.steps.settings.status="success",this.currentStep="user"},"user.complete":function(e){this.steps.user.status="success",this.userId=e,this.currentStep="login"},"login.complete":function(){this.complete()}},ready:function(){}}},{"./steps/licensekey":109,"./steps/login":111,"./steps/permissions":113,"./steps/settings":115,"./steps/user":117}],109:[function(e,t,n){"use strict";t.exports={template:e("./licensekey.template.html"),data:function(){return{loading:!0,valid:!1,key:null,keySubmitted:!1}},methods:{"continue":function(){this.$dispatch("licensekey.complete")},validate:function(){this.loading=!0,this.$http.post(this.$parent.url("license"),{key:this.key}).success(function(e){this.success=e.success,this.key=e.key,this.loading=!1,e.key&&(this.keySubmitted=!0),this.success&&(this.valid=!0,this.$dispatch("licensekey.status","success"),setTimeout(function(){this["continue"]()}.bind(this),1e3))})}},ready:function(){this.validate()}}},{"./licensekey.template.html":110}],110:[function(e,t,n){t.exports='<div class="card">\n\n    <div class="head">\n        <h1>License Key</h1>\n    </div>\n\n    <hr>\n\n    <div v-if="loading" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span>\n        Checking your license key, please wait...\n    </div>\n\n    <p v-if="valid">You have a valid license key.</p>\n\n    <template v-if="!loading && !valid">\n        <p>Please enter your license key. You can find yours in your <a href="https://account.statamic.com/licenses">Statamic Account</a> or you can <a href="https://trading-post.statamic.com">buy a new license</a> if you need to.</p>\n\n        <div class="form-group">\n            <p v-if="!valid && keySubmitted" class="license-error">\n                <small class="help-block">This key is invalid.</small>\n            </p>\n            <div class="row">\n                <div class="col-sm-9">\n                    <input type="text" class="form-control" v-model="key" />\n                </div>\n                <div class="col-sm-3">\n                    <button class="btn btn-primary btn-block" @click="validate" :disabled="!key">Save</button>\n                </div>\n            </div>\n        </div>\n\n        <hr>\n\n        <div class="trial">\n            <a href="" @click.prevent="continue" class="btn">Continue in Trial Mode</a>\n            <a href="https://statamic.com/try" class="what" target="_blank">What\'s this?</a>\n        </div>\n    </template>\n\n</div>\n'},{}],111:[function(e,t,n){"use strict";t.exports={template:e("./login.template.html"),props:["userId"],data:function(){return{loggedIn:!1}},ready:function(){this.$http.post(this.$parent.url("login"),{id:this.userId}).success(function(e){e.success&&(this.loggedIn=!0,setTimeout(function(){this.$dispatch("login.complete")}.bind(this),1e3))})}}},{"./login.template.html":112}],112:[function(e,t,n){t.exports='<div class="card">\n\n    <div class="head">\n        <h1>Login</h1>\n    </div>\n\n    <hr>\n\n    <div v-if="!loggedIn" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span>\n        Logging in...\n    </div>\n\n    <p v-if="loggedIn">Logged in! Taking you to the control panel...</p>\n\n</div>\n'},{}],113:[function(e,t,n){"use strict";t.exports={template:e("./permissions.template.html"),data:function(){return{loading:!0,success:null,unwritable:[]}},computed:{failure:function(){return!this.loading&&!this.success}},ready:function(){this.$http.get(this.$parent.url("permissions")).success(function(e){this.success=e.success,this.unwritable=e.unwritable,this.loading=!1,this.success?(this.$dispatch("permissions.status","success"),setTimeout(function(){this.$dispatch("permissions.complete")}.bind(this),1e3)):this.$dispatch("permissions.status","failure")})}}},{"./permissions.template.html":114}],114:[function(e,t,n){t.exports='<div class="card">\n\n    <div class="head">\n        <h1>Permissions</h1>\n    </div>\n\n    <hr>\n\n    <div v-if="loading" class="loading loading-basic">\n        <span class="icon icon-circular-graph animation-spin"></span>\n        Checking folder permissions, please wait...\n    </div>\n\n    <div v-if="failure">\n        <p>The following directories need to be writable:</p>\n        <ul>\n            <li v-for="path in unwritable"><code>{{ path }}</code></li>\n        </ul>\n    </div>\n\n    <template v-if="success">\n        <p>File and folder permissions look great!</p>\n    </template>\n\n</div>\n'},{}],115:[function(e,t,n){"use strict";t.exports={template:e("./settings.template.html"),data:function(){return{loading:!1,success:null,debug:!1,locales:[{locale:"en",full:"en_US",name:"English",url:document.location.origin+"/"}]}},computed:{formData:function(){return{debug:this.debug,locales:this.locales}}},methods:{submit:function(){this.loading=!0,this.$http.post(this.$parent.url("settings"),this.formData).success(function(e){this.loading=!1,this.success=e.success,this.success&&setTimeout(function(){this.$dispatch("settings.complete")}.bind(this),1e3)})}}}},{"./settings.template.html":116}],116:[function(e,t,n){t.exports='<div class="card install-settings">\n\n    <div class="head">\n        <h1>Settings</h1>\n    </div>\n\n    <hr>\n\n    <template v-if="!success">\n\n        <div class="form-group">\n            <label>Locales and URLs</label>\n            <small class="help-block">\n                Create a locale for each language translation. You can skip this for now and do it later if you\'d prefer.\n            </small>\n            <locale_settings-fieldtype :data="locales"></locale_settings-fieldtype>\n        </div>\n\n        <div class="form-group">\n            <label>Debug Mode</label>\n            <small class="help-block">\n                Enabling Debug Mode will display all errors on screen. It\'s a great tool while a site is development, but remember to\n                disable it in production.\n            </small>\n            <toggle-fieldtype :data.sync="debug"></toggle-fieldtype>\n        </div>\n\n        <button class="btn btn-primary" @click="submit" :disabled="loading">Save</button>\n\n    </template>\n\n    <template v-if="success">\n        <p>Settings updated.</p>\n    </template>\n\n\n</div>\n'},{}],117:[function(e,t,n){"use strict";t.exports={template:e("./user.template.html"),data:function(){return{submitted:!1,loading:!1,success:null,username:null,password:null,email:null,firstName:null,lastName:null,bio:null}},computed:{submitDisabled:function(){return this.loading?!0:!(this.username&&this.password&&this.email&&this.firstName&&this.lastName)}},methods:{submit:function(){this.loading=!0,this.submitted=!0,this.$http.post(this.$parent.url("user"),{username:this.username,password:this.password,email:this.email,first_name:this.firstName,last_name:this.lastName,bio:this.bio}).success(function(e){this.loading=!1,this.success=e.success,this.success&&setTimeout(function(){this.$dispatch("user.complete",e.id)}.bind(this),1e3),this.login(e.id)})},login:function(e){this.loggingIn=!0,this.$http.post(this.$parent.url("login"),{id:e}).success(function(e){this.loggedIn=!0,e.success&&setTimeout(function(){this.$dispatch("user.complete")}.bind(this),1e3)})}}}},{"./user.template.html":118}],118:[function(e,t,n){t.exports='<div class="card install-user">\n\n    <div class="head">\n        <h1>Create a User</h1>\n    </div>\n\n    <hr>\n\n    <template v-if="!success">\n\n        <div class="alert alert-danger" v-if="submitted && !loading && !success">\n            <p>{{ error }}</p>\n        </div>\n\n        <div class="form-group">\n            <label>Name</label>\n            <div class="row">\n                <div class="col-md-6">\n                    <small class="help-block">First name</small>\n                    <input type="text" class="form-control" v-model="firstName" />\n                </div>\n                <div class="col-md-6">\n                    <small class="help-block">Last name</small>\n                    <input type="text" class="form-control" v-model="lastName" />\n                </div>\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label>Username</label>\n            <input type="text" class="form-control" v-model="username" />\n        </div>\n\n        <div class="form-group">\n            <label>Email</label>\n            <input type="email" class="form-control" v-model="email" />\n        </div>\n\n        <div class="form-group">\n            <label>Password</label>\n            <input type="password" class="form-control" v-model="password" />\n        </div>\n\n        <div class="form-group">\n            <label>Bio</label>\n            <small class="help-block">A little bit about you, if you like.</small>\n            <textarea class="form-control" v-model="bio"></textarea>\n        </div>\n\n        <button class="btn btn-primary" @click="submit" :disabled="submitDisabled">Create User</button>\n\n    </template>\n\n    <template v-if="success">\n        <p>A user account has been created.</p>\n    </template>\n\n</div>\n'},{}],119:[function(e,t,n){"use strict";e("sweetalert"),t.exports={template:e("./list.template.html"),props:{endpoint:String,type:{type:String,"default":""},no_results_heading:{type:String,"default":"This group has no items."},no_results_subheading:{type:String,"default":!1},no_results_button:{type:String,"default":"New Item"},new_url:{type:String,"default":""},deleteMultiConfirmation:{type:String,"default":"You are about to delete multiple entries."},mode:{type:String,"default":"normal"}},components:{"field-status":e("./field-status"),"field-default":e("./field-default")},data:function(){return{loading:!0,list:{rows:[],actions:{}},reordering:!1,search:null}},computed:{hasActions:function(){return this.list.actions.length},checkedEntries:function(){return this.list.rows.filter(function(e){return e.checked}).map(function(e){return e.uuid})},allEntriesChecked:function(){return this.list.rows.length===this.checkedEntries.length}},methods:{deleteItem:function(e,t,n,i){i.preventDefault(),self=this,swal({title:"Are you sure?",text:"You are about to delete this entry.",type:"warning",showCancelButton:!0,confirmButtonText:"Yes I'm sure.",closeOnConfirm:!1},function(){self.$http["delete"](n,{uuid:e.uuid},function(e,n,i){swal("Deleted!","Your entry has been deleted.","success"),self.list.rows.$remove(t)})})},deleteMultiple:function(){var e=this;e.$event.preventDefault(),swal({title:"Are you sure?",text:e.deleteMultiConfirmation,type:"warning",showCancelButton:!0,confirmButtonText:"Yes I'm sure.",closeOnConfirm:!1},function(){e.$http.post(e.list.actions["delete"].endpoint,{uuids:e.checkedEntries},function(t,n,i){swal("Deleted!","Your entries have been deleted.","success"),e.list.rows=e.list.rows.filter(function(e){return e.checked===!1})})})},checkAllEntries:function(){var e=!this.allEntriesChecked;_.each(this.list.rows,function(t){t.checked=e})},reset:function(){this.search=""},toggleReorder:function(e){e.preventDefault(),self=this,this.reordering=!this.reordering,$(".sortable tbody").sortable({axis:"y",revert:175,placeholder:"placeholder",forcePlaceholderSize:!0,start:function(e,t){t.item.data("start",t.item.index())},update:function(e,t){var n=t.item.data("start"),i=t.item.index();self.list.rows.splice(i,0,self.list.rows.splice(n,1)[0])}}).disableSelection()},saveOrder:function(e,t){t.preventDefault(),self=this;var n=$.map(this.list.rows,function(e,t){return e.uuid});this.$http.post(e,{uuids:n},function(e,t,n){console.log("Entries Reordered"),self.reordering=!1})},resolveComponent:function(e){return"field-"+e in this.$options.components?"field-"+e:"field-default"}},ready:function(){this.$http.get(this.endpoint,function(e,t,n){this.list=e,this.loading=!1})}}},{"./field-default":21,"./field-status":22,"./list.template.html":120,sweetalert:181}],120:[function(e,t,n){t.exports='<div>\n    <div v-if="loading" class="loading">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <div v-if="!loading && list.rows && !list.rows.length">\n        <div class="no-results">\n            <span class="icon icon-documents"></span>\n            <h2>{{ no_results_heading }}</h2>\n            <h3 v-if="no_results_subheading">{{ no_results_subheading }}</h3>\n            <a href="{{ new_url }}" class="btn btn-default btn-lg">{{ no_results_button }}</a>\n        </div>\n    </div>\n\n    <div v-if="!loading && list.rows && list.rows.length" class="actions">\n        <div class="actions-controls" v-if="hasActions">\n            <input type="checkbox" id="checkbox-all" :checked="allEntriesChecked" v-on:click="checkAllEntries">\n            <label for="checkbox-all"></label>\n\n            <template v-if="list.actions.delete">\n                <a :href="list.actions.delete.endpoint" class="btn" v-on:click="deleteMultiple">\n                    Delete\n                </a>\n            </template>\n\n            <template v-if="list.actions.reorder">\n                <a href="" v-on:click="toggleReorder($event)" class="btn" v-show="! reordering">Reorder</a>\n                <a href="" v-on:click="saveOrder(list.actions.reorder.endpoint, $event)" class="btn" v-show="reordering">Save Order</a>\n            </template>\n        </div>\n        <input type="text" :placeholder="\'Search \' + type" v-on:keydown.esc="reset" v-model="search" name="query" class="search pull-right">\n    </div>\n\n    <table v-if="!loading && list.rows && list.rows.length" class="sortable control">\n        <thead>\n            <tr>\n                <th class="checkbox-col" v-if="hasActions || reordering"></th>\n                <th v-if="hasStatus">Status</th>\n                <th v-for="key in list.columns" :class="\'column-\' + key">\n                    {{ key }}\n                </th>\n                <th class="column-actions">Actions</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr v-for="entry in list.rows | filterBy search" style="background: #fff;">\n                <td class="checkbox-col" v-if="hasActions || reordering">\n                    <div v-show="! reordering">\n                        <input type="checkbox" :id="\'checkbox-\' + $index" v-model="entry.checked">\n                        <label :for="\'checkbox-\' + $index"></label>\n                    </div>\n                    <div class="drag-handle" v-show="reordering">\n                        <i class="fa fa-bars"></i>\n                    </div>\n                </td>\n\n                <td v-for="key in list.columns" :class="\'column-\' + key">\n                     <component :is="resolveComponent(key)"\n                                :entry="entry"\n                                :type="key"\n                                :primary="list.primary">\n                     </component>\n                </td>\n\n                <td class="column-actions">\n                    <div class="btn-group">\n                        <button type="button" class="btn-more dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                            <i class="icon icon-dots-three-vertical"></i>\n                        </button>\n\n                        <ul class="dropdown-menu">\n                            <li v-if="list.actions">\n                                <a href="">\n                                    View\n                                </a>\n                            </li>\n                            <li v-if="list.actions.delete" class="warning">\n                                <a href="" v-on:click="deleteItem(entry, $index, list.actions.delete.endpoint, $event)">\n                                   {{ list.actions.delete.label }}\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n'},{}],121:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("configure/addons/get"),"delete":cp_url("configure/addons/delete")},tableOptions:{checkboxes:!1,partials:{cell:'\n                        <a :href="item.settings_url" v-if="item.settings_url && column.field === \'name\'">{{ item[column.label] }}</a>\n                        <template v-else>{{ item[column.label] }}</template>',actions:'\n                        <li v-if="item.settings_url"><a :href="item.settings_url">Settings</a></li>'}}}},methods:{refresh:function(){window.location=cp_url("configure/addons/refresh")}}}},{}],122:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("assets/containers/get"),"delete":cp_url("configure/content/assets")},tableOptions:{headers:!1,search:!1,checkboxes:!1,sort:"title",sortOrder:"asc",partials:{cell:'\n                        <div class="stat">\n                            <span class="icon icon-folder-images"></span>\n                            {{ item.assets }}\n                        </div>\n                        <a :href="item.edit_url">{{ item.title }}</a>'}}}},ready:function(){this.addActionPartial()},methods:{addActionPartial:function(){var e="";this.can("assets:manage")&&(e+="<li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>"),this.can("assets:delete")&&(e+='\n                    <li class="warning">\n                        <a href="#" @click.prevent="call(\'deleteItem\', item.id)">{{ translate(\'cp.delete\') }}</a>\n                    </li>'),this.tableOptions.partials.actions=e}}}},{}],123:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("assets/containers/get")},tableOptions:{headers:!1,search:!1,checkboxes:!1,sort:"title",sortOrder:"asc",partials:{cell:'\n                        <div class="stat">\n                            <span class="icon icon-folder-images"></span>\n                            {{ item.assets }}\n                        </div>\n                        <a :href="item.browse_url">{{ item.title }}</a>'}}}}}},{}],124:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("collections/get"),"delete":cp_url("configure/content/collections/delete")},tableOptions:{headers:!1,search:!1,checkboxes:!1,sort:"title",sortOrder:"asc",partials:{cell:'\n                        <div class="stat">\n                            <span class="icon icon-documents"></span>\n                            {{ item.entries }}\n                        </div>\n                        <a :href="item.edit_url">{{ item.title }}</a>'}}}},ready:function(){this.addActionPartial()},methods:{addActionPartial:function(){var e="";this.can("collections:manage")&&(e+="<li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>"),this.can("collections:delete")&&(e+='\n                    <li class="warning">\n                        <a href="#" @click.prevent="call(\'deleteItem\', item.id)">{{ translate(\'cp.delete\') }}</a>\n                    </li>'),this.tableOptions.partials.actions=e}}}},{}],125:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("collections/get")},tableOptions:{headers:!1,search:!1,checkboxes:!1,sort:"title",sortOrder:"asc",partials:{cell:'\n                        <div class="stat">\n                            <span class="icon icon-documents"></span>\n                            {{ item.entries }}\n                        </div>\n                        <a :href="item.entries_url">{{ item.title }}</a>\n\n                        <a href="{{ item.create_url }}" v-if="can(\'collections:\'+item.id+\':create\')"\n                           class="btn btn-icon btn-primary pull-right"><span class="icon icon-plus"></span>\n                       </a>'}}}},ready:function(){this.can("super")&&this.addActionPartial()},methods:{addActionPartial:function(){var e="\n                <li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>\n            ";this.tableOptions.partials.actions=e}}}},{}],126:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],props:["get","delete","reorder","canDelete","sort","sortOrder","reorderable"],data:function(){return{ajax:{get:this.get,"delete":this["delete"],reorder:this.reorder},tableOptions:{sort:this.sort,sortOrder:this.sortOrder,reorderable:this.reorderable,partials:{}}}},ready:function(){this.addActionPartial()},methods:{addActionPartial:function(){var e="<li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>";this.canDelete&&(e+='\n                    <li class="warning">\n                        <a href="#" @click.prevent="call(\'deleteItem\', item.id)">{{ translate(\'cp.delete\') }}</a>\n                    </li>'),this.tableOptions.partials.actions=e}}}},{}],127:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("fieldsets/get"),"delete":cp_url("fieldsets/delete")},tableOptions:{headers:!1,search:!1,checkboxes:!1,sort:"title",sortOrder:"asc",partials:{cell:'\n                        <a v-if="$index === 0" :href="item.edit_url">\n                            {{ item[column.label] }}\n                        </a>\n                        <template v-else>\n                            {{ item[column.label] }}\n                        </template>'}}}},ready:function(){this.addActionPartial()},methods:{addActionPartial:function(){var e="";this.can("fieldsets:manage")&&(e+="<li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>"),this.can("fieldsets:delete")&&(e+='\n                    <li class="warning">\n                        <a href="#" @click.prevent="call(\'deleteItem\', item.id)">{{ translate(\'cp.delete\') }}</a>\n                    </li>'),this.tableOptions.partials.actions=e}}}},{}],128:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],props:["get"],data:function(){return{ajax:{get:this.get},tableOptions:{checkboxes:!1,sort:"datestamp",sortOrder:"desc",partials:{cell:'\n                        <a v-if="$index === 0" :href="item.edit_url">\n                            {{ item[column.label] }}\n                        </a>\n                        <template v-else>\n                            {{{ item[column.label] }}}\n                        </template>'}}}}}},{}],129:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("globals/get"),"delete":cp_url("configure/content/globals/delete")},tableOptions:{headers:!1,search:!1,checkboxes:!1,sort:"title",sortOrder:"asc",partials:{cell:"<a :href=\"cp_url('configure/content/globals/')+item.slug\">{{ item.title }}</a>"}}}},ready:function(){this.addActionPartial()},methods:{addActionPartial:function(){var e="";this.can("globals:manage")&&(e+="<li><a :href=\"cp_url('configure/content/globals/')+item.slug\">{{ translate('cp.edit') }}</a></li>"),this.can("globals:delete")&&(e+='\n                    <li class="warning">\n                        <a href="#" @click.prevent="call(\'deleteItem\', item.id)">{{ translate(\'cp.delete\') }}</a>\n                    </li>'),this.tableOptions.partials.actions=e}}}},{}],130:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("globals/get")},tableOptions:{headers:!1,search:!1,checkboxes:!1,sort:"title",sortOrder:"asc",partials:{cell:'<a :href="item.edit_url">{{ item.title }}</a>'}}}}}},{}],131:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("taxonomies/get"),"delete":cp_url("configure/content/taxonomies/delete")},tableOptions:{headers:!1,search:!1,checkboxes:!1,sort:"title",sortOrder:"asc",partials:{cell:'\n                        <div class="stat">\n                            <span class="icon icon-documents"></span>\n                            {{ item.taxonomies }}\n                        </div>\n                        <a :href="item.edit_url">{{ item.title }}</a>'}}}},ready:function(){this.addActionPartial()},methods:{addActionPartial:function(){var e="";this.can("taxonomies:manage")&&(e+="<li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>"),this.can("taxonomies:delete")&&(e+='\n                    <li class="warning">\n                        <a href="#" @click.prevent="call(\'deleteItem\', item.id)">{{ translate(\'cp.delete\') }}</a>\n                    </li>'),this.tableOptions.partials.actions=e}}}},{}],132:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("taxonomies/get")},tableOptions:{headers:!1,search:!1,checkboxes:!1,sort:"title",sortOrder:"asc",partials:{cell:'\n                        <div class="stat">\n                            <span class="icon icon-documents"></span>\n                            {{ item.taxonomies }}\n                        </div>\n                        <a :href="item.terms_url">{{ item.title }}</a>\n\n                        <a href="{{ item.create_url }}" v-if="can(\'taxonomies:\'+item.id+\':create\')"\n                           class="btn btn-icon btn-primary pull-right"><span class="icon icon-plus"></span>\n                        </a>'}}}},ready:function(){this.can("super")&&this.addActionPartial()},methods:{addActionPartial:function(){
var e="\n                <li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>\n            ";this.tableOptions.partials.actions=e}}}},{}],133:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],props:["get","delete","canManage","canDelete"],data:function(){return{ajax:{get:this.get,"delete":this["delete"]},tableOptions:{sort:"title",sortOrder:"asc",partials:{}}}},ready:function(){this.addActionPartial()},methods:{addActionPartial:function(){var e="<li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>";this.canDelete&&(e+='\n                    <li class="warning">\n                        <a href="#" @click.prevent="call(\'deleteItem\', item.id)">{{ translate(\'cp.delete\') }}</a>\n                    </li>'),this.tableOptions.partials.actions=e}}}},{}],134:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("users/groups/get"),"delete":cp_url("users/groups/delete")},tableOptions:{sort:"title",sortOrder:"asc",partials:{cell:'\n                        <a v-if="$index === 0" :href="item.edit_url">\n                            {{ item[column.label] }}\n                        </a>\n                        <template v-else>\n                            {{ item[column.label] }}\n                        </template>'}}}},ready:function(){this.addActionPartial()},methods:{addActionPartial:function(){var e="";this.can("users:manage")&&(e+="<li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>"),this.can("users:delete")&&(e+='\n                    <li class="warning">\n                        <a href="#" @click.prevent="call(\'deleteItem\', item.id)">{{ translate(\'cp.delete\') }}</a>\n                    </li>'),this.tableOptions.partials.actions=e}}}},{}],135:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("users/roles/get"),"delete":cp_url("users/roles/delete")},tableOptions:{sort:"title",sortOrder:"asc",partials:{cell:'\n                        <a v-if="$index === 0" :href="item.edit_url">\n                            {{ item[column.label] }}\n                        </a>\n                        <template v-else>\n                            {{ item[column.label] }}\n                        </template>'}}}},ready:function(){this.addActionPartial()},methods:{addActionPartial:function(){var e="";this.can("users:manage")&&(e+="<li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>"),this.can("users:delete")&&(e+='\n                    <li class="warning">\n                        <a href="#" @click.prevent="call(\'deleteItem\', item.id)">{{ translate(\'cp.delete\') }}</a>\n                    </li>'),this.tableOptions.partials.actions=e}}}},{}],136:[function(e,t,n){"use strict";t.exports={mixins:[Dossier],data:function(){return{ajax:{get:cp_url("users/get"),"delete":cp_url("users/delete")},tableOptions:{sort:"name",sortOrder:"asc",partials:{cell:"\n                        <a v-if=\"$index === 0\" :href=\"item.edit_url\">\n                            <span class=\"status status-{{ (item.status === 'active') ? 'live' : 'hidden' }}\"\n                                  :title=\"(item.status === 'active') ? translate('cp.status_active') : translate('cp.status_pending')\"\n                            ></span>\n                            {{ item[column.label] }}\n                        </a>\n                        <template v-else>\n                            {{ item[column.label] }}\n                        </template>"}}}},ready:function(){this.addActionPartial()},methods:{addActionPartial:function(){var e="";this.can("users:manage")&&(e+="<li><a :href=\"item.edit_url\">{{ translate('cp.edit') }}</a></li>"),this.can("users:delete")&&(e+='\n                    <li class="warning">\n                        <a href="#" @click.prevent="call(\'deleteItem\', item.id)">{{ translate(\'cp.delete\') }}</a>\n                    </li>'),this.tableOptions.partials.actions=e}}}},{}],137:[function(e,t,n){"use strict";t.exports={props:{showEmailLogin:{"default":!1}}}},{}],138:[function(e,t,n){"use strict";t.exports={template:e("./modal.template.html"),props:{show:{type:Boolean,required:!0,"default":!1},full:{type:Boolean,required:!1,"default":!1},"class":{required:!1,"default":function(){return{}}},loading:Boolean,saving:Boolean},computed:{classes:function i(){var e={"modal-full":this.full},i={};return"string"==typeof this["class"]?_.each(this["class"].split(" "),function(e){i[e]=!0}):i=this["class"],$.extend({},e,i)}},methods:{close:function(){this.show=!1}},ready:function(){Mousetrap.bind("esc",function(e){this.close()}.bind(this),"keyup")}}},{"./modal.template.html":139}],139:[function(e,t,n){t.exports='<div class="modal" :class="classes" role="dialog" tabindex="-1" v-if="show">\n    <div class="modal-dialog">\n        <div class="modal-content">\n\n            <div class="saving" v-if="saving">\n                <div class="inner">\n                    <i class="icon icon-circular-graph animation-spin"></i> {{ translate(\'cp.saving\') }}\n                </div>\n            </div>\n\n            <div class="modal-header">\n                <slot name="close">\n                    <button type="button" class="close" aria-label="Close" @click="close"><span aria-hidden="true">&times;</span></button>\n                </slot>\n                <h1><slot name="header"></slot></h1>\n            </div>\n\n            <div v-if="loading" class="loading">\n                <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n            </div>\n\n            <div v-if="! loading" class="modal-body">\n                <slot name="body"></slot>\n            </div>\n\n            <div v-if="! loading" class="modal-footer">\n                <slot name="footer">\n                    <button type="button" class="btn" @click="close">{{ translate(\'cp.close\') }}</button>\n                </slot>\n            </div>\n        </div>\n    </div>\n</div>\n'},{}],140:[function(e,t,n){"use strict";t.exports={template:e("./branch.template.html"),props:{branchIndex:Number,uuid:String,title:String,url:String,published:{type:Boolean,"default":!0},editUrl:String,hasEntries:Boolean,entriesUrl:String,createEntryUrl:String,childPages:{type:Array,"default":function(){return[]}},collapsed:Boolean,depth:Number,home:{type:Boolean,"default":!1}},computed:{hasChildren:function(){return this.childPages.length}},methods:{toggle:function(){this.collapsed=!this.collapsed},createPage:function(){this.$dispatch("pages.create",this.url)},deletePage:function(){var e=this;swal({type:"warning",title:translate("cp.are_you_sure"),text:translate_choice("cp.confirm_delete_items",1),confirmButtonText:translate("cp.yes_im_sure"),cancelButtonText:translate("cp.cancel"),showCancelButton:!0},function(){e.$http.post(cp_url("pages/delete"),{uuid:e.uuid}).success(function(){e.$parent.pages.splice(e.branchIndex,1)})})}}}},{"./branch.template.html":141}],141:[function(e,t,n){t.exports='<li class="branch" :class="{ draft: !published }">\n    <div class="branch-row">\n        <div class="page-indent">\n            <span :class="{\'page-toggle\': true, toggleable: hasChildren}" v-on:click="toggle">\n                <i v-if="hasChildren" :class="{ \'icon\': true, \'icon-chevron-down\': true, \'collapsed\': collapsed }"></i>\n            </span>\n            <span class="page-move drag-handle" v-if="!home"></span>\n            <span class="page-unmovable" v-if="home"></span>\n            <span class="indent-arrow" v-if="!home"></span>\n        </div>\n\n        <div class="page-text">\n            <a :href="editUrl" class="page-title">{{ title }}</a>\n            <a :href="editUrl" class="page-url">{{ url }}</a>\n        </div>\n\n        <div class="page-extras">\n            <div class="page-entries" v-if="hasEntries">\n                <i class="icon icon-documents"></i>\n                <a :href="createEntryUrl">{{ translate(\'cp.add\') }}</a>\n                {{ translate(\'cp.or\') }}\n                <a :href="entriesUrl">{{ translate(\'cp.edit\') }}</a>\n            </div>\n        </div>\n\n        <div class="branch-meta">\n            <div class="page-actions" v-if="can(\'pages:create\') || can(\'pages:delete\')">\n                <a :href="url" :title="url" class="page-action" target="_blank">\n                    <i class="icon icon-link"></i>\n                </a>\n                <div class="btn-group page-action action-more">\n                    <i class="icon icon-dots-three-vertical" data-toggle="dropdown"></i>\n                    <ul class="dropdown-menu">\n                        <li v-if="can(\'pages:create\')"><a href="" @click.prevent="createPage">{{ translate(\'cp.create_page_button\') }}</a></li>\n                        <li v-if="can(\'pages:create\') && can(\'pages:delete\')" class="divider"></li>\n                        <li v-if="can(\'pages:delete\')" class="warning"><a href="" @click.prevent="deletePage">{{ translate(\'cp.delete\') }}</a></li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <branches :pages="childPages"\n              :depth="depth + 1"\n              :parent-url="url"\n              :collapsed.sync="collapsed"\n              v-if="!home">\n    </branches>\n</li>\n'},{}],142:[function(e,t,n){"use strict";t.exports={template:e("./branches.template.html"),props:{pages:Array,depth:Number,parentUrl:{type:String,"default":""},collapsed:Boolean},computed:{classes:function i(){var i=["branches"];i.push("depth-"+this.depth),this.pages.length||i.push("empty");var e=this.collapsed?"collapsed":"open";return i.push("branches-"+e),i.join(" ")}},methods:{toggle:function(e){e.$set("collapsed",!e.collapsed)},buildUrl:function(e){return this.parentUrl+"/"+e}}}},{"./branches.template.html":143}],143:[function(e,t,n){t.exports='<ul :class="classes">\n        <branch v-for="page in pages"\n                :branch-index="$index"\n                :uuid="page.id"\n                :title="page.title || page.slug"\n                :url="buildUrl(page.slug)"\n                :published="page.published"\n                :edit-url="page.edit_url"\n                :has-entries="page.has_entries"\n                :entries-url="page.entries_url"\n                :create-entry-url="page.create_entry_url"\n                :child-pages="page.items"\n                :collapsed.sync="page.collapsed"\n                :depth="depth"\n        ></branch>\n</ul>\n'},{}],144:[function(e,t,n){"use strict";t.exports={template:e("./create-page.template.html"),data:function(){return{parent:null,show:!1,saving:!1,loading:!0,fieldsets:[]}},events:{"pages.create":function(e){this.loading=!0,this.show=!0,this.parent=e,this.getFieldsets()}},methods:{cancel:function(){this.show=!1},create:function(e){window.location=cp_url("pages/create/"+this.parent+"?fieldset="+e)},getFieldsets:function(){var e=cp_url("fieldsets/get?url="+this.parent+"&hidden=false");this.$http.get(e,function(e){var t=[];_.each(e.items,function(e){t.push({value:e.uuid,text:e.title})}),_.findWhere(t,{value:"default"})||t.push({value:"default",text:"Default"}),t=_.sortBy(t,function(e){return e.text}),this.fieldsets=t,this.loading=!1})}}}},{"./create-page.template.html":145}],145:[function(e,t,n){t.exports='<modal :show.sync="show" :saving="saving" :loading="loading" class="modal-small">\n    <template slot="header">{{ translate(\'cp.choose_page_type\') }}</template>\n\n    <template slot="body">\n        <ul class="chooser">\n        <li v-for="fieldset in fieldsets">\n            <a href=\'\' @click.prevent="create(fieldset.value)">{{ fieldset.text }}</a>\n        </li>\n        </ul>\n    </template>\n\n    <template slot="footer">\n        <div class="pull-left">{{ translate(\'cp.parent_page\') }}: <code>{{ parent }}</code></div>\n        <button type="button" class="btn" @click="cancel">{{ translate(\'cp.cancel\') }}</button>\n    </template>\n</modal>\n'},{}],146:[function(e,t,n){"use strict";t.exports={components:{branches:e("./branches"),branch:e("./branch"),"create-page":e("./create-page")},data:function(){return{loading:!0,saving:!1,changed:!1,showUrls:!1,show:"urls",pages:[],arePages:!0}},ready:function(){this.getPages()},methods:{getPages:function(){var e=cp_url("/pages/get");this.$http.get(e,function(e){this.arePages=e.pages.length>0,this.pages=e.pages,this.loading=!1,this.$nextTick(function(){this.initSortable()})})},initSortable:function(){if(Vue.can("pages:reorder")){$(".page-tree").addClass("tree-sortable"),self=this;var e,t,n,i='<li class="branch branch-placeholder"><div class="branch-row depth-{{ depth }}"><div class="page-indent"><span class="page-toggle"></span><span class="page-move drag-handle"></span><span class="indent-arrow"></span></div><div class="page-text">&nbsp;</div></div></li>';$(this.$el).find(".page-tree > ul + ul").nestedSortable({containerSelector:"ul",handle:"li",placeholderClass:"branch-placeholder",placeholder:i,bodyClass:"page-tree-dragging",draggedClass:"branch-dragged",onDragStart:function(i,s,r,o){var a=i[0].__vue__;n=a,e=a.branchIndex,t=a.$parent.pages[e],r(i,s)},onDrag:function(e,n,i,s){$(".branch-placeholder").find(".page-text").text(t.title),i(e,n)},onDrop:function(i,s,r,o){self.changed=!0,n.$parent.pages.splice(e,1);var a=i.index(),l=i.parent()[0].__vue__;t=self.updateDroppedUrl(t,l.$parent.url),l.pages.splice(a,0,t);var c=self.pages;self.pages=[],self.$nextTick(function(){self.pages=c}),r(i,s)}})}},updateDroppedUrl:function(e,t){var n=this;return t=t||"",e.url=t+"/"+e.slug,e.items=_.map(e.items,function(t){return n.updateDroppedUrl(t,e.url)}),e},expandAll:function(){this.toggleAll(!1)},collapseAll:function(){this.toggleAll(!0)},toggleAll:function(e,t){var n=this;t=t||n.pages,_.each(t,function(t){Vue.set(t,"collapsed",e),t.items.length&&n.toggleAll(e,t.items)})},toggleUrls:function(){this.showUrls=!this.showUrls,this.showUrls?this.show="titles":this.show="urls"},save:function(){var e=this;e.saving=!0;var t=JSON.parse(JSON.stringify(e.pages));t=e.updateOrderIndexes(t),this.$http.post(cp_url("/pages"),{pages:t}).success(function(t){e.getPages(),e.changed=!1,e.saving=!1})},updateOrderIndexes:function(e){var t=this;return _.map(e,function(e,n){return e.items.length&&(e.items=t.updateOrderIndexes(e.items)),e.order=n+1,e})},createPage:function(e){this.$broadcast("pages.create",e)}},events:{"pages.create":function(e){this.$broadcast("pages.create",e)}}}},{"./branch":140,"./branches":142,"./create-page":144}],147:[function(e,t,n){"use strict";window.Vue;t.exports={template:e("./fields.template.html"),props:["fieldData","builder","fields","errors","fieldset-name","uuid","locale","editing-fieldset","selected-field","on-select","on-delete","on-sort","env","removeTitle"],data:function(){return{loading:!0,widths:[{value:100,text:"100%"},{value:75,text:"75%"},{value:66,text:"66%"},{value:50,text:"50%"},{value:33,text:"33%"},{value:25,text:"25%"}]}},methods:{getFieldset:function(){var e={},t=cp_url("fieldsets/")+this.fieldsetName+"/get";e.locale=this.locale,this.$http.get(t,e).success(function(e){if(this.removeTitle){var t=_.findIndex(e.fields,function(e){return"title"===e.name});-1!==t&&e.fields.splice(t,1)}this.fields=e.fields,this.loading=!1,this.$dispatch("fieldsetLoaded",e)})},colClass:function(e){return this.$root.isPreviewing?"col-md-12":(e=e||100,"col-md-"+Math.round(e/8.333))},widthText:function(e){var e=e||100;return _.findWhere(this.widths,{value:e}).text},sortableWatcher:function(){this.editingFieldset&&this.enableSorting(),this.$watch("editingFieldset",function(e,t){e?this.enableSorting():this.disableSorting()})},enableSorting:function(){var e=this,t=null;$(this.$el).siblings(".publish-fields").sortable({revert:175,start:function(e,n){n.placeholder.html('<div class="field-inner"></div>'),t=n.item.index()},update:function(n,i){var s=i.item.index();e.fields.splice(s,0,e.fields.splice(t,1)[0])}})},disableSorting:function(){$(this.$el).siblings(".publish-fields").sortable("destroy")},editFieldset:function(){this.editingFieldset=!0},saveFieldset:function(){var e=this,t=_.map(this.fields,function(e){return _.pick(e,"name","width")});this.$http.post(cp_url("fieldsets/update-layout/")+this.fieldsetName,{fields:t}).success(function(t){e.editingFieldset=!1})},stopPreviewing:function(){this.$event.preventDefault(),this.$root.$set("isPreviewing",!1)},hasError:function(e){return _.has(this.errors,"fields."+e.name)},definedInEnvironment:function(e){return _.has(this.env,e)}},ready:function(){this.getFieldset(),this.sortableWatcher(),this.$on("saveLayout",function(){this.saveFieldset()})}}},{"./fields.template.html":148}],148:[function(e,t,n){t.exports='<div v-if="loading" class="loading">\n	<span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n</div>\n\n<div class="publish-fields">\n	<div v-for="field in fields"\n	     class="form-group {{ field.type }}-fieldtype width-{{ field.width || 100 }} {{ hasError(field) ? \'has-error\' : \'\' }}">\n		<div class="field-inner">\n\n			<label class="block">\n				<template v-if="field.display">{{ field.display }}</template>\n				<template v-if="!field.display">{{ field.name | capitalize }}</template>\n				<i class="required" v-if="field.required">*</i>\n			</label>\n\n			<small class="help-block" v-if="field.instructions" v-html="field.instructions | markdown"></small>\n\n			<div v-if="definedInEnvironment(field.name)" class="environment-field">\n				<i class="icon icon-lock"></i> Managed externally by your environment.\n			</div>\n\n			<component v-else\n			           :is="field.type + \'-fieldtype\'"\n			           :name="field.name"\n			           :data.sync="fieldData[field.name]"\n			           :config="fields[$index]">\n			</component>\n\n			<div class="field-mask" v-if="editingFieldset">\n				<div class="field-actions">\n					<i class="icon icon-menu"></i>\n					<div class="select" :data-content="widthText(field.width)">\n						<select v-model="field.width">\n							<option v-for="width in widths" :value="width.value">{{ width.text }}</option>\n						</select>\n					</div>\n				</div>\n			</div>\n\n		</div>\n	</div>\n</div>\n'},{}],149:[function(e,t,n){"use strict";t.exports={template:e("./locale-selector.template.html"),props:["locales"],data:function(){return{ready:!1}},computed:{activeLocale:function(){return _.findWhere(this.locales,{is_active:!0})}},methods:{classes:function i(e){var i="icon-status pull-right icon-status-";return i+=e.is_active?"live":"hidden"},select:function(e){e.is_active||(window.location=e.url)}},ready:function(){this.locales=JSON.parse(this.locales),this.ready=!0}}},{"./locale-selector.template.html":150}],150:[function(e,t,n){t.exports='<div class="form-group">\n    <label class="block">{{ translate_choice(\'cp.locales\', 2) }}</label>\n    <div class="btn-group" v-if="ready">\n        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            {{ activeLocale.label }} <span class="caret"></span>\n        </button>\n        <ul class="dropdown-menu">\n            <li v-for="locale in locales">\n                <a href="#" @click.prevent="select(locale)">\n                    <i v-if="locale.has_content" :class="classes(locale)"></i>\n                    {{ locale.label }}\n                </a>\n            </li>\n        </ul>\n    </div>\n</div>\n'},{}],151:[function(e,t,n){"use strict";Mousetrap=e("mousetrap"),function(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(e,i,s,r){return this.paused?!0:t[s]||t[r]?!1:n.call(this,e,i,s)},e.prototype.bindGlobal=function(e,n,i){if(this.bind(e,n,i),e instanceof Array)for(n=0;n<e.length;n++)t[e[n]]=!0;else t[e]=!0},e.init()}(Mousetrap),t.exports={template:e("./publish.template.html"),components:{"publish-fields":e("./fields"),"locale-selector":e("./locale-selector"),"user-options":e("./user-options")},deep:!0,props:{title:String,extra:String,isNew:Boolean,contentData:String,contentType:String,uuid:String,fieldsetName:String,slug:{type:String,"default":""},url:String,status:{type:Boolean,"default":!0},locale:String,locales:String,isDefaultLocale:{type:Boolean,"default":!0},removeTitle:{type:Boolean,"default":!1}},data:function(){return{loading:!1,saving:!1,editingLayout:!1,fieldset:{},formData:{extra:{},fields:{}},isSlugModified:!1,iframeLoading:!1,previewRequestQueued:!1,errors:[]}},computed:{isEntry:function(){return"entry"===this.contentType},isTaxonomy:function(){return"taxonomy"===this.contentType},isGlobal:function(){return"global"===this.contentType},isUser:function(){return"user"===this.contentType},isSettings:function(){return"settings"===this.contentType},isAddon:function(){return"addon"===this.contentType},isPage:function(){return"page"===this.contentType},isHomePage:function(){return this.isPage&&"/"===this.url},shouldShowMeta:function(){return this.isHomePage?!0:!this.isUser&&!this.isSettings&&!this.isAddon&&(this.shouldShowSlug||this.shouldShowDate||this.shouldShowLocales)},shouldShowTitle:function(){return!this.isGlobal},shouldShowSlug:function(){return!(this.isSettings||this.isAddon||this.isGlobal||this.isUser||this.isHomePage)},shouldShowStatus:function(){return!this.isSettings&&!this.isAddon&&this.isDefaultLocale&&!this.isGlobal&&!this.isTaxonomy&&!this.isUser&&!this.isHomePage},shouldShowLocales:function(){return this.locales&&this.locales.length>1&&!this.isNew},shouldShowDate:function(){return this.isEntry?!this.isNew&&this.formData.extra.datetime?!0:!(!this.isNew||"date"!==this.formData.extra.order_type):!1},shouldShowSneakPeek:function(){return!(this.isGlobal||this.isSettings||this.isUser||this.isAddon)},canEditLayout:function(){return!this.isSettings&&this.can("fieldsets:manage")},hasErrors:function(){return 0!==_.size(this.errors)}},methods:{initFormData:function(){this.formData={fieldset:this.fieldsetName,"new":this.isNew,type:this.contentType,uuid:this.uuid,status:this.status,slug:this.slug,locale:this.locale,extra:this.extra,fields:this.contentData}},publish:function(){var e=this;if(e.saving=!0,e.errors=[],this.isSettings)var t=cp_url("settings/")+this.slug;else if(this.isAddon)var t=cp_url("addons/")+this.extra.addon+"/settings";else var t=cp_url("publish");var n=this.$http.post(t,this.formData);n.success(function(t){e.loading=!1,t.success?window.location=t.redirect:this.errors=t.errors}),n.error(function(e){alert("There was a problem saving the data. Please check your logs.")})},publishAndContinue:function(){this.formData["continue"]=!0,this.publish()},editLayout:function(e){this.$event.preventDefault(),this.editingLayout=e},saveLayout:function(){this.$broadcast("saveLayout"),this.editingLayout=!1},initPreview:function(){var e=$('<iframe frameborder="0" id="sneak-peek-iframe">').appendTo("#sneak-peek");e.get(0);this.updatePreview()},updatePreview:_.debounce(function(e){if(this.iframeLoading)return void(this.previewRequestQueued=!0);var t=this.formData;if(t.preview=!0,this.iframeLoading=!0,this.isNew)if(this.isPage){var n=this.formData.slug||"new-page",i=this.extra.parent_url+"/"+n;i=i.replace("//","/")}else var i=this.entryUrl();else var i=this.url;this.$http.post(i,t,function(e,t,n){this.updatePreviewIframe(e),this.iframeLoading=!1,this.previewRequestQueued&&(this.previewRequestQueued=!1,this.updatePreview())})},150),updatePreviewIframe:function(e){var t=$("#sneak-peek-iframe"),n=t.get(0),i=$(n.contentWindow.document).scrollLeft(),s=$(n.contentWindow.document).scrollTop();e+='<script type="text/javascript">window.scrollTo('+i+", "+s+");</script>",n.contentWindow.document.open(),n.contentWindow.document.write(e),n.contentWindow.document.close()},syncTitleAndSlugFields:function(){this.isNew&&this.$watch("formData.fields.title",function(e){this.isSlugModified||(this.formData.slug=this.$slugify(e))})},entryUrl:function(){if(!this.isNew)return this.url;var e=this.isTaxonomy?"new-term":"new-entry",t=this.formData.slug||e,n=this.extra.route,i=n;if("date"===this.extra.order_type)var s=this.date();for(var r,o=/{\s*([a-zA-Z0-9_\-]+)\s*}/g;null!==(r=o.exec(n));){var a=r[0],l="";switch(a){case"{year}":l=s.format("YYYY");break;case"{month}":l=s.format("MM");break;case"{day}":l=s.format("DD");break;case"{slug}":l=t;break;default:var c=a.substring(1,a.length-1);l=this.formData.fields[c]}i=i.replace(a,l)}return i},date:function i(){var i=this.extra.datetime,e="YYYY-MM-DD";return i.length>10&&(e+=" HH:mm"),moment(i,e)}},ready:function(){var e=this;this.contentData=JSON.parse(this.contentData),this.extra=JSON.parse(this.extra),this.locales=this.locales?JSON.parse(this.locales):null,this.initFormData(),this.syncTitleAndSlugFields();var t=null;this.shouldShowSneakPeek&&(this.$root.isPublishPage=!0,this.$on("previewing",function(){this.initPreview(),t=this.$watch("formData",function(e){this.updatePreview()},{deep:!0})})),this.$on("previewing.stopped",function(){t()}),this.$on("fieldsetLoaded",function(e){this.fieldset=e}),Mousetrap.bindGlobal("mod+s",function(t){t.preventDefault(),e.publishAndContinue()}),Mousetrap.bindGlobal(["meta+enter","meta+return"],function(t){t.preventDefault(),e.publish()})}}},{"./fields":147,"./locale-selector":149,"./publish.template.html":152,"./user-options":153,mousetrap:180}],152:[function(e,t,n){t.exports='<div class="publish-form">\n\n    <div v-if="loading" class="loading loading-blocker">\n        <span class="icon icon-circular-graph animation-spin"></span> {{ translate(\'cp.loading\') }}\n    </div>\n\n    <div class="alert alert-danger" v-if="hasErrors">\n        <ul>\n            <li v-for="error in errors">{{ error }}</li>\n        </ul>\n    </div>\n\n    <div class="card sticky flat-bottom">\n        <div class="head clearfix">\n            <h1>\n                <span v-if="! isDefaultLocale" class="locale">{{ locale }}</span>\n                <span>{{ title }}</span>\n            </h1>\n\n            <div class="controls">\n\n                <user-options v-if="isUser && !isNew" :username="slug" :status="contentData.status"></user-options>\n\n                <div v-if="shouldShowStatus && ! editingLayout" class="status">\n                    <label>{{ translate(\'cp.published\') }}</label>\n                    <toggle-fieldtype name="status" :data.sync="formData.status"></toggle-fieldtype>\n                </div>\n\n                <template v-if="editingLayout">\n                    <button class="btn" @click="editLayout(false)">\n                        {{ translate(\'cp.cancel\') }}\n                    </button>\n                    <div class="btn-group">\n                        <button type="button" class="btn btn-primary" @click="saveLayout">\n                            {{ translate(\'cp.save_layout\') }}\n                        </button>\n                    </div>\n                </template>\n\n                <div class="btn-group" v-if="!editingLayout">\n                    <button type="button" class="btn btn-primary" v-on:click="publish">{{ translate(\'cp.save\') }}</button>\n                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                        <span class="caret"></span>\n                        <span class="sr-only">{{ translate(\'cp.toggle_dropdown\') }}</span>\n                    </button>\n                    <ul class="dropdown-menu">\n                        <li><a href="" id="publish-continue" @click.prevent="publishAndContinue">{{ translate(\'cp.save_and_continue\') }}</a></li>\n                        <li v-if="canEditLayout"><a href="" @click.prevent="editLayout(true)">{{ translate(\'cp.edit_layout\') }}</a></li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="card flat-top" v-if="shouldShowMeta">\n        <div class="publish-meta">\n            <div class="form-group title-field" v-if="shouldShowTitle">\n                <label class="block">{{ translate(\'cp.title\') }}</label>\n                <input type="text" v-model="formData.fields.title" placeholder="{{ translate(\'cp.new\') }} {{ contentType }}" />\n            </div>\n            <div class="form-group equal" v-if="shouldShowSlug">\n                <label class="block">{{ translate(\'cp.slug\') }}</label>\n                <input type="text" v-model="formData.slug" class="form-control" @keydown="isSlugModified = true"\n                       placeholder="{{ translate(\'cp.new\').toLowerCase() }}-{{ contentType.toLowerCase() }}">\n            </div>\n            <div class="form-group equal" v-if="shouldShowDate">\n                <label class="block">{{ translate(\'cp.date_and_time\') }}</label>\n                <date-fieldtype name="date" :data.sync="formData.extra.datetime"></date-fieldtype>\n            </div>\n\n            <locale-selector v-if="shouldShowLocales" :locales="locales"></locale-selector>\n        </div>\n    </div>\n\n    <div class="card">\n        <div :class="{ \'editing-layout\': editingLayout }">\n            <div class="publish-main">\n\n                <publish-fields :errors="errors"\n                                :fieldset-name="fieldsetName"\n                                :uuid="uuid"\n                                :locale="locale"\n                                :editing-fieldset="editingLayout"\n                                :field-data="formData.fields"\n                                :env="extra.env"\n                                :remove-title="removeTitle">\n                </publish-fields>\n\n            </div>\n        </div>\n    </div>\n</div>\n'},{}],153:[function(e,t,n){"use strict";t.exports={template:e("./user-options.template.html"),props:["username","status"],methods:{sendResetEmail:function(){var e="Email not sent. Please check your logs.";this.$http.get(cp_url("users/"+this.username+"/send-reset-email")).success(function(t){t.success?alert("Email sent."):alert(e)}).error(function(t){alert(e)})},copyResetLink:function(){var e="There was a problem generating the link. Please check your logs.";this.$http.get(cp_url("users/"+this.username+"/reset-url")).success(function(t){t.success?prompt("",t.url):alert(e)}).error(function(t){alert(e)})}}}},{"./user-options.template.html":154}],154:[function(e,t,n){t.exports='<div class="btn-group">\n    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n        User Options &nbsp; <span class="caret"></span>\n    </button>\n    <ul class="dropdown-menu">\n        <li><a href="" @click.prevent="sendResetEmail">Send {{ status == \'pending\' ? \'activation\' : \'password reset\' }} email</a></li>\n        <li><a href="" @click.prevent="copyResetLink">Copy {{ status == \'pending\' ? \'activation\' : \'password reset\' }} link</a></li>\n    </ul>\n</div>\n'},{}],155:[function(e,t,n){"use strict";var i={name:"permission",template:'\n        <div>\n            <input type="checkbox" :id="name" name="permissions[]" v-model="selectedPermissions" :value="name" :disabled="disabled" />\n            <label :for="name">{{ label }}</label>\n\n            <ul v-if="children" :class="{ \'disabled\': !selected }">\n                <li v-for="(key, value) in children">\n                    <permission :key="key"\n                                :value="value"\n                                :selected-permissions="selectedPermissions"\n                                :disabled="!selected"\n                    ></permission>\n                </li>\n            </ul>\n        </div>\n    ',props:["key","value","selectedPermissions","disabled"],computed:{name:function(){return this.hasChildren?this.key:this.value},label:function(){var e=this.name,t=e.match(/^.*\:(.*)\:.*$/);return t&&(e=t[0].replace(":"+t[1]+":",":*:")),translate("permissions."+e)},hasChildren:function(){return"string"!=typeof this.value},children:function(){
return this.hasChildren?this.value:null},selected:function(){return _.contains(this.selectedPermissions,this.name)}},watch:{disabled:function(e){if(e){var t=_.indexOf(this.selectedPermissions,this.name);-1!==t&&this.selectedPermissions.splice(t,1)}}}};t.exports={components:{Permission:i},props:["permissions","selected","titles"],computed:{superSelected:function(){return-1!==_.indexOf(this.selected,"super")}},methods:{startsWith:function(e,t){return!e.indexOf(t)},title:function(e){var t=e.split(":");return this.titles[t[0]][t[1]]},label:function(e){return this.startsWith(e,"collections")?translate_choice("cp.collections",1)+": "+this.title(e):this.startsWith(e,"taxonomies")?translate_choice("cp.taxonomies",1)+": "+this.title(e):this.startsWith(e,"globals")?translate_choice("cp.globals",1)+": "+this.title(e):this.startsWith(e,"assets")?translate_choice("cp.asset_containers",2)+": "+this.title(e):translate("permissions.group_"+e)}}}},{}],156:[function(e,t,n){"use strict";t.exports={template:e("./input.template.html"),props:["query","onUp","onDown","onHit","onReset"],methods:{up:function(){this.onUp()},down:function(){this.onDown()},hit:function(){this.onHit()},reset:function(){this.onReset()}}}},{"./input.template.html":157}],157:[function(e,t,n){t.exports='<input type="text"\n       autocomplete="off"\n       v-model="query"\n       @keydown.up="up"\n       @keydown.down="down"\n       @keydown.enter="hit"\n       @keydown.esc="reset"\n       @blur="reset"\n   />'},{}],158:[function(e,t,n){"use strict";t.exports={template:e("./typeahead.template.html"),props:{limit:Number,src:String},data:function(){return{items:[],query:"",current:0,loading:!1}},components:{"typeahead-input":e("./input")},computed:{hasItems:function(){return this.items.length>0},isEmpty:function(){return!this.query&&!this.loading},isDirty:function(){return!!this.query&&!this.loading}},methods:{update:function(){return this.query?(this.loading=!0,void this.$http.get(this.src,Object.assign({q:this.query},this.data)).success(function(e){this.query&&(this.items=this.limit?e.slice(0,this.limit):e,this.current=0,this.loading=!1)}.bind(this))):void this.reset()},reset:function(){this.items=[],this.query="",this.loading=!1},setActive:function(e){this.current=e},isActive:function(e){return this.current==e},hit:function(){this.hasItems&&(window.location.href=this.items[this.current].edit_url)},up:function(){this.current>0&&this.current--},down:function(){this.current<this.items.length-1&&this.current++}},ready:function(){this.$watch("query",function(e,t){this.update()})}}},{"./input":156,"./typeahead.template.html":159}],159:[function(e,t,n){t.exports='<div id="typeahead" v-cloak>\n    <i class="icon icon-magnifying-glass" v-show="isEmpty"></i>\n    <i class="icon icon-circle-with-cross" v-show="isDirty || loading" @click="reset"></i>\n\n    <typeahead-input class="search alt"\n                     placeholder="{{ translate(\'cp.search_for_anything\') }}..."\n                     id="global-search"\n                     :query.sync="query"\n                     :on-up="up"\n                     :on-down="down"\n                     :on-hit="hit"\n                     :on-reset="reset"\n    ></typeahead-input>\n\n    <ul v-show="hasItems">\n        <li v-for="item in items" :class="{\'active\': isActive($index)}" @mousedown="hit" @mousemove="setActive($index)">\n            <span class="title" v-html="item.title"></span>\n            <span class="url" v-html="item.url"></span>\n        </li>\n    </ul>\n</div>\n'},{}],160:[function(e,t,n){"use strict";t.exports={props:{version:{type:String,"default":null}},data:function(){return{started:!1,backingUp:!1,backedUp:!1,backupFailed:!1,backupMessage:null,downloading:!1,downloaded:!1,downloadFailed:!1,downloadMessage:null,installing:!1,unzipping:!1,unzipped:!1,unzippingFailed:!1,installingDependencies:!1,installedDependencies:!1,installingDependenciesFailed:!1,swapping:!1,swapped:!1,swappingFailed:!1,updated:!1,cleaningUp:!1,cleanedUp:!1,cleanupFailed:!1,errors:[]}},computed:{readyToInstall:function(){return this.backedUp&&this.downloaded},hasErrors:function(){return this.errors.length>0}},methods:{start:function(){this.started=!0,this.backup(),this.download()},backup:function(){this.backingUp=!0,this.$http.post(cp_url("system/updater/backup"),{version:this.version}).success(function(e){this.backingUp=!1,this.backedUp=!0,this.backupMessage=e.message,this.install()}).error(function(e){this.backingUp=!1,this.backupFailed=!0,this.womp(e)})},download:function(){this.downloading=!0,this.$http.post(cp_url("system/updater/download"),{version:this.version}).success(function(e){this.downloading=!1,this.downloaded=!0,this.downloadMessage=e.message,this.install()}).error(function(e){this.downloading=!1,this.downloadFailed=!0,this.womp(e)})},install:function(){this.readyToInstall&&(this.installing=!0,this.unzip())},unzip:function(){this.unzipping=!0,this.$http.post(cp_url("system/updater/unzip"),{version:this.version}).success(function(){this.unzipping=!1,this.unzipped=!0,this.composer()}).error(function(e){this.unzipping=!1,this.unzipped=!1,this.unzippingFailed=!0,this.womp(e)})},composer:function(){this.installingDependencies=!0,this.$http.post(cp_url("system/updater/composer"),{version:this.version}).success(function(){this.installingDependencies=!1,this.installedDependencies=!0,this.swap()}).error(function(e){this.installingDependencies=!1,this.installingDependenciesFailed=!1,this.womp(e)})},swap:function(){this.swapping=!0,this.$http.post(cp_url("system/updater/swap"),{version:this.version}).success(function(){this.swapping=!1,this.swapped=!0,this.cleanUp()}).error(function(e){this.swapping=!1,this.swappingFailed=!0,this.womp(e)})},cleanUp:function(){this.updated=!0,this.cleaningUp=!0,this.$root.version=this.version,$(".nav-main .update").hide(),this.$http.post(cp_url("system/updater/clean"),{version:this.version}).success(function(){this.cleaningUp=!1,this.cleanedUp=!0}).error(function(e){this.cleaningUp=!1,this.cleanUpFailed=!0,this.womp(e)})},womp:function(e){var t=this;_.each(e.errors,function(e){t.errors.push(e)})}}}},{}],161:[function(e,t,n){"use strict";t.exports={bind:function(){setTimeout(function(){autosize(this.el)}.bind(this),10)}}},{}],162:[function(e,t,n){"use strict";var i=e("marked");i.setOptions({gfm:!1}),t.exports=function(e){return i(e)}},{marked:179}],163:[function(e,t,n){"use strict";t.exports=function(e){return options=JSON.parse(JSON.stringify(e)),format_input_options(options)}},{}],164:[function(e,t,n){"use strict";t.exports=function(e,t,n){if(!t)return e;var i=n&&0>n?-1:1;return e.slice().sort(function(e,n){return"$key"!==t&&(Vue.util.isObject(e)&&"$value"in e&&(e=e.$value),Vue.util.isObject(n)&&"$value"in n&&(n=n.$value)),e=Vue.util.isObject(e)?Vue.parsers.path.getPath(e,t):e,n=Vue.util.isObject(n)?Vue.parsers.path.getPath(n,t):n,e="string"==typeof e?e.toLowerCase():e,n="string"==typeof n?n.toLowerCase():n,e===n?0:e>n?i:-i})}},{}],165:[function(e,t,n){"use strict";t.exports=function(e){return JSON.parse(e)}},{}],166:[function(e,t,n){"use strict";t.exports=function(e,t){return e.map(function(e){return e[t]})}},{}],167:[function(e,t,n){"use strict";t.exports=function(e){return"<pre><code>"+JSON.stringify(e,null,2)+"</code></pre>"}},{}],168:[function(e,t,n){"use strict";t.exports=function(e){return e.split("").reverse().join("")}},{}],169:[function(e,t,n){"use strict";if(Statamic.permissions)var i=JSON.parse(atob(Statamic.permissions));var s=function(e){if(_.contains(i,"super"))return!0;var t=e.split(":").length-1;if(2===t){var n=e.split(":"),s=n[0]+":";if(s+="delete"===n[2]?"delete":"manage",_.contains(i,s))return!0}return _.contains(i,e)};n.install=function(e,t){e.prototype.can=function(e){return s(e)},e.can=function(e){return s(e)}}},{}],170:[function(e,t,n){"use strict";n.install=function(e,t){e.prototype.cp_url=function(e){return cp_url(e)}}},{}],171:[function(e,t,n){"use strict";n.install=function(e,t){e.prototype.resource_url=function(e){return resource_url(e)}}},{}],172:[function(e,t,n){"use strict";n.install=function(e,t){e.prototype.$slugify=function(e,t){return slug(e,{replacement:t||"-",lower:!0})}}},{}],173:[function(e,t,n){"use strict";n.install=function(e,t){e.prototype.translate=function(e,t){return translate(e,t)},e.prototype.translate_choice=function(e,t,n){return translate_choice(e,t,n)}}},{}],174:[function(e,t,n){!function(e){if("object"==typeof n&&"object"==typeof t)t.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i?Es(i):{},Es(Zr,i,!1),p(i);var s=i.value;"string"==typeof s&&(s=new Co(s,i.mode,null,i.lineSeparator)),this.doc=s;var r=new e.inputStyles[i.inputStyle](this),o=this.display=new t(n,s,r);o.wrapper.CodeMirror=this,c(this),a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Mr&&o.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Os,keySeq:null,specialChars:null};var l=this;yr&&11>br&&setTimeout(function(){l.display.input.reset(!0)},20),Rt(this),Ys(),xt(this),this.curOp.forceUpdate=!0,Qi(this,s),i.autofocus&&!Mr||l.hasFocus()?setTimeout(Ws(vn,this),20):yn(this);for(var d in eo)eo.hasOwnProperty(d)&&eo[d](this,i[d],to);k(this),i.finishInit&&i.finishInit(this);for(var u=0;u<ro.length;++u)ro[u](this);kt(this),xr&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function t(e,t,n){var i=this;this.input=n,i.scrollbarFiller=Rs("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Rs("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Rs("div",null,"CodeMirror-code"),i.selectionDiv=Rs("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Rs("div",null,"CodeMirror-cursors"),i.measure=Rs("div",null,"CodeMirror-measure"),i.lineMeasure=Rs("div",null,"CodeMirror-measure"),i.lineSpace=Rs("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Rs("div",[Rs("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Rs("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Rs("div",null,null,"position: absolute; height: "+Io+"px; width: 1px;"),i.gutters=Rs("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Rs("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Rs("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),yr&&8>br&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),xr||mr&&Mr||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Be(e,100),e.state.modeGen++,e.curOp&&It(e)}function s(e){e.options.lineWrapping?(Jo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Xo(e.display.wrapper,"CodeMirror-wrap"),h(e)),o(e),It(e),at(e),setTimeout(function(){y(e)},100)}function r(e){var t=yt(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/bt(e.display)-3);return function(s){if(ki(e.doc,s))return 0;var r=0;if(s.widgets)for(var o=0;o<s.widgets.length;o++)s.widgets[o].height&&(r+=s.widgets[o].height);return n?r+(Math.ceil(s.text.length/i)||1)*t:r+t}}function o(e){var t=e.doc,n=r(e);t.iter(function(e){var t=n(e);t!=e.height&&es(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),at(e)}function l(e){c(e),It(e),setTimeout(function(){w(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;qs(t);for(var i=0;i<n.length;++i){var s=n[i],r=t.appendChild(Rs("div",null,"CodeMirror-gutter "+s));"CodeMirror-linenumbers"==s&&(e.display.lineGutter=r,r.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",d(e)}function d(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function u(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=mi(i);){var s=t.find(0,!0);i=s.from.line,n+=s.from.ch-s.to.ch}for(i=e;t=gi(i);){var s=t.find(0,!0);n-=i.text.length-s.from.ch,i=s.to.line,n+=i.text.length-s.to.ch}return n}function h(e){var t=e.display,n=e.doc;t.maxLine=Xi(n,n.first),t.maxLineLength=u(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=u(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=Ds(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function f(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Ue(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Ve(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function m(e,t,n){this.cm=n;var i=this.vert=Rs("div",[Rs("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),s=this.horiz=Rs("div",[Rs("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(s),Oo(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Oo(s,"scroll",function(){s.clientWidth&&t(s.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,yr&&8>br&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Xo(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Oo(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?rn(t,e):sn(t,e)},t),t.display.scrollbars.addClass&&Jo(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=f(e));var n=e.display.barWidth,i=e.display.barHeight;b(e,t);for(var s=0;4>s&&n!=e.display.barWidth||i!=e.display.barHeight;s++)n!=e.display.barWidth&&e.options.lineWrapping&&$(e),b(e,f(e)),n=e.display.barWidth,i=e.display.barHeight}function b(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function x(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-qe(e));var s=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,r=ns(t,i),o=ns(t,s);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;r>a?(r=a,o=ns(t,is(Xi(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(r=ns(t,is(Xi(t,l))-e.wrapper.clientHeight),o=l)}return{from:r,to:Math.max(o,r+1)}}function w(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=C(t)-t.scroller.scrollLeft+e.doc.scrollLeft,s=t.gutters.offsetWidth,r=i+"px",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&n[o].gutter&&(n[o].gutter.style.left=r);var a=n[o].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=r}e.options.fixedGutter&&(t.gutters.style.left=i+s+"px")}}function k(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=S(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var s=i.measure.appendChild(Rs("div",[Rs("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),r=s.firstChild.offsetWidth,o=s.offsetWidth-r;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(r,i.lineGutter.offsetWidth-o)+1,i.lineNumWidth=i.lineNumInnerWidth+o,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",d(e),!0}return!1}function S(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function C(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function _(e,t,n){var i=e.display;this.viewport=t,this.visible=x(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ge(e),this.force=n,this.dims=D(e),this.events=[]}function T(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ve(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ve(e)+"px",t.scrollbarsClipped=!0)}function L(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return Et(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==zt(e))return!1;k(e)&&(Et(e),t.dims=D(e));var s=i.first+i.size,r=Math.max(t.visible.from-e.options.viewportMargin,i.first),o=Math.min(s,t.visible.to+e.options.viewportMargin);n.viewFrom<r&&r-n.viewFrom<20&&(r=Math.max(i.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(s,n.viewTo)),Pr&&(r=xi(e.doc,r),o=wi(e.doc,o));var a=r!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Ht(e,r,o),n.viewOffset=is(Xi(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=zt(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=js();return l>4&&(n.lineDiv.style.display="none"),N(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&js()!=c&&c.offsetHeight&&c.focus(),qs(n.cursorDiv),qs(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Be(e,400)),n.updateLineNumbers=null,!0}function M(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Ge(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ue(e.display)-Ke(e),n.top)}),t.visible=x(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&L(e,t);i=!1){$(e);var s=f(e);Ne(e),y(e,s),O(e,s)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function A(e,t){var n=new _(e,t);if(L(e,n)){$(e),M(e,n);var i=f(e);Ne(e),y(e,i),O(e,i),n.finish()}}function O(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ve(e)+"px"}function $(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var s,r=t.view[i];if(!r.hidden){if(yr&&8>br){var o=r.node.offsetTop+r.node.offsetHeight;s=o-n,n=o}else{var a=r.node.getBoundingClientRect();s=a.bottom-a.top}var l=r.line.height-s;if(2>s&&(s=yt(t)),(l>.001||-.001>l)&&(es(r.line,s),F(r.line),r.rest))for(var c=0;c<r.rest.length;c++)F(r.rest[c])}}}function F(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function D(e){for(var t=e.display,n={},i={},s=t.gutters.clientLeft,r=t.gutters.firstChild,o=0;r;r=r.nextSibling,++o)n[e.options.gutters[o]]=r.offsetLeft+r.clientLeft+s,i[e.options.gutters[o]]=r.clientWidth;return{fixedPos:C(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function N(e,t,n){function i(t){var n=t.nextSibling;return xr&&Ar&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var s=e.display,r=e.options.lineNumbers,o=s.lineDiv,a=o.firstChild,l=s.view,c=s.viewFrom,d=0;d<l.length;d++){var u=l[d];if(u.hidden);else if(u.node&&u.node.parentNode==o){for(;a!=u.node;)a=i(a);var h=r&&null!=t&&c>=t&&u.lineNumber;u.changes&&(Ds(u.changes,"gutter")>-1&&(h=!1),I(e,u,c,n)),h&&(qs(u.lineNumber),u.lineNumber.appendChild(document.createTextNode(S(e.options,c)))),a=u.node.nextSibling}else{var p=q(e,u,c,n);o.insertBefore(p,a)}c+=u.size}for(;a;)a=i(a)}function I(e,t,n,i){for(var s=0;s<t.changes.length;s++){var r=t.changes[s];"text"==r?B(e,t):"gutter"==r?z(e,t,n,i):"class"==r?H(t):"widget"==r&&R(e,t,i)}t.changes=null}function P(e){return e.node==e.text&&(e.node=Rs("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),yr&&8>br&&(e.node.style.zIndex=2)),e.node}function E(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=P(e);e.background=n.insertBefore(Rs("div",null,t),n.firstChild)}}function W(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Wi(e,t)}function B(e,t){var n=t.text.className,i=W(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,H(t)):n&&(t.text.className=n)}function H(e){E(e),e.line.wrapClass?P(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function z(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var s=P(t);t.gutterBackground=Rs("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),s.insertBefore(t.gutterBackground,t.text)}var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var s=P(t),o=t.gutter=Rs("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(o),s.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(Rs("div",S(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=r.hasOwnProperty(l)&&r[l];c&&o.appendChild(Rs("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function R(e,t,n){t.alignable&&(t.alignable=null);for(var i,s=t.node.firstChild;s;s=i){var i=s.nextSibling;"CodeMirror-linewidget"==s.className&&t.node.removeChild(s)}U(e,t,n)}function q(e,t,n,i){var s=W(e,t);return t.text=t.node=s.pre,s.bgClass&&(t.bgClass=s.bgClass),s.textClass&&(t.textClass=s.textClass),H(t),z(e,t,n,i),U(e,t,i),t.node}function U(e,t,n){if(j(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)j(e,t.rest[i],t,n,!1)}function j(e,t,n,i,s){if(t.widgets)for(var r=P(n),o=0,a=t.widgets;o<a.length;++o){var l=a[o],c=Rs("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),V(l,c,n,i),e.display.input.setUneditable(c),s&&l.above?r.insertBefore(c,n.gutter||n.text):r.appendChild(c),Cs(l,"redraw")}}function V(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var s=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(s-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=s+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function G(e){return Er(e.line,e.ch)}function K(e,t){return Wr(e,t)<0?t:e}function Y(e,t){return Wr(e,t)<0?e:t}function Q(e){e.state.focused||(e.display.input.focus(),vn(e))}function X(e,t,n,i,s){var r=e.doc;e.display.shift=!1,i||(i=r.sel);var o=e.state.pasteIncoming||"paste"==s,a=r.splitLines(t),l=null;if(o&&i.ranges.length>1)if(Br&&Br.join("\n")==t){if(i.ranges.length%Br.length==0){l=[];for(var c=0;c<Br.length;c++)l.push(r.splitLines(Br[c]))}}else a.length==i.ranges.length&&(l=Ns(a,function(e){return[e]}));for(var c=i.ranges.length-1;c>=0;c--){var d=i.ranges[c],u=d.from(),h=d.to();d.empty()&&(n&&n>0?u=Er(u.line,u.ch-n):e.state.overwrite&&!o&&(h=Er(h.line,Math.min(Xi(r,h.line).text.length,h.ch+Fs(a).length))));var p=e.curOp.updateInput,f={from:u,to:h,text:l?l[c%l.length]:a,origin:s||(o?"paste":e.state.cutIncoming?"cut":"+input")};Tn(e.doc,f),Cs(e,"inputRead",e,f)}t&&!o&&Z(e,t),Wn(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function J(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),t.isReadOnly()||t.options.disableInput||At(t,function(){X(t,n,0,null,"paste")}),!0):void 0}function Z(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var s=n.ranges[i];if(!(s.head.ch>100||i&&n.ranges[i-1].head.line==s.head.line)){var r=e.getModeAt(s.head),o=!1;if(r.electricChars){for(var a=0;a<r.electricChars.length;a++)if(t.indexOf(r.electricChars.charAt(a))>-1){o=Hn(e,s.head.line,"smart");break}}else r.electricInput&&r.electricInput.test(Xi(e.doc,s.head.line).text.slice(0,s.head.ch))&&(o=Hn(e,s.head.line,"smart"));o&&Cs(e,"electricInput",e,s.head.line)}}}function ee(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var s=e.doc.sel.ranges[i].head.line,r={anchor:Er(s,0),head:Er(s+1,0)};n.push(r),t.push(e.getRange(r.anchor,r.head))}return{text:t,ranges:n}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ne(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Os,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ie(){var e=Rs("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Rs("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xr?e.style.width="1000px":e.setAttribute("wrap","off"),Lr&&(e.style.border="1px solid black"),te(e),t}function se(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Os,this.gracePeriod=!1}function re(e,t){var n=Ze(e,t.line);if(!n||n.hidden)return null;var i=Xi(e.doc,t.line),s=Qe(n,i,t.line),r=ss(i),o="left";if(r){var a=cr(r,t.ch);o=a%2?"right":"left"}var l=nt(s.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function oe(e,t){return t&&(e.bad=!0),e}function ae(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return oe(e.clipPos(Er(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var s=0;s<e.display.view.length;s++){var r=e.display.view[s];if(r.node==i)return le(r,t,n)}}function le(e,t,n){function i(t,n,i){for(var s=-1;s<(d?d.length:0);s++)for(var r=0>s?c.map:d[s],o=0;o<r.length;o+=3){var a=r[o+2];if(a==t||a==n){var l=ts(0>s?e.line:e.rest[s]),u=r[o]+i;return(0>i||a!=t)&&(u=r[o+(i?1:0)]),Er(l,u)}}}var s=e.text.firstChild,r=!1;if(!t||!Ko(s,t))return oe(Er(ts(e.line),0),!0);if(t==s&&(r=!0,t=s.childNodes[n],n=0,!t)){var o=e.rest?Fs(e.rest):e.line;return oe(Er(ts(o),o.text.length),r)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=s;)l=l.parentNode;var c=e.measure,d=c.maps,u=i(a,l,n);if(u)return oe(u,r);for(var h=l.nextSibling,p=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(u=i(h,h.firstChild,0))return oe(Er(u.line,u.ch-p),r);p+=h.textContent.length}for(var f=l.previousSibling,p=n;f;f=f.previousSibling){if(u=i(f,f.firstChild,-1))return oe(Er(u.line,u.ch+p),r);p+=h.textContent.length}}function ce(e,t,n,i,s){function r(e){return function(t){return t.id==e}}function o(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(a+=n);var d,u=t.getAttribute("cm-marker");if(u){var h=e.findMarks(Er(i,0),Er(s+1,0),r(+u));return void(h.length&&(d=h[0].find())&&(a+=Ji(e.doc,d.from,d.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var p=0;p<t.childNodes.length;p++)o(t.childNodes[p]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var f=t.nodeValue;if(!f)return;l&&(a+=c,l=!1),a+=f}}for(var a="",l=!1,c=e.doc.lineSeparator();o(t),t!=n;)t=t.nextSibling;return a}function de(e,t){this.ranges=e,this.primIndex=t}function ue(e,t){this.anchor=e,this.head=t}function he(e,t){var n=e[t];e.sort(function(e,t){return Wr(e.from(),t.from())}),t=Ds(e,n);for(var i=1;i<e.length;i++){var s=e[i],r=e[i-1];if(Wr(r.to(),s.from())>=0){var o=Y(r.from(),s.from()),a=K(r.to(),s.to()),l=r.empty()?s.from()==s.head:r.from()==r.head;t>=i&&--t,e.splice(--i,2,new ue(l?a:o,l?o:a))}}return new de(e,t)}function pe(e,t){return new de([new ue(e,t||e)],0)}function fe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function me(e,t){if(t.line<e.first)return Er(e.first,0);var n=e.first+e.size-1;return t.line>n?Er(n,Xi(e,n).text.length):ge(t,Xi(e,t.line).text.length)}function ge(e,t){var n=e.ch;return null==n||n>t?Er(e.line,t):0>n?Er(e.line,0):e}function ve(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=me(e,t[i]);return n}function be(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var s=t.anchor;if(i){var r=Wr(n,s)<0;r!=Wr(i,s)<0?(s=n,n=i):r!=Wr(n,i)<0&&(n=i)}return new ue(s,n)}return new ue(i||n,n)}function xe(e,t,n,i){Te(e,new de([be(e,e.sel.primary(),t,n)],0),i)}function we(e,t,n){for(var i=[],s=0;s<e.sel.ranges.length;s++)i[s]=be(e,e.sel.ranges[s],t[s],null);var r=he(i,e.sel.primIndex);Te(e,r,n)}function ke(e,t,n,i){var s=e.sel.ranges.slice(0);s[t]=n,Te(e,he(s,e.sel.primIndex),i)}function Se(e,t,n,i){Te(e,pe(t,n),i)}function Ce(e,t,n){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new ue(me(e,t[n].anchor),me(e,t[n].head))},origin:n&&n.origin};return Do(e,"beforeSelectionChange",e,i),e.cm&&Do(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?he(i.ranges,i.ranges.length-1):t}function _e(e,t,n){var i=e.history.done,s=Fs(i);
s&&s.ranges?(i[i.length-1]=t,Le(e,t,n)):Te(e,t,n)}function Te(e,t,n){Le(e,t,n),us(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Le(e,t,n){(Ms(e,"beforeSelectionChange")||e.cm&&Ms(e.cm,"beforeSelectionChange"))&&(t=Ce(e,t,n));var i=n&&n.bias||(Wr(t.primary().head,e.sel.primary().head)<0?-1:1);Me(e,Oe(e,t,i,!0)),n&&n.scroll===!1||!e.cm||Wn(e.cm)}function Me(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ls(e.cm)),Cs(e,"cursorActivity",e))}function Ae(e){Me(e,Oe(e,e.sel,null,!1),Eo)}function Oe(e,t,n,i){for(var s,r=0;r<t.ranges.length;r++){var o=t.ranges[r],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[r],l=Fe(e,o.anchor,a&&a.anchor,n,i),c=Fe(e,o.head,a&&a.head,n,i);(s||l!=o.anchor||c!=o.head)&&(s||(s=t.ranges.slice(0,r)),s[r]=new ue(l,c))}return s?he(s,t.primIndex):t}function $e(e,t,n,i,s){var r=Xi(e,t.line);if(r.markedSpans)for(var o=0;o<r.markedSpans.length;++o){var a=r.markedSpans[o],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(s&&(Do(l,"beforeCursorEnter"),l.explicitlyCleared)){if(r.markedSpans){--o;continue}break}if(!l.atomic)continue;if(n){var c,d=l.find(0>i?1:-1);if((0>i?l.inclusiveRight:l.inclusiveLeft)&&(d=De(e,d,-i,d&&d.line==t.line?r:null)),d&&d.line==t.line&&(c=Wr(d,n))&&(0>i?0>c:c>0))return $e(e,d,t,i,s)}var u=l.find(0>i?-1:1);return(0>i?l.inclusiveLeft:l.inclusiveRight)&&(u=De(e,u,i,u.line==t.line?r:null)),u?$e(e,u,t,i,s):null}}return t}function Fe(e,t,n,i,s){var r=i||1,o=$e(e,t,n,r,s)||!s&&$e(e,t,n,r,!0)||$e(e,t,n,-r,s)||!s&&$e(e,t,n,-r,!0);return o?o:(e.cantEdit=!0,Er(e.first,0))}function De(e,t,n,i){return 0>n&&0==t.ch?t.line>e.first?me(e,Er(t.line-1)):null:n>0&&t.ch==(i||Xi(e,t.line)).text.length?t.line<e.first+e.size-1?Er(t.line+1,0):null:new Er(t.line,t.ch+n)}function Ne(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ie(e,t){for(var n=e.doc,i={},s=i.cursors=document.createDocumentFragment(),r=i.selection=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++)if(t!==!1||o!=n.sel.primIndex){var a=n.sel.ranges[o];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&Pe(e,a.head,s),l||Ee(e,a,r)}}return i}function Pe(e,t,n){var i=pt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),s=n.appendChild(Rs("div"," ","CodeMirror-cursor"));if(s.style.left=i.left+"px",s.style.top=i.top+"px",s.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var r=n.appendChild(Rs("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));r.style.display="",r.style.left=i.other.left+"px",r.style.top=i.other.top+"px",r.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Ee(e,t,n){function i(e,t,n,i){0>t&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(Rs("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?d-e:n)+"px; height: "+(i-t)+"px"))}function s(t,n,s){function r(n,i){return ht(e,Er(t,n),"div",u,i)}var a,l,u=Xi(o,t),h=u.text.length;return er(ss(u),n||0,null==s?h:s,function(e,t,o){var u,p,f,m=r(e,"left");if(e==t)u=m,p=f=m.left;else{if(u=r(t-1,"right"),"rtl"==o){var g=m;m=u,u=g}p=m.left,f=u.right}null==n&&0==e&&(p=c),u.top-m.top>3&&(i(p,m.top,null,m.bottom),p=c,m.bottom<u.top&&i(p,m.bottom,null,u.top)),null==s&&t==h&&(f=d),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||u.bottom>l.bottom||u.bottom==l.bottom&&u.right>l.right)&&(l=u),c+1>p&&(p=c),i(p,u.top,f-p,u.bottom)}),{start:a,end:l}}var r=e.display,o=e.doc,a=document.createDocumentFragment(),l=je(e.display),c=l.left,d=Math.max(r.sizerWidth,Ge(e)-r.sizer.offsetLeft)-l.right,u=t.from(),h=t.to();if(u.line==h.line)s(u.line,u.ch,h.ch);else{var p=Xi(o,u.line),f=Xi(o,h.line),m=yi(p)==yi(f),g=s(u.line,u.ch,m?p.text.length+1:null).end,v=s(h.line,m?0:null,h.ch).start;m&&(g.top<v.top-2?(i(g.right,g.top,null,g.bottom),i(c,v.top,v.left,v.bottom)):i(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&i(c,g.bottom,null,v.top)}n.appendChild(a)}function We(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Be(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Ws(He,e))}function He(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=ao(t.mode,Re(e,t.frontier)),s=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(r){if(t.frontier>=e.display.viewFrom){var o=r.styles,a=r.text.length>e.options.maxHighlightLength,l=Ni(e,r,a?ao(t.mode,i):i,!0);r.styles=l.styles;var c=r.styleClasses,d=l.classes;d?r.styleClasses=d:c&&(r.styleClasses=null);for(var u=!o||o.length!=r.styles.length||c!=d&&(!c||!d||c.bgClass!=d.bgClass||c.textClass!=d.textClass),h=0;!u&&h<o.length;++h)u=o[h]!=r.styles[h];u&&s.push(t.frontier),r.stateAfter=a?i:ao(t.mode,i)}else r.text.length<=e.options.maxHighlightLength&&Pi(e,r.text,i),r.stateAfter=t.frontier%5==0?ao(t.mode,i):null;return++t.frontier,+new Date>n?(Be(e,e.options.workDelay),!0):void 0}),s.length&&At(e,function(){for(var t=0;t<s.length;t++)Pt(e,s[t],"text")})}}function ze(e,t,n){for(var i,s,r=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>o;--a){if(a<=r.first)return r.first;var l=Xi(r,a-1);if(l.stateAfter&&(!n||a<=r.frontier))return a;var c=Ho(l.text,null,e.options.tabSize);(null==s||i>c)&&(s=a-1,i=c)}return s}function Re(e,t,n){var i=e.doc,s=e.display;if(!i.mode.startState)return!0;var r=ze(e,t,n),o=r>i.first&&Xi(i,r-1).stateAfter;return o=o?ao(i.mode,o):lo(i.mode),i.iter(r,t,function(n){Pi(e,n.text,o);var a=r==t-1||r%5==0||r>=s.viewFrom&&r<s.viewTo;n.stateAfter=a?ao(i.mode,o):null,++r}),n&&(i.frontier=r),o}function qe(e){return e.lineSpace.offsetTop}function Ue(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function je(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Us(e.measure,Rs("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Ve(e){return Io-e.display.nativeBarWidth}function Ge(e){return e.display.scroller.clientWidth-Ve(e)-e.display.barWidth}function Ke(e){return e.display.scroller.clientHeight-Ve(e)-e.display.barHeight}function Ye(e,t,n){var i=e.options.lineWrapping,s=i&&Ge(e);if(!t.measure.heights||i&&t.measure.width!=s){var r=t.measure.heights=[];if(i){t.measure.width=s;for(var o=t.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var l=o[a],c=o[a+1];Math.abs(l.bottom-c.bottom)>2&&r.push((l.bottom+c.top)/2-n.top)}}r.push(n.bottom-n.top)}}function Qe(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(ts(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Xe(e,t){t=yi(t);var n=ts(t),i=e.display.externalMeasured=new Dt(e.doc,t,n);i.lineN=n;var s=i.built=Wi(e,i);return i.text=s.pre,Us(e.display.lineMeasure,s.pre),i}function Je(e,t,n,i){return tt(e,et(e,t),n,i)}function Ze(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Wt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function et(e,t){var n=ts(t),i=Ze(e,n);i&&!i.text?i=null:i&&i.changes&&(I(e,i,n,D(e)),e.curOp.forceUpdate=!0),i||(i=Xe(e,t));var s=Qe(i,t,n);return{line:t,view:i,rect:null,map:s.map,cache:s.cache,before:s.before,hasHeights:!1}}function tt(e,t,n,i,s){t.before&&(n=-1);var r,o=n+(i||"");return t.cache.hasOwnProperty(o)?r=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ye(e,t.view,t.rect),t.hasHeights=!0),r=it(e,t,n,i),r.bogus||(t.cache[o]=r)),{left:r.left,right:r.right,top:s?r.rtop:r.top,bottom:s?r.rbottom:r.bottom}}function nt(e,t,n){for(var i,s,r,o,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(l>t?(s=0,r=1,o="left"):c>t?(s=t-l,r=s+1):(a==e.length-3||t==c&&e[a+3]>t)&&(r=c-l,s=r-1,t>=c&&(o="right")),null!=s){if(i=e[a+2],l==c&&n==(i.insertLeft?"left":"right")&&(o=n),"left"==n&&0==s)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)i=e[(a-=3)+2],o="left";if("right"==n&&s==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)i=e[(a+=3)+2],o="right";break}}return{node:i,start:s,end:r,collapse:o,coverStart:l,coverEnd:c}}function it(e,t,n,i){var s,r=nt(t.map,n,i),o=r.node,a=r.start,l=r.end,c=r.collapse;if(3==o.nodeType){for(var d=0;4>d;d++){for(;a&&zs(t.line.text.charAt(r.coverStart+a));)--a;for(;r.coverStart+l<r.coverEnd&&zs(t.line.text.charAt(r.coverStart+l));)++l;if(yr&&9>br&&0==a&&l==r.coverEnd-r.coverStart)s=o.parentNode.getBoundingClientRect();else if(yr&&e.options.lineWrapping){var u=Uo(o,a,l).getClientRects();s=u.length?u["right"==i?u.length-1:0]:qr}else s=Uo(o,a,l).getBoundingClientRect()||qr;if(s.left||s.right||0==a)break;l=a,a-=1,c="right"}yr&&11>br&&(s=st(e.display.measure,s))}else{a>0&&(c=i="right");var u;s=e.options.lineWrapping&&(u=o.getClientRects()).length>1?u["right"==i?u.length-1:0]:o.getBoundingClientRect()}if(yr&&9>br&&!a&&(!s||!s.left&&!s.right)){var h=o.parentNode.getClientRects()[0];s=h?{left:h.left,right:h.left+bt(e.display),top:h.top,bottom:h.bottom}:qr}for(var p=s.top-t.rect.top,f=s.bottom-t.rect.top,m=(p+f)/2,g=t.view.measure.heights,d=0;d<g.length-1&&!(m<g[d]);d++);var v=d?g[d-1]:0,y=g[d],b={left:("right"==c?s.right:s.left)-t.rect.left,right:("left"==c?s.left:s.right)-t.rect.left,top:v,bottom:y};return s.left||s.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=f),b}function st(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Zs(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function rt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ot(e){e.display.externalMeasure=null,qs(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)rt(e.display.view[t])}function at(e){ot(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function lt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ct(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function dt(e,t,n,i){if(t.widgets)for(var s=0;s<t.widgets.length;++s)if(t.widgets[s].above){var r=_i(t.widgets[s]);n.top+=r,n.bottom+=r}if("line"==i)return n;i||(i="local");var o=is(t);if("local"==i?o+=qe(e.display):o-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();o+=a.top+("window"==i?0:ct());var l=a.left+("window"==i?0:lt());n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function ut(e,t,n){if("div"==n)return t;var i=t.left,s=t.top;if("page"==n)i-=lt(),s-=ct();else if("local"==n||!n){var r=e.display.sizer.getBoundingClientRect();i+=r.left,s+=r.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:i-o.left,top:s-o.top}}function ht(e,t,n,i,s){return i||(i=Xi(e.doc,t.line)),dt(e,i,Je(e,i,t.ch,s),n)}function pt(e,t,n,i,s,r){function o(t,o){var a=tt(e,s,t,o?"right":"left",r);return o?a.left=a.right:a.right=a.left,dt(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;return e==tr(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=nr(n)-(n.level%2?0:1),i=!0):e==nr(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=tr(n)-n.level%2,i=!1),i&&e==n.to&&e>n.from?o(e-1):o(e,i)}i=i||Xi(e.doc,t.line),s||(s=et(e,i));var l=ss(i),c=t.ch;if(!l)return o(c);var d=cr(l,c),u=a(c,d);return null!=oa&&(u.other=a(c,oa)),u}function ft(e,t){var n=0,t=me(e.doc,t);e.options.lineWrapping||(n=bt(e.display)*t.ch);var i=Xi(e.doc,t.line),s=is(i)+qe(e.display);return{left:n,right:n,top:s,bottom:s+i.height}}function mt(e,t,n,i){var s=Er(e,t);return s.xRel=i,n&&(s.outside=!0),s}function gt(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,0>n)return mt(i.first,0,!0,-1);var s=ns(i,n),r=i.first+i.size-1;if(s>r)return mt(i.first+i.size-1,Xi(i,r).text.length,!0,1);0>t&&(t=0);for(var o=Xi(i,s);;){var a=vt(e,o,s,t,n),l=gi(o),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;s=ts(o=c.to.line)}}function vt(e,t,n,i,s){function r(i){var s=pt(e,Er(n,i),"line",t,c);return a=!0,o>s.bottom?s.left-l:o<s.top?s.left+l:(a=!1,s.left)}var o=s-is(t),a=!1,l=2*e.display.wrapper.clientWidth,c=et(e,t),d=ss(t),u=t.text.length,h=ir(t),p=sr(t),f=r(h),m=a,g=r(p),v=a;if(i>g)return mt(n,p,v,1);for(;;){if(d?p==h||p==ur(t,h,1):1>=p-h){for(var y=f>i||g-i>=i-f?h:p,b=i-(y==h?f:g);zs(t.text.charAt(y));)++y;var x=mt(n,y,y==h?m:v,-1>b?-1:b>1?1:0);return x}var w=Math.ceil(u/2),k=h+w;if(d){k=h;for(var S=0;w>S;++S)k=ur(t,k,1)}var C=r(k);C>i?(p=k,g=C,(v=a)&&(g+=1e3),u=w):(h=k,f=C,m=a,u-=w)}}function yt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Hr){Hr=Rs("pre");for(var t=0;49>t;++t)Hr.appendChild(document.createTextNode("x")),Hr.appendChild(Rs("br"));Hr.appendChild(document.createTextNode("x"))}Us(e.measure,Hr);var n=Hr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),qs(e.measure),n||1}function bt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Rs("span","xxxxxxxxxx"),n=Rs("pre",[t]);Us(e.measure,n);var i=t.getBoundingClientRect(),s=(i.right-i.left)/10;return s>2&&(e.cachedCharWidth=s),s||10}function xt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++jr},Ur?Ur.ops.push(e.curOp):e.curOp.ownsGroup=Ur={ops:[e.curOp],delayedCallbacks:[]}}function wt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var s=e.ops[i];if(s.cursorActivityHandlers)for(;s.cursorActivityCalled<s.cursorActivityHandlers.length;)s.cursorActivityHandlers[s.cursorActivityCalled++].call(null,s.cm)}}while(n<t.length)}function kt(e){var t=e.curOp,n=t.ownsGroup;if(n)try{wt(n)}finally{Ur=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;St(n)}}function St(e){for(var t=e.ops,n=0;n<t.length;n++)Ct(t[n]);for(var n=0;n<t.length;n++)_t(t[n]);for(var n=0;n<t.length;n++)Tt(t[n]);for(var n=0;n<t.length;n++)Lt(t[n]);for(var n=0;n<t.length;n++)Mt(t[n])}function Ct(e){var t=e.cm,n=t.display;T(t),e.updateMaxLine&&h(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new _(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function _t(e){e.updatedDisplay=e.mustUpdate&&L(e.cm,e.update)}function Tt(e){var t=e.cm,n=t.display;e.updatedDisplay&&$(t),e.barMeasure=f(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Je(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ve(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ge(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Lt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&rn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.updatedDisplay&&O(t,e.barMeasure),e.selectionChanged&&We(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),!e.focus||e.focus!=js()||document.hasFocus&&!document.hasFocus()||Q(e.cm)}function Mt(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&M(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,w(t)),e.scrollToPos){var s=Nn(t,me(i,e.scrollToPos.from),me(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Dn(t,s)}var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var a=0;a<r.length;++a)r[a].lines.length||Do(r[a],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&Do(o[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Do(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function At(e,t){if(e.curOp)return t();xt(e);try{return t()}finally{kt(e)}}function Ot(e,t){return function(){if(e.curOp)return t.apply(e,arguments);xt(e);try{return t.apply(e,arguments)}finally{kt(e)}}}function $t(e){return function(){if(this.curOp)return e.apply(this,arguments);xt(this);try{return e.apply(this,arguments)}finally{kt(this)}}}function Ft(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);xt(t);try{return e.apply(this,arguments)}finally{kt(t)}}}function Dt(e,t,n){this.line=t,this.rest=bi(t),this.size=this.rest?ts(Fs(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ki(e,t)}function Nt(e,t,n){for(var i,s=[],r=t;n>r;r=i){var o=new Dt(e.doc,Xi(e.doc,r),r);i=r+o.size,s.push(o)}return s}function It(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var s=e.display;if(i&&n<s.viewTo&&(null==s.updateLineNumbers||s.updateLineNumbers>t)&&(s.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=s.viewTo)Pr&&xi(e.doc,t)<s.viewTo&&Et(e);else if(n<=s.viewFrom)Pr&&wi(e.doc,n+i)>s.viewFrom?Et(e):(s.viewFrom+=i,s.viewTo+=i);else if(t<=s.viewFrom&&n>=s.viewTo)Et(e);else if(t<=s.viewFrom){var r=Bt(e,n,n+i,1);r?(s.view=s.view.slice(r.index),s.viewFrom=r.lineN,s.viewTo+=i):Et(e)}else if(n>=s.viewTo){var r=Bt(e,t,t,-1);r?(s.view=s.view.slice(0,r.index),s.viewTo=r.lineN):Et(e)}else{var o=Bt(e,t,t,-1),a=Bt(e,n,n+i,1);o&&a?(s.view=s.view.slice(0,o.index).concat(Nt(e,o.lineN,a.lineN)).concat(s.view.slice(a.index)),s.viewTo+=i):Et(e)}var l=s.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(s.externalMeasured=null))}function Pt(e,t,n){e.curOp.viewChanged=!0;var i=e.display,s=e.display.externalMeasured;if(s&&t>=s.lineN&&t<s.lineN+s.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var r=i.view[Wt(e,t)];if(null!=r.node){var o=r.changes||(r.changes=[]);-1==Ds(o,n)&&o.push(n)}}}function Et(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Wt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,0>t)return i}function Bt(e,t,n,i){var s,r=Wt(e,t),o=e.display.view;if(!Pr||n==e.doc.first+e.doc.size)return{index:r,lineN:n};for(var a=0,l=e.display.viewFrom;r>a;a++)l+=o[a].size;if(l!=t){if(i>0){if(r==o.length-1)return null;s=l+o[r].size-t,r++}else s=l-t;t+=s,n+=s}for(;xi(e.doc,n)!=n;){if(r==(0>i?0:o.length-1))return null;n+=i*o[r-(0>i?1:0)].size,r+=i}return{index:r,lineN:n}}function Ht(e,t,n){var i=e.display,s=i.view;0==s.length||t>=i.viewTo||n<=i.viewFrom?(i.view=Nt(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=Nt(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(Wt(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(Nt(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Wt(e,n)))),i.viewTo=n}function zt(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var s=t[i];s.hidden||s.node&&!s.changes||++n}return n}function Rt(e){function t(){s.activeTouch&&(r=setTimeout(function(){s.activeTouch=null},1e3),o=s.activeTouch,o.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var s=e.display;Oo(s.scroller,"mousedown",Ot(e,Gt)),yr&&11>br?Oo(s.scroller,"dblclick",Ot(e,function(t){if(!Ts(e,t)){var n=Vt(e,t);if(n&&!Jt(e,t)&&!jt(e.display,t)){Lo(t);var i=e.findWordAt(n);xe(e.doc,i.anchor,i.head)}}})):Oo(s.scroller,"dblclick",function(t){Ts(e,t)||Lo(t)}),Nr||Oo(s.scroller,"contextmenu",function(t){bn(e,t)});var r,o={end:0};Oo(s.scroller,"touchstart",function(t){if(!Ts(e,t)&&!n(t)){clearTimeout(r);var i=+new Date;s.activeTouch={start:i,moved:!1,prev:i-o.end<=300?o:null},1==t.touches.length&&(s.activeTouch.left=t.touches[0].pageX,s.activeTouch.top=t.touches[0].pageY)}}),Oo(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),Oo(s.scroller,"touchend",function(n){var r=s.activeTouch;if(r&&!jt(s,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,a=e.coordsChar(s.activeTouch,"page");o=!r.prev||i(r,r.prev)?new ue(a,a):!r.prev.prev||i(r,r.prev.prev)?e.findWordAt(a):new ue(Er(a.line,0),me(e.doc,Er(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),Lo(n)}t()}),Oo(s.scroller,"touchcancel",t),Oo(s.scroller,"scroll",function(){s.scroller.clientHeight&&(sn(e,s.scroller.scrollTop),rn(e,s.scroller.scrollLeft,!0),Do(e,"scroll",e))}),Oo(s.scroller,"mousewheel",function(t){on(e,t)}),Oo(s.scroller,"DOMMouseScroll",function(t){on(e,t)}),Oo(s.wrapper,"scroll",function(){s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(t){Ts(e,t)||Ao(t)},over:function(t){Ts(e,t)||(tn(e,t),Ao(t))},start:function(t){en(e,t)},drop:Ot(e,Zt),leave:function(t){Ts(e,t)||nn(e)}};var a=s.input.getField();Oo(a,"keyup",function(t){fn.call(e,t)}),Oo(a,"keydown",Ot(e,hn)),Oo(a,"keypress",Ot(e,mn)),Oo(a,"focus",Ws(vn,e)),Oo(a,"blur",Ws(yn,e))}function qt(t,n,i){var s=i&&i!=e.Init;if(!n!=!s){var r=t.display.dragFunctions,o=n?Oo:Fo;o(t.display.scroller,"dragstart",r.start),o(t.display.scroller,"dragenter",r.enter),o(t.display.scroller,"dragover",r.over),o(t.display.scroller,"dragleave",r.leave),o(t.display.scroller,"drop",r.drop)}}function Ut(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function jt(e,t){for(var n=ws(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Vt(e,t,n,i){var s=e.display;if(!n&&"true"==ws(t).getAttribute("cm-not-content"))return null;var r,o,a=s.lineSpace.getBoundingClientRect();try{r=t.clientX-a.left,o=t.clientY-a.top}catch(t){return null}var l,c=gt(e,r,o);if(i&&1==c.xRel&&(l=Xi(e.doc,c.line).text).length==c.ch){var d=Ho(l,l.length,e.options.tabSize)-l.length;c=Er(c.line,Math.max(0,Math.round((r-je(e.display).left)/bt(e.display))-d))}return c}function Gt(e){var t=this,n=t.display;if(!(Ts(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=e.shiftKey,jt(n,e))return void(xr||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Jt(t,e)){var i=Vt(t,e);switch(window.focus(),ks(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?Kt(t,e,i):ws(e)==n.scroller&&Lo(e);break;case 2:xr&&(t.state.lastMiddleDown=+new Date),i&&xe(t.doc,i),setTimeout(function(){n.input.focus()},20),Lo(e);break;case 3:Nr?bn(t,e):gn(t)}}}}function Kt(e,t,n){yr?setTimeout(Ws(Q,e),0):e.curOp.focus=js();var i,s=+new Date;Rr&&Rr.time>s-400&&0==Wr(Rr.pos,n)?i="triple":zr&&zr.time>s-400&&0==Wr(zr.pos,n)?(i="double",Rr={time:s,pos:n}):(i="single",zr={time:s,pos:n});var r,o=e.doc.sel,a=Ar?t.metaKey:t.ctrlKey;e.options.dragDrop&&ea&&!e.isReadOnly()&&"single"==i&&(r=o.contains(n))>-1&&(Wr((r=o.ranges[r]).from(),n)<0||n.xRel>0)&&(Wr(r.to(),n)>0||n.xRel<0)?Yt(e,t,n,a):Qt(e,t,n,i,a)}function Yt(e,t,n,i){var s=e.display,r=+new Date,o=Ot(e,function(a){xr&&(s.scroller.draggable=!1),e.state.draggingText=!1,Fo(document,"mouseup",o),Fo(s.scroller,"drop",o),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(Lo(a),!i&&+new Date-200<r&&xe(e.doc,n),xr||yr&&9==br?setTimeout(function(){document.body.focus(),s.input.focus()},20):s.input.focus())});xr&&(s.scroller.draggable=!0),e.state.draggingText=o,s.scroller.dragDrop&&s.scroller.dragDrop(),Oo(document,"mouseup",o),Oo(s.scroller,"drop",o)}function Qt(e,t,n,i,s){function r(t){if(0!=Wr(g,t))if(g=t,"rect"==i){for(var s=[],r=e.options.tabSize,o=Ho(Xi(c,n.line).text,n.ch,r),a=Ho(Xi(c,t.line).text,t.ch,r),l=Math.min(o,a),p=Math.max(o,a),f=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=f;f++){var v=Xi(c,f).text,y=zo(v,l,r);l==p?s.push(new ue(Er(f,y),Er(f,y))):v.length>y&&s.push(new ue(Er(f,y),Er(f,zo(v,p,r))))}s.length||s.push(new ue(n,n)),Te(c,he(h.ranges.slice(0,u).concat(s),u),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=d,x=b.anchor,w=t;if("single"!=i){if("double"==i)var k=e.findWordAt(t);else var k=new ue(Er(t.line,0),me(c,Er(t.line+1,0)));Wr(k.anchor,x)>0?(w=k.head,x=Y(b.from(),k.anchor)):(w=k.anchor,x=K(b.to(),k.head))}var s=h.ranges.slice(0);s[u]=new ue(me(c,x),w),Te(c,he(s,u),Wo)}}function o(t){var n=++y,s=Vt(e,t,!0,"rect"==i);if(s)if(0!=Wr(s,g)){e.curOp.focus=js(),r(s);var a=x(l,c);(s.line>=a.to||s.line<a.from)&&setTimeout(Ot(e,function(){y==n&&o(t)}),150)}else{var d=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;d&&setTimeout(Ot(e,function(){y==n&&(l.scroller.scrollTop+=d,o(t))}),50)}}function a(t){e.state.selectingText=!1,y=1/0,Lo(t),l.input.focus(),Fo(document,"mousemove",b),Fo(document,"mouseup",w),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;Lo(t);var d,u,h=c.sel,p=h.ranges;if(s&&!t.shiftKey?(u=c.sel.contains(n),d=u>-1?p[u]:new ue(n,n)):(d=c.sel.primary(),u=c.sel.primIndex),Or?t.shiftKey&&t.metaKey:t.altKey)i="rect",s||(d=new ue(n,n)),n=Vt(e,t,!0,!0),u=-1;else if("double"==i){var f=e.findWordAt(n);d=e.display.shift||c.extend?be(c,d,f.anchor,f.head):f}else if("triple"==i){var m=new ue(Er(n.line,0),me(c,Er(n.line+1,0)));d=e.display.shift||c.extend?be(c,d,m.anchor,m.head):m}else d=be(c,d,n);s?-1==u?(u=p.length,Te(c,he(p.concat([d]),u),{scroll:!1,origin:"*mouse"})):p.length>1&&p[u].empty()&&"single"==i&&!t.shiftKey?(Te(c,he(p.slice(0,u).concat(p.slice(u+1)),0),{scroll:!1,origin:"*mouse"}),h=c.sel):ke(c,u,d,Wo):(u=0,Te(c,new de([d],0),Wo),h=c.sel);var g=n,v=l.wrapper.getBoundingClientRect(),y=0,b=Ot(e,function(e){ks(e)?o(e):a(e)}),w=Ot(e,a);e.state.selectingText=w,Oo(document,"mousemove",b),Oo(document,"mouseup",w)}function Xt(e,t,n,i){try{var s=t.clientX,r=t.clientY}catch(t){return!1}if(s>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Lo(t);var o=e.display,a=o.lineDiv.getBoundingClientRect();if(r>a.bottom||!Ms(e,n))return xs(t);r-=a.top-o.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=o.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=s){var d=ns(e.doc,r),u=e.options.gutters[l];return Do(e,n,e,d,u,t),xs(t)}}}function Jt(e,t){return Xt(e,t,"gutterClick",!0)}function Zt(e){var t=this;if(nn(t),!Ts(t,e)&&!jt(t.display,e)){Lo(e),yr&&(Vr=+new Date);var n=Vt(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var s=i.length,r=Array(s),o=0,a=function(e,i){if(!t.options.allowDropFileTypes||-1!=Ds(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=Ot(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),r[i]=e,++o==s){n=me(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(r.join(t.doc.lineSeparator())),origin:"paste"};Tn(t.doc,l),_e(t.doc,pe(n,Jr(l)))}}),a.readAsText(e)}},l=0;s>l;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var r=e.dataTransfer.getData("Text");if(r){if(t.state.draggingText&&!(Ar?e.altKey:e.ctrlKey))var c=t.listSelections();if(Le(t.doc,pe(n,n)),c)for(var l=0;l<c.length;++l)Fn(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(r,"around","paste"),t.display.input.focus()}}catch(e){}}}}function en(e,t){if(yr&&(!e.state.draggingText||+new Date-Vr<100))return void Ao(t);if(!Ts(e,t)&&!jt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Cr)){var n=Rs("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Sr&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Sr&&n.parentNode.removeChild(n)}}function tn(e,t){var n=Vt(e,t);if(n){var i=document.createDocumentFragment();Pe(e,n,i),e.display.dragCursor||(e.display.dragCursor=Rs("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Us(e.display.dragCursor,i)}}function nn(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function sn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,mr||A(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),mr&&A(e),Be(e,100))}function rn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,w(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function on(e,t){var n=Yr(t),i=n.x,s=n.y,r=e.display,o=r.scroller,a=o.scrollWidth>o.clientWidth,l=o.scrollHeight>o.clientHeight;if(i&&a||s&&l){if(s&&Ar&&xr)e:for(var c=t.target,d=r.view;c!=o;c=c.parentNode)for(var u=0;u<d.length;u++)if(d[u].node==c){e.display.currentWheelTarget=c;break e}if(i&&!mr&&!Sr&&null!=Kr)return s&&l&&sn(e,Math.max(0,Math.min(o.scrollTop+s*Kr,o.scrollHeight-o.clientHeight))),rn(e,Math.max(0,Math.min(o.scrollLeft+i*Kr,o.scrollWidth-o.clientWidth))),(!s||s&&l)&&Lo(t),void(r.wheelStartX=null);if(s&&null!=Kr){var h=s*Kr,p=e.doc.scrollTop,f=p+r.wrapper.clientHeight;0>h?p=Math.max(0,p+h-50):f=Math.min(e.doc.height,f+h+50),A(e,{top:p,bottom:f})}20>Gr&&(null==r.wheelStartX?(r.wheelStartX=o.scrollLeft,r.wheelStartY=o.scrollTop,r.wheelDX=i,r.wheelDY=s,setTimeout(function(){if(null!=r.wheelStartX){var e=o.scrollLeft-r.wheelStartX,t=o.scrollTop-r.wheelStartY,n=t&&r.wheelDY&&t/r.wheelDY||e&&r.wheelDX&&e/r.wheelDX;r.wheelStartX=r.wheelStartY=null,n&&(Kr=(Kr*Gr+n)/(Gr+1),++Gr)}},200)):(r.wheelDX+=i,r.wheelDY+=s))}}function an(e,t,n){if("string"==typeof t&&(t=co[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,s=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),s=t(e)!=Po}finally{e.display.shift=i,e.state.suppressEdits=!1}return s}function ln(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var s=ho(t,e.state.keyMaps[i],n,e);if(s)return s}return e.options.extraKeys&&ho(t,e.options.extraKeys,n,e)||ho(t,e.options.keyMap,n,e)}function cn(e,t,n,i){var s=e.state.keySeq;if(s){if(po(t))return"handled";Qr.set(50,function(){e.state.keySeq==s&&(e.state.keySeq=null,e.display.input.reset())}),t=s+" "+t}var r=ln(e,t,i);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&Cs(e,"keyHandled",e,t,n),"handled"!=r&&"multi"!=r||(Lo(n),We(e)),s&&!r&&/\'$/.test(t)?(Lo(n),!0):!!r;
}function dn(e,t){var n=fo(t,!0);return n?t.shiftKey&&!e.state.keySeq?cn(e,"Shift-"+n,t,function(t){return an(e,t,!0)})||cn(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?an(e,t):void 0}):cn(e,n,t,function(t){return an(e,t)}):!1}function un(e,t,n){return cn(e,"'"+n+"'",t,function(t){return an(e,t,!0)})}function hn(e){var t=this;if(t.curOp.focus=js(),!Ts(t,e)){yr&&11>br&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=dn(t,e);Sr&&(Xr=i?n:null,!i&&88==n&&!ia&&(Ar?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||pn(t)}}function pn(e){function t(e){18!=e.keyCode&&e.altKey||(Xo(n,"CodeMirror-crosshair"),Fo(document,"keyup",t),Fo(document,"mouseover",t))}var n=e.display.lineDiv;Jo(n,"CodeMirror-crosshair"),Oo(document,"keyup",t),Oo(document,"mouseover",t)}function fn(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ts(this,e)}function mn(e){var t=this;if(!(jt(t.display,e)||Ts(t,e)||e.ctrlKey&&!e.altKey||Ar&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(Sr&&n==Xr)return Xr=null,void Lo(e);if(!Sr||e.which&&!(e.which<10)||!dn(t,e)){var s=String.fromCharCode(null==i?n:i);un(t,e,s)||t.display.input.onKeyPress(e)}}}function gn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,yn(e))},100)}function vn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Do(e,"focus",e),e.state.focused=!0,Jo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xr&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),We(e))}function yn(e){e.state.delayingBlurEvent||(e.state.focused&&(Do(e,"blur",e),e.state.focused=!1,Xo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function bn(e,t){jt(e.display,t)||xn(e,t)||Ts(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function xn(e,t){return Ms(e,"gutterContextMenu")?Xt(e,t,"gutterContextMenu",!1):!1}function wn(e,t){if(Wr(e,t.from)<0)return e;if(Wr(e,t.to)<=0)return Jr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Jr(t).ch-t.to.ch),Er(n,i)}function kn(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var s=e.sel.ranges[i];n.push(new ue(wn(s.anchor,t),wn(s.head,t)))}return he(n,e.sel.primIndex)}function Sn(e,t,n){return e.line==t.line?Er(n.line,e.ch-t.ch+n.ch):Er(n.line+(e.line-t.line),e.ch)}function Cn(e,t,n){for(var i=[],s=Er(e.first,0),r=s,o=0;o<t.length;o++){var a=t[o],l=Sn(a.from,s,r),c=Sn(Jr(a),s,r);if(s=a.to,r=c,"around"==n){var d=e.sel.ranges[o],u=Wr(d.head,d.anchor)<0;i[o]=new ue(u?c:l,u?l:c)}else i[o]=new ue(l,l)}return new de(i,e.sel.primIndex)}function _n(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(t,n,i,s){t&&(this.from=me(e,t)),n&&(this.to=me(e,n)),i&&(this.text=i),void 0!==s&&(this.origin=s)}),Do(e,"beforeChange",e,i),e.cm&&Do(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Tn(e,t,n){if(e.cm){if(!e.cm.curOp)return Ot(e.cm,Tn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Ms(e,"beforeChange")||e.cm&&Ms(e.cm,"beforeChange"))||(t=_n(e,t,!0))){var i=Ir&&!n&&li(e,t.from,t.to);if(i)for(var s=i.length-1;s>=0;--s)Ln(e,{from:i[s].from,to:i[s].to,text:s?[""]:t.text});else Ln(e,t)}}function Ln(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Wr(t.from,t.to)){var n=kn(e,t);cs(e,t,n,e.cm?e.cm.curOp.id:NaN),On(e,t,n,ri(e,t));var i=[];Yi(e,function(e,n){n||-1!=Ds(i,e.history)||(bs(e.history,t),i.push(e.history)),On(e,t,null,ri(e,t))})}}function Mn(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var i,s=e.history,r=e.sel,o="undo"==t?s.done:s.undone,a="undo"==t?s.undone:s.done,l=0;l<o.length&&(i=o[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=o.length){for(s.lastOrigin=s.lastSelOrigin=null;i=o.pop(),i.ranges;){if(hs(i,a),n&&!i.equals(e.sel))return void Te(e,i,{clearRedo:!1});r=i}var c=[];hs(r,a),a.push({changes:c,generation:s.generation}),s.generation=i.generation||++s.maxGeneration;for(var d=Ms(e,"beforeChange")||e.cm&&Ms(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var u=i.changes[l];if(u.origin=t,d&&!_n(e,u,!1))return void(o.length=0);c.push(os(e,u));var h=l?kn(e,u):Fs(o);On(e,u,h,ai(e,u)),!l&&e.cm&&e.cm.scrollIntoView({from:u.from,to:Jr(u)});var p=[];Yi(e,function(e,t){t||-1!=Ds(p,e.history)||(bs(e.history,u),p.push(e.history)),On(e,u,null,ai(e,u))})}}}}function An(e,t){if(0!=t&&(e.first+=t,e.sel=new de(Ns(e.sel.ranges,function(e){return new ue(Er(e.anchor.line+t,e.anchor.ch),Er(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){It(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)Pt(e.cm,i,"gutter")}}function On(e,t,n,i){if(e.cm&&!e.cm.curOp)return Ot(e.cm,On)(e,t,n,i);if(t.to.line<e.first)return void An(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var s=t.text.length-1-(e.first-t.from.line);An(e,s),t={from:Er(e.first,0),to:Er(t.to.line+s,t.to.ch),text:[Fs(t.text)],origin:t.origin}}var r=e.lastLine();t.to.line>r&&(t={from:t.from,to:Er(r,Xi(e,r).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ji(e,t.from,t.to),n||(n=kn(e,t)),e.cm?$n(e.cm,t,i):Vi(e,t,i),Le(e,n,Eo)}}function $n(e,t,n){var i=e.doc,s=e.display,o=t.from,a=t.to,l=!1,c=o.line;e.options.lineWrapping||(c=ts(yi(Xi(i,o.line))),i.iter(c,a.line+1,function(e){return e==s.maxLine?(l=!0,!0):void 0})),i.sel.contains(t.from,t.to)>-1&&Ls(e),Vi(i,t,n,r(e)),e.options.lineWrapping||(i.iter(c,o.line+t.text.length,function(e){var t=u(e);t>s.maxLineLength&&(s.maxLine=e,s.maxLineLength=t,s.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,o.line),Be(e,400);var d=t.text.length-(a.line-o.line)-1;t.full?It(e):o.line!=a.line||1!=t.text.length||ji(e.doc,t)?It(e,o.line,a.line+1,d):Pt(e,o.line,"text");var h=Ms(e,"changes"),p=Ms(e,"change");if(p||h){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};p&&Cs(e,"change",e,f),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function Fn(e,t,n,i,s){if(i||(i=n),Wr(i,n)<0){var r=i;i=n,n=r}"string"==typeof t&&(t=e.splitLines(t)),Tn(e,{from:n,to:i,text:t,origin:s})}function Dn(e,t){if(!Ts(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),s=null;if(t.top+i.top<0?s=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(s=!1),null!=s&&!Tr){var r=Rs("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-qe(e.display))+"px; height: "+(t.bottom-t.top+Ve(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(r),r.scrollIntoView(s),e.display.lineSpace.removeChild(r)}}}function Nn(e,t,n,i){null==i&&(i=0);for(var s=0;5>s;s++){var r=!1,o=pt(e,t),a=n&&n!=t?pt(e,n):o,l=Pn(e,Math.min(o.left,a.left),Math.min(o.top,a.top)-i,Math.max(o.left,a.left),Math.max(o.bottom,a.bottom)+i),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=l.scrollTop&&(sn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(r=!0)),null!=l.scrollLeft&&(rn(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(r=!0)),!r)break}return o}function In(e,t,n,i,s){var r=Pn(e,t,n,i,s);null!=r.scrollTop&&sn(e,r.scrollTop),null!=r.scrollLeft&&rn(e,r.scrollLeft)}function Pn(e,t,n,i,s){var r=e.display,o=yt(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,l=Ke(e),c={};s-n>l&&(s=n+l);var d=e.doc.height+Ue(r),u=o>n,h=s>d-o;if(a>n)c.scrollTop=u?0:n;else if(s>a+l){var p=Math.min(n,(h?d:s)-l);p!=a&&(c.scrollTop=p)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,m=Ge(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),g=i-t>m;return g&&(i=t+m),10>t?c.scrollLeft=0:f>t?c.scrollLeft=Math.max(0,t-(g?0:10)):i>m+f-3&&(c.scrollLeft=i+(g?0:10)-m),c}function En(e,t,n){null==t&&null==n||Bn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Wn(e){Bn(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?Er(t.line,t.ch-1):t,i=Er(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function Bn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=ft(e,t.from),i=ft(e,t.to),s=Pn(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(s.scrollLeft,s.scrollTop)}}function Hn(e,t,n,i){var s,r=e.doc;null==n&&(n="add"),"smart"==n&&(r.mode.indent?s=Re(e,t):n="prev");var o=e.options.tabSize,a=Xi(r,t),l=Ho(a.text,null,o);a.stateAfter&&(a.stateAfter=null);var c,d=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=r.mode.indent(s,a.text.slice(d.length),a.text),c==Po||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>r.first?Ho(Xi(r,t-1).text,null,o):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var u="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/o);p;--p)h+=o,u+="	";if(c>h&&(u+=$s(c-h)),u!=d)return Fn(r,u,Er(t,0),Er(t,d.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<r.sel.ranges.length;p++){var f=r.sel.ranges[p];if(f.head.line==t&&f.head.ch<d.length){var h=Er(t,d.length);ke(r,p,new ue(h,h));break}}}function zn(e,t,n,i){var s=t,r=t;return"number"==typeof t?r=Xi(e,fe(e,t)):s=ts(t),null==s?null:(i(r,s)&&e.cm&&Pt(e.cm,s,n),r)}function Rn(e,t){for(var n=e.doc.sel.ranges,i=[],s=0;s<n.length;s++){for(var r=t(n[s]);i.length&&Wr(r.from,Fs(i).to)<=0;){var o=i.pop();if(Wr(o.from,r.from)<0){r.from=o.from;break}}i.push(r)}At(e,function(){for(var t=i.length-1;t>=0;t--)Fn(e.doc,"",i[t].from,i[t].to,"+delete");Wn(e)})}function qn(e,t,n,i,s){function r(){var t=a+n;return t<e.first||t>=e.first+e.size?!1:(a=t,d=Xi(e,t))}function o(e){var t=(s?ur:hr)(d,l,n,!0);if(null==t){if(e||!r())return!1;l=s?(0>n?sr:ir)(d):0>n?d.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=n,d=Xi(e,a);if("char"==i)o();else if("column"==i)o(!0);else if("word"==i||"group"==i)for(var u=null,h="group"==i,p=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(0>n)||o(!f);f=!1){var m=d.text.charAt(l)||"\n",g=Bs(m,p)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||f||g||(g="s"),u&&u!=g){0>n&&(n=1,o());break}if(g&&(u=g),n>0&&!o(!f))break}var v=Fe(e,Er(a,l),t,c,!0);return Wr(t,v)||(v.hitSide=!0),v}function Un(e,t,n,i){var s,r=e.doc,o=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);s=t.top+n*(a-(0>n?1.5:.5)*yt(e.display))}else"line"==i&&(s=n>0?t.bottom+3:t.top-3);for(;;){var l=gt(e,o,s);if(!l.outside)break;if(0>n?0>=s:s>=r.height){l.hitSide=!0;break}s+=5*n}return l}function jn(t,n,i,s){e.defaults[t]=n,i&&(eo[t]=s?function(e,t,n){n!=to&&i(e,t,n)}:i)}function Vn(e){for(var t,n,i,s,r=e.split(/-(?!$)/),e=r[r.length-1],o=0;o<r.length-1;o++){var a=r[o];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),s&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Gn(e){return"string"==typeof e?uo[e]:e}function Kn(e,t,n,i,s){if(i&&i.shared)return Yn(e,t,n,i,s);if(e.cm&&!e.cm.curOp)return Ot(e.cm,Kn)(e,t,n,i,s);var r=new vo(e,s),o=Wr(t,n);if(i&&Es(i,r,!1),o>0||0==o&&r.clearWhenEmpty!==!1)return r;if(r.replacedWith&&(r.collapsed=!0,r.widgetNode=Rs("span",[r.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||r.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(r.widgetNode.insertLeft=!0)),r.collapsed){if(vi(e,t.line,t,n,r)||t.line!=n.line&&vi(e,n.line,t,n,r))throw new Error("Inserting collapsed marker partially overlapping an existing one");Pr=!0}r.addToHistory&&cs(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&r.collapsed&&!c.options.lineWrapping&&yi(e)==c.display.maxLine&&(a=!0),r.collapsed&&l!=t.line&&es(e,0),ni(e,new Zn(r,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),r.collapsed&&e.iter(t.line,n.line+1,function(t){ki(e,t)&&es(t,0)}),r.clearOnEnter&&Oo(r,"beforeCursorEnter",function(){r.clear()}),r.readOnly&&(Ir=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),r.collapsed&&(r.id=++go,r.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),r.collapsed)It(c,t.line,n.line+1);else if(r.className||r.title||r.startStyle||r.endStyle||r.css)for(var d=t.line;d<=n.line;d++)Pt(c,d,"text");r.atomic&&Ae(c.doc),Cs(c,"markerAdded",c,r)}return r}function Yn(e,t,n,i,s){i=Es(i),i.shared=!1;var r=[Kn(e,t,n,i,s)],o=r[0],a=i.widgetNode;return Yi(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),r.push(Kn(e,me(e,t),me(e,n),i,s));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Fs(r)}),new yo(r,o)}function Qn(e){return e.findMarks(Er(e.first,0),e.clipPos(Er(e.lastLine())),function(e){return e.parent})}function Xn(e,t){for(var n=0;n<t.length;n++){var i=t[n],s=i.find(),r=e.clipPos(s.from),o=e.clipPos(s.to);if(Wr(r,o)){var a=Kn(e,r,o,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Jn(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];Yi(n.primary.doc,function(e){i.push(e)});for(var s=0;s<n.markers.length;s++){var r=n.markers[s];-1==Ds(i,r.doc)&&(r.parent=null,n.markers.splice(s--,1))}}}function Zn(e,t,n){this.marker=e,this.from=t,this.to=n}function ei(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function ti(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function ni(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function ii(e,t,n){if(e)for(var i,s=0;s<e.length;++s){var r=e[s],o=r.marker,a=null==r.from||(o.inclusiveLeft?r.from<=t:r.from<t);if(a||r.from==t&&"bookmark"==o.type&&(!n||!r.marker.insertLeft)){var l=null==r.to||(o.inclusiveRight?r.to>=t:r.to>t);(i||(i=[])).push(new Zn(o,r.from,l?null:r.to))}}return i}function si(e,t,n){if(e)for(var i,s=0;s<e.length;++s){var r=e[s],o=r.marker,a=null==r.to||(o.inclusiveRight?r.to>=t:r.to>t);if(a||r.from==t&&"bookmark"==o.type&&(!n||r.marker.insertLeft)){var l=null==r.from||(o.inclusiveLeft?r.from<=t:r.from<t);(i||(i=[])).push(new Zn(o,l?null:r.from-t,null==r.to?null:r.to-t))}}return i}function ri(e,t){if(t.full)return null;var n=ve(e,t.from.line)&&Xi(e,t.from.line).markedSpans,i=ve(e,t.to.line)&&Xi(e,t.to.line).markedSpans;if(!n&&!i)return null;var s=t.from.ch,r=t.to.ch,o=0==Wr(t.from,t.to),a=ii(n,s,o),l=si(i,r,o),c=1==t.text.length,d=Fs(t.text).length+(c?s:0);if(a)for(var u=0;u<a.length;++u){var h=a[u];if(null==h.to){var p=ei(l,h.marker);p?c&&(h.to=null==p.to?null:p.to+d):h.to=s}}if(l)for(var u=0;u<l.length;++u){var h=l[u];if(null!=h.to&&(h.to+=d),null==h.from){var p=ei(a,h.marker);p||(h.from=d,c&&(a||(a=[])).push(h))}else h.from+=d,c&&(a||(a=[])).push(h)}a&&(a=oi(a)),l&&l!=a&&(l=oi(l));var f=[a];if(!c){var m,g=t.text.length-2;if(g>0&&a)for(var u=0;u<a.length;++u)null==a[u].to&&(m||(m=[])).push(new Zn(a[u].marker,null,null));for(var u=0;g>u;++u)f.push(m);f.push(l)}return f}function oi(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ai(e,t){var n=ms(e,t),i=ri(e,t);if(!n)return i;if(!i)return n;for(var s=0;s<n.length;++s){var r=n[s],o=i[s];if(r&&o)e:for(var a=0;a<o.length;++a){for(var l=o[a],c=0;c<r.length;++c)if(r[c].marker==l.marker)continue e;r.push(l)}else o&&(n[s]=o)}return n}function li(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=Ds(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var s=[{from:t,to:n}],r=0;r<i.length;++r)for(var o=i[r],a=o.find(0),l=0;l<s.length;++l){var c=s[l];if(!(Wr(c.to,a.from)<0||Wr(c.from,a.to)>0)){var d=[l,1],u=Wr(c.from,a.from),h=Wr(c.to,a.to);(0>u||!o.inclusiveLeft&&!u)&&d.push({from:c.from,to:a.from}),(h>0||!o.inclusiveRight&&!h)&&d.push({from:a.to,to:c.to}),s.splice.apply(s,d),l+=d.length-1}}return s}function ci(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function di(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function ui(e){return e.inclusiveLeft?-1:0}function hi(e){return e.inclusiveRight?1:0}function pi(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),s=t.find(),r=Wr(i.from,s.from)||ui(e)-ui(t);if(r)return-r;var o=Wr(i.to,s.to)||hi(e)-hi(t);return o?o:t.id-e.id}function fi(e,t){var n,i=Pr&&e.markedSpans;if(i)for(var s,r=0;r<i.length;++r)s=i[r],s.marker.collapsed&&null==(t?s.from:s.to)&&(!n||pi(n,s.marker)<0)&&(n=s.marker);return n}function mi(e){return fi(e,!0)}function gi(e){return fi(e,!1)}function vi(e,t,n,i,s){var r=Xi(e,t),o=Pr&&r.markedSpans;if(o)for(var a=0;a<o.length;++a){var l=o[a];if(l.marker.collapsed){var c=l.marker.find(0),d=Wr(c.from,n)||ui(l.marker)-ui(s),u=Wr(c.to,i)||hi(l.marker)-hi(s);if(!(d>=0&&0>=u||0>=d&&u>=0)&&(0>=d&&(Wr(c.to,n)>0||l.marker.inclusiveRight&&s.inclusiveLeft)||d>=0&&(Wr(c.from,i)<0||l.marker.inclusiveLeft&&s.inclusiveRight)))return!0}}}function yi(e){for(var t;t=mi(e);)e=t.find(-1,!0).line;return e}function bi(e){for(var t,n;t=gi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function xi(e,t){var n=Xi(e,t),i=yi(n);return n==i?t:ts(i)}function wi(e,t){if(t>e.lastLine())return t;var n,i=Xi(e,t);if(!ki(e,i))return t;for(;n=gi(i);)i=n.find(1,!0).line;return ts(i)+1}function ki(e,t){var n=Pr&&t.markedSpans;if(n)for(var i,s=0;s<n.length;++s)if(i=n[s],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Si(e,t,i))return!0}}function Si(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return Si(e,i.line,ei(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var s,r=0;r<t.markedSpans.length;++r)if(s=t.markedSpans[r],s.marker.collapsed&&!s.marker.widgetNode&&s.from==n.to&&(null==s.to||s.to!=n.from)&&(s.marker.inclusiveLeft||n.marker.inclusiveRight)&&Si(e,t,s))return!0}function Ci(e,t,n){is(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&En(e,null,n)}function _i(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ko(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Us(t.display.measure,Rs("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Ti(e,t,n,i){var s=new bo(e,n,i),r=e.cm;return r&&s.noHScroll&&(r.display.alignWidgets=!0),zn(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==s.insertAt?n.push(s):n.splice(Math.min(n.length-1,Math.max(0,s.insertAt)),0,s),s.line=t,r&&!ki(e,t)){var i=is(t)<e.scrollTop;es(t,t.height+_i(s)),i&&En(r,null,s.height),r.curOp.forceUpdate=!0}return!0}),s}function Li(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ci(e),di(e,n);var s=i?i(e):1;s!=e.height&&es(e,s)}function Mi(e){e.parent=null,ci(e)}function Ai(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Oi(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function $i(t,n,i,s){for(var r=0;10>r;r++){s&&(s[0]=e.innerMode(t,i).mode);var o=t.token(n,i);if(n.pos>n.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Fi(e,t,n,i){function s(e){return{start:u.start,end:u.pos,string:u.current(),type:r||null,state:e?ao(o.mode,d):d}}var r,o=e.doc,a=o.mode;t=me(o,t);var l,c=Xi(o,t.line),d=Re(e,t.line,n),u=new mo(c.text,e.options.tabSize);for(i&&(l=[]);(i||u.pos<t.ch)&&!u.eol();)u.start=u.pos,r=$i(a,u,d),i&&l.push(s(!0));return i?l:s()}function Di(e,t,n,i,s,r,o){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,d=null,u=new mo(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&Ai(Oi(n,i),r);!u.eol();){if(u.pos>e.options.maxHighlightLength?(a=!1,o&&Pi(e,t,i,u.pos),u.pos=t.length,l=null):l=Ai($i(n,u,i,h),r),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||d!=l){for(;c<u.start;)c=Math.min(u.start,c+5e4),s(c,d);d=l}u.start=u.pos}for(;c<u.pos;){var f=Math.min(u.pos,c+5e4);s(f,d),c=f}}function Ni(e,t,n,i){var s=[e.state.modeGen],r={};Di(e,t.text,e.doc.mode,n,function(e,t){s.push(e,t)},r,i);for(var o=0;o<e.state.overlays.length;++o){var a=e.state.overlays[o],l=1,c=0;Di(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>c;){var i=s[l];i>e&&s.splice(l,1,e,s[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(a.opaque)s.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var r=s[n+1];s[n+1]=(r?r+" ":"")+"cm-overlay "+t}},r)}return{styles:s,classes:r.bgClass||r.textClass?r:null}}function Ii(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Re(e,ts(t)),s=Ni(e,t,t.text.length>e.options.maxHighlightLength?ao(e.doc.mode,i):i);t.stateAfter=i,t.styles=s.styles,s.classes?t.styleClasses=s.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Pi(e,t,n,i){var s=e.doc.mode,r=new mo(t,e.options.tabSize);for(r.start=r.pos=i||0,""==t&&Oi(s,n);!r.eol();)$i(s,r,n),r.start=r.pos}function Ei(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ko:wo;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Wi(e,t){var n=Rs("span",null,null,xr?"padding-right: .1px":null),i={pre:Rs("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(yr||xr)&&e.getOption("lineWrapping")};t.measure={};for(var s=0;s<=(t.rest?t.rest.length:0);s++){var r,o=s?t.rest[s-1]:t.line;i.pos=0,i.addToken=Hi,Js(e.display.measure)&&(r=ss(o))&&(i.addToken=Ri(i.addToken,r)),i.map=[];var a=t!=e.display.externalMeasured&&ts(o);Ui(o,i,Ii(e,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=Gs(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=Gs(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Xs(e.display.measure))),0==s?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return xr&&/\bcm-tab\b/.test(i.content.lastChild.className)&&(i.content.className="cm-tab-wrap-hack"),Do(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Gs(i.pre.className,i.textClass||"")),i}function Bi(e){var t=Rs("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Hi(e,t,n,i,s,r,o){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,zi):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var d=document.createDocumentFragment(),u=0;;){l.lastIndex=u;var h=l.exec(t),p=h?h.index-u:t.length-u;if(p){var f=document.createTextNode(a.slice(u,u+p));yr&&9>br?d.appendChild(Rs("span",[f])):d.appendChild(f),e.map.push(e.pos,e.pos+p,f),e.col+=p,e.pos+=p}if(!h)break;if(u+=p+1,"	"==h[0]){var m=e.cm.options.tabSize,g=m-e.col%m,f=d.appendChild(Rs("span",$s(g),"cm-tab"));f.setAttribute("role","presentation"),f.setAttribute("cm-text","	"),e.col+=g}else if("\r"==h[0]||"\n"==h[0]){var f=d.appendChild(Rs("span","\r"==h[0]?"␍":"␤","cm-invalidchar"));f.setAttribute("cm-text",h[0]),e.col+=1}else{var f=e.cm.options.specialCharPlaceholder(h[0]);f.setAttribute("cm-text",h[0]),yr&&9>br?d.appendChild(Rs("span",[f])):d.appendChild(f),e.col+=1}e.map.push(e.pos,e.pos+1,f),e.pos++}else{e.col+=t.length;var d=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,d),yr&&9>br&&(c=!0),e.pos+=t.length}if(n||i||s||c||o){var v=n||"";i&&(v+=i),s&&(v+=s);var y=Rs("span",[d],v,o);return r&&(y.title=r),e.content.appendChild(y)}e.content.appendChild(d)}}function zi(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}function Ri(e,t){return function(n,i,s,r,o,a,l){s=s?s+" cm-force-border":"cm-force-border";for(var c=n.pos,d=c+i.length;;){for(var u=0;u<t.length;u++){var h=t[u];if(h.to>c&&h.from<=c)break}if(h.to>=d)return e(n,i,s,r,o,a,l);e(n,i.slice(0,h.to-c),s,r,null,a,l),r=null,i=i.slice(h.to-c),c=h.to}}}function qi(e,t,n,i){var s=!i&&n.widgetNode;s&&e.map.push(e.pos,e.pos+t,s),!i&&e.cm.display.input.needsContentAttribute&&(s||(s=e.content.appendChild(document.createElement("span"))),s.setAttribute("cm-marker",n.id)),s&&(e.cm.display.input.setUneditable(s),e.content.appendChild(s)),e.pos+=t}function Ui(e,t,n){var i=e.markedSpans,s=e.text,r=0;if(i)for(var o,a,l,c,d,u,h,p=s.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=d=u=a="",h=null,v=1/0;for(var y,b=[],x=0;x<i.length;++x){var w=i[x],k=w.marker;"bookmark"==k.type&&w.from==f&&k.widgetNode?b.push(k):w.from<=f&&(null==w.to||w.to>f||k.collapsed&&w.to==f&&w.from==f)?(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,c=""),k.className&&(l+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&w.from==f&&(d+=" "+k.startStyle),k.endStyle&&w.to==v&&(y||(y=[])).push(k.endStyle,w.to),k.title&&!u&&(u=k.title),k.collapsed&&(!h||pi(h.marker,k)<0)&&(h=w)):w.from>f&&v>w.from&&(v=w.from)}if(y)for(var x=0;x<y.length;x+=2)y[x+1]==v&&(c+=" "+y[x]);if(!h||h.from==f)for(var x=0;x<b.length;++x)qi(t,0,b[x]);if(h&&(h.from||0)==f){if(qi(t,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(f>=p)break;for(var S=Math.min(p,v);;){if(g){var C=f+g.length;if(!h){var _=C>S?g.slice(0,S-f):g;t.addToken(t,_,o?o+l:l,d,f+_.length==v?c:"",u,a)}if(C>=S){g=g.slice(S-f),f=S;break}f=C,d=""}g=s.slice(r,r=n[m++]),o=Ei(n[m++],t.cm.options)}}else for(var m=1;m<n.length;m+=2)t.addToken(t,s.slice(r,r=n[m]),Ei(n[m+1],t.cm.options))}function ji(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Fs(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Vi(e,t,n,i){function s(e){return n?n[e]:null}function r(e,n,s){Li(e,n,s,i),Cs(e,"change",e,t)}function o(e,t){for(var n=e,r=[];t>n;++n)r.push(new xo(c[n],s(n),i));return r}var a=t.from,l=t.to,c=t.text,d=Xi(e,a.line),u=Xi(e,l.line),h=Fs(c),p=s(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,o(0,c.length)),e.remove(c.length,e.size-c.length);else if(ji(e,t)){var m=o(0,c.length-1);r(u,u.text,p),f&&e.remove(a.line,f),m.length&&e.insert(a.line,m)}else if(d==u)if(1==c.length)r(d,d.text.slice(0,a.ch)+h+d.text.slice(l.ch),p);else{var m=o(1,c.length-1);m.push(new xo(h+d.text.slice(l.ch),p,i)),r(d,d.text.slice(0,a.ch)+c[0],s(0)),e.insert(a.line+1,m)}else if(1==c.length)r(d,d.text.slice(0,a.ch)+c[0]+u.text.slice(l.ch),s(0)),e.remove(a.line+1,f);else{r(d,d.text.slice(0,a.ch)+c[0],s(0)),r(u,h+u.text.slice(l.ch),p);var m=o(1,c.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,m)}Cs(e,"change",e,t)}function Gi(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Ki(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var s=e[i];t+=s.chunkSize(),n+=s.height,s.parent=this}this.size=t,this.height=n,this.parent=null}function Yi(e,t,n){function i(e,s,r){if(e.linked)for(var o=0;o<e.linked.length;++o){var a=e.linked[o];if(a.doc!=s){var l=r&&a.sharedHist;n&&!l||(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function Qi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),n(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,It(e)}function Xi(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var s=n.children[i],r=s.chunkSize();if(r>t){n=s;break}t-=r}return n.lines[t]}function Ji(e,t,n){var i=[],s=t.line;return e.iter(t.line,n.line+1,function(e){var r=e.text;s==n.line&&(r=r.slice(0,n.ch)),s==t.line&&(r=r.slice(t.ch)),i.push(r),++s}),i}function Zi(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function es(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function ts(e){if(null==e.parent)return null;for(var t=e.parent,n=Ds(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var s=0;i.children[s]!=t;++s)n+=i.children[s].chunkSize();return n+t.first}function ns(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var s=e.children[i],r=s.height;if(r>t){e=s;continue e}t-=r,n+=s.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var o=e.lines[i],a=o.height;if(a>t)break;t-=a}return n+i}function is(e){e=yi(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var s=n.lines[i];if(s==e)break;t+=s.height}for(var r=n.parent;r;n=r,r=n.parent)for(var i=0;i<r.children.length;++i){var o=r.children[i];if(o==n)break;t+=o.height}return t}function ss(e){var t=e.order;return null==t&&(t=e.order=aa(e.text)),t}function rs(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function os(e,t){var n={from:G(t.from),to:Jr(t),text:Ji(e,t.from,t.to)};return ps(e,n,t.from.line,t.to.line+1),Yi(e,function(e){ps(e,n,t.from.line,t.to.line+1)},!0),n}function as(e){for(;e.length;){var t=Fs(e);if(!t.ranges)break;e.pop()}}function ls(e,t){return t?(as(e.done),Fs(e.done)):e.done.length&&!Fs(e.done).ranges?Fs(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Fs(e.done)):void 0}function cs(e,t,n,i){var s=e.history;s.undone.length=0;var r,o=+new Date;if((s.lastOp==i||s.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&s.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(r=ls(s,s.lastOp==i))){var a=Fs(r.changes);0==Wr(t.from,t.to)&&0==Wr(t.from,a.to)?a.to=Jr(t):r.changes.push(os(e,t))}else{var l=Fs(s.done);for(l&&l.ranges||hs(e.sel,s.done),r={changes:[os(e,t)],generation:s.generation},s.done.push(r);s.done.length>s.undoDepth;)s.done.shift(),s.done[0].ranges||s.done.shift()}s.done.push(n),s.generation=++s.maxGeneration,s.lastModTime=s.lastSelTime=o,s.lastOp=s.lastSelOp=i,s.lastOrigin=s.lastSelOrigin=t.origin,a||Do(e,"historyAdded")}function ds(e,t,n,i){var s=t.charAt(0);return"*"==s||"+"==s&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function us(e,t,n,i){var s=e.history,r=i&&i.origin;n==s.lastSelOp||r&&s.lastSelOrigin==r&&(s.lastModTime==s.lastSelTime&&s.lastOrigin==r||ds(e,r,Fs(s.done),t))?s.done[s.done.length-1]=t:hs(t,s.done),s.lastSelTime=+new Date,s.lastSelOrigin=r,s.lastSelOp=n,i&&i.clearRedo!==!1&&as(s.undone)}function hs(e,t){var n=Fs(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ps(e,t,n,i){var s=t["spans_"+e.id],r=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((s||(s=t["spans_"+e.id]={}))[r]=n.markedSpans),++r})}function fs(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function ms(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,s=[];i<t.text.length;++i)s.push(fs(n[i]));return s}function gs(e,t,n){for(var i=0,s=[];i<e.length;++i){var r=e[i];if(r.ranges)s.push(n?de.prototype.deepCopy.call(r):r);else{var o=r.changes,a=[];s.push({changes:a});for(var l=0;l<o.length;++l){var c,d=o[l];if(a.push({from:d.from,to:d.to,text:d.text}),t)for(var u in d)(c=u.match(/^spans_(\d+)$/))&&Ds(t,Number(c[1]))>-1&&(Fs(a)[u]=d[u],delete d[u])}}}return s}function vs(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function ys(e,t,n,i){
for(var s=0;s<e.length;++s){var r=e[s],o=!0;if(r.ranges){r.copied||(r=e[s]=r.deepCopy(),r.copied=!0);for(var a=0;a<r.ranges.length;a++)vs(r.ranges[a].anchor,t,n,i),vs(r.ranges[a].head,t,n,i)}else{for(var a=0;a<r.changes.length;++a){var l=r.changes[a];if(n<l.from.line)l.from=Er(l.from.line+i,l.from.ch),l.to=Er(l.to.line+i,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,s+1),s=0)}}}function bs(e,t){var n=t.from.line,i=t.to.line,s=t.text.length-(i-n)-1;ys(e.done,n,i,s),ys(e.undone,n,i,s)}function xs(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ws(e){return e.target||e.srcElement}function ks(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ar&&e.ctrlKey&&1==t&&(t=3),t}function Ss(e,t,n){var i=e._handlers&&e._handlers[t];return n?i&&i.length>0?i.slice():$o:i||$o}function Cs(e,t){function n(e){return function(){e.apply(null,r)}}var i=Ss(e,t,!1);if(i.length){var s,r=Array.prototype.slice.call(arguments,2);Ur?s=Ur.delayedCallbacks:No?s=No:(s=No=[],setTimeout(_s,0));for(var o=0;o<i.length;++o)s.push(n(i[o]))}}function _s(){var e=No;No=null;for(var t=0;t<e.length;++t)e[t]()}function Ts(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Do(e,n||t.type,e,t),xs(t)||t.codemirrorIgnore}function Ls(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==Ds(n,t[i])&&n.push(t[i])}function Ms(e,t){return Ss(e,t).length>0}function As(e){e.prototype.on=function(e,t){Oo(this,e,t)},e.prototype.off=function(e,t){Fo(this,e,t)}}function Os(){this.id=null}function $s(e){for(;Ro.length<=e;)Ro.push(Fs(Ro)+" ");return Ro[e]}function Fs(e){return e[e.length-1]}function Ds(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Ns(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Is(){}function Ps(e,t){var n;return Object.create?n=Object.create(e):(Is.prototype=e,n=new Is),t&&Es(t,n),n}function Es(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function Ws(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Bs(e,t){return t?t.source.indexOf("\\w")>-1&&Vo(e)?!0:t.test(e):Vo(e)}function Hs(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function zs(e){return e.charCodeAt(0)>=768&&Go.test(e)}function Rs(e,t,n,i){var s=document.createElement(e);if(n&&(s.className=n),i&&(s.style.cssText=i),"string"==typeof t)s.appendChild(document.createTextNode(t));else if(t)for(var r=0;r<t.length;++r)s.appendChild(t[r]);return s}function qs(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Us(e,t){return qs(e).appendChild(t)}function js(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Vs(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Gs(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!Vs(n[i]).test(t)&&(t+=" "+n[i]);return t}function Ks(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Ys(){Zo||(Qs(),Zo=!0)}function Qs(){var e;Oo(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ks(Ut)},100))}),Oo(window,"blur",function(){Ks(yn)})}function Xs(e){if(null==Yo){var t=Rs("span","​");Us(e,Rs("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Yo=t.offsetWidth<=1&&t.offsetHeight>2&&!(yr&&8>br))}var n=Yo?Rs("span","​"):Rs("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Js(e){if(null!=Qo)return Qo;var t=Us(e,document.createTextNode("AخA")),n=Uo(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=Uo(t,1,2).getBoundingClientRect();return Qo=i.right-n.right<3}function Zs(e){if(null!=sa)return sa;var t=Us(e,Rs("span","x")),n=t.getBoundingClientRect(),i=Uo(t,0,1).getBoundingClientRect();return sa=Math.abs(n.left-i.left)>1}function er(e,t,n,i){if(!e)return i(t,n,"ltr");for(var s=!1,r=0;r<e.length;++r){var o=e[r];(o.from<n&&o.to>t||t==n&&o.to==t)&&(i(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr"),s=!0)}s||i(t,n,"ltr")}function tr(e){return e.level%2?e.to:e.from}function nr(e){return e.level%2?e.from:e.to}function ir(e){var t=ss(e);return t?tr(t[0]):0}function sr(e){var t=ss(e);return t?nr(Fs(t)):e.text.length}function rr(e,t){var n=Xi(e.doc,t),i=yi(n);i!=n&&(t=ts(i));var s=ss(i),r=s?s[0].level%2?sr(i):ir(i):0;return Er(t,r)}function or(e,t){for(var n,i=Xi(e.doc,t);n=gi(i);)i=n.find(1,!0).line,t=null;var s=ss(i),r=s?s[0].level%2?ir(i):sr(i):i.text.length;return Er(null==t?ts(i):t,r)}function ar(e,t){var n=rr(e,t.line),i=Xi(e.doc,n.line),s=ss(i);if(!s||0==s[0].level){var r=Math.max(0,i.text.search(/\S/)),o=t.line==n.line&&t.ch<=r&&t.ch;return Er(n.line,o?0:r)}return n}function lr(e,t,n){var i=e[0].level;return t==i?!0:n==i?!1:n>t}function cr(e,t){oa=null;for(var n,i=0;i<e.length;++i){var s=e[i];if(s.from<t&&s.to>t)return i;if(s.from==t||s.to==t){if(null!=n)return lr(e,s.level,e[n].level)?(s.from!=s.to&&(oa=n),i):(s.from!=s.to&&(oa=i),n);n=i}}return n}function dr(e,t,n,i){if(!i)return t+n;do t+=n;while(t>0&&zs(e.text.charAt(t)));return t}function ur(e,t,n,i){var s=ss(e);if(!s)return hr(e,t,n,i);for(var r=cr(s,t),o=s[r],a=dr(e,t,o.level%2?-n:n,i);;){if(a>o.from&&a<o.to)return a;if(a==o.from||a==o.to)return cr(s,a)==r?a:(o=s[r+=n],n>0==o.level%2?o.to:o.from);if(o=s[r+=n],!o)return null;a=n>0==o.level%2?dr(e,o.to,-1,i):dr(e,o.from,1,i)}}function hr(e,t,n,i){var s=t+n;if(i)for(;s>0&&zs(e.text.charAt(s));)s+=n;return 0>s||s>e.text.length?null:s}var pr=navigator.userAgent,fr=navigator.platform,mr=/gecko\/\d/i.test(pr),gr=/MSIE \d/.test(pr),vr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pr),yr=gr||vr,br=yr&&(gr?document.documentMode||6:vr[1]),xr=/WebKit\//.test(pr),wr=xr&&/Qt\/\d+\.\d+/.test(pr),kr=/Chrome\//.test(pr),Sr=/Opera\//.test(pr),Cr=/Apple Computer/.test(navigator.vendor),_r=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(pr),Tr=/PhantomJS/.test(pr),Lr=/AppleWebKit/.test(pr)&&/Mobile\/\w+/.test(pr),Mr=Lr||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(pr),Ar=Lr||/Mac/.test(fr),Or=/\bCrOS\b/.test(pr),$r=/win/i.test(fr),Fr=Sr&&pr.match(/Version\/(\d*\.\d*)/);Fr&&(Fr=Number(Fr[1])),Fr&&Fr>=15&&(Sr=!1,xr=!0);var Dr=Ar&&(wr||Sr&&(null==Fr||12.11>Fr)),Nr=mr||yr&&br>=9,Ir=!1,Pr=!1;m.prototype=Es({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var s=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+s)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var r=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+r+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Ar&&!_r?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Os,this.disableVert=new Os},enableZeroWidthBar:function(e,t){function n(){var i=e.getBoundingClientRect(),s=document.elementFromPoint(i.left+1,i.bottom-1);s!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=Es({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":m,"null":g},_.prototype.signal=function(e,t){Ms(e,t)&&this.events.push(arguments)},_.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Do.apply(null,this.events[e])};var Er=e.Pos=function(e,t){return this instanceof Er?(this.line=e,void(this.ch=t)):new Er(e,t)},Wr=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Br=null;ne.prototype=Es({init:function(e){function t(e){if(!Ts(i,e)){if(i.somethingSelected())Br=i.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,r.value=Br.join("\n"),qo(r));else{if(!i.options.lineWiseCopyCut)return;var t=ee(i);Br=t.text,"cut"==e.type?i.setSelections(t.ranges,null,Eo):(n.prevInput="",r.value=t.text.join("\n"),qo(r))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,s=this.wrapper=ie(),r=this.textarea=s.firstChild;e.wrapper.insertBefore(s,e.wrapper.firstChild),Lr&&(r.style.width="0px"),Oo(r,"input",function(){yr&&br>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Oo(r,"paste",function(e){Ts(i,e)||J(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),Oo(r,"cut",t),Oo(r,"copy",t),Oo(e.scroller,"paste",function(t){jt(e,t)||Ts(i,t)||(i.state.pasteIncoming=!0,n.focus())}),Oo(e.lineSpace,"selectstart",function(t){jt(e,t)||Lo(t)}),Oo(r,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Oo(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=Ie(e);if(e.options.moveInputWithCursor){var s=pt(e,n.sel.primary().head,"div"),r=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,s.top+o.top-r.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,s.left+o.left-r.left))}return i},showSelection:function(e){var t=this.cm,n=t.display;Us(n.cursorDiv,e.cursors),Us(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,s=i.doc;if(i.somethingSelected()){this.prevInput="";var r=s.sel.primary();t=ia&&(r.to().line-r.from().line>100||(n=i.getSelection()).length>1e3);var o=t?"-":n||i.getSelection();this.textarea.value=o,i.state.focused&&qo(this.textarea),yr&&br>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",yr&&br>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Mr||js()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var i=n.poll();i||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||na(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(yr&&br>=9&&this.hasSelection===i||Ar&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var s=i.charCodeAt(0);if(8203!=s||n||(n="​"),8666==s)return this.reset(),this.cm.execCommand("undo")}for(var r=0,o=Math.min(n.length,i.length);o>r&&n.charCodeAt(r)==i.charCodeAt(r);)++r;var a=this;return At(e,function(){X(e,i.slice(r),n.length-r,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){yr&&br>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=o.selectionStart){var e=s.somethingSelected(),t="​"+(e?o.value:"");o.value="⇚",o.value=t,i.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=t.length,r.selForContextMenu=s.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=u,o.style.cssText=d,yr&&9>br&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),null!=o.selectionStart){(!yr||yr&&9>br)&&t();var e=0,n=function(){r.selForContextMenu==s.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==i.prevInput?Ot(s,co.selectAll)(s):e++<10?r.detectingSelectAll=setTimeout(n,500):r.input.reset()};r.detectingSelectAll=setTimeout(n,200)}}var i=this,s=i.cm,r=s.display,o=i.textarea,a=Vt(s,e),l=r.scroller.scrollTop;if(a&&!Sr){var c=s.options.resetSelectionOnContextMenu;c&&-1==s.doc.sel.contains(a)&&Ot(s,Te)(s.doc,pe(a),Eo);var d=o.style.cssText,u=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var h=i.wrapper.getBoundingClientRect();if(o.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px; z-index: 1000; background: "+(yr?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",xr)var p=window.scrollY;if(r.input.focus(),xr&&window.scrollTo(null,p),r.input.reset(),s.somethingSelected()||(o.value=i.prevInput=" "),i.contextMenuPending=!0,r.selForContextMenu=s.doc.sel,clearTimeout(r.detectingSelectAll),yr&&br>=9&&t(),Nr){Ao(e);var f=function(){Fo(window,"mouseup",f),setTimeout(n,20)};Oo(window,"mouseup",f)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Is,needsContentAttribute:!1},ne.prototype),se.prototype=Es({init:function(e){function t(e){if(!Ts(i,e)){if(i.somethingSelected())Br=i.getSelections(),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=ee(i);Br=t.text,"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Eo),i.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Lr)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Br.join("\n"));else{var n=ie(),s=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),s.value=Br.join("\n");var r=document.activeElement;qo(s),setTimeout(function(){i.display.lineSpace.removeChild(n),r.focus()},50)}}}var n=this,i=n.cm,s=n.div=e.lineDiv;te(s),Oo(s,"paste",function(e){Ts(i,e)||J(e,i)}),Oo(s,"compositionstart",function(e){var t=e.data;if(n.composing={sel:i.doc.sel,data:t,startData:t},t){var s=i.doc.sel.primary(),r=i.getLine(s.head.line),o=r.indexOf(t,Math.max(0,s.head.ch-t.length));o>-1&&o<=s.head.ch&&(n.composing.sel=pe(Er(s.head.line,o),Er(s.head.line,o+t.length)))}}),Oo(s,"compositionupdate",function(e){n.composing.data=e.data}),Oo(s,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Oo(s,"touchstart",function(){n.forceCompositionEnd()}),Oo(s,"input",function(){n.composing||!i.isReadOnly()&&n.pollContent()||At(n.cm,function(){It(i)})}),Oo(s,"copy",t),Oo(s,"cut",t)},prepareSelection:function(){var e=Ie(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=ae(this.cm,e.anchorNode,e.anchorOffset),i=ae(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=Wr(Y(n,i),t.from())||0!=Wr(K(n,i),t.to())){var s=re(this.cm,t.from()),r=re(this.cm,t.to());if(s||r){var o=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(s){if(!r){var l=o[o.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;r={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else s={node:o[0].measure.map[2],offset:0};try{var d=Uo(s.node,s.offset,r.offset,r.node)}catch(u){}d&&(!mr&&this.cm.state.focused?(e.collapse(s.node,s.offset),d.collapsed||e.addRange(d)):(e.removeAllRanges(),e.addRange(d)),a&&null==e.anchorNode?e.addRange(a):mr&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Us(this.cm.display.cursorDiv,e.cursors),Us(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ko(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():At(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=ae(t,e.anchorNode,e.anchorOffset),i=ae(t,e.focusNode,e.focusOffset);n&&i&&At(t,function(){Te(t.doc,pe(n,i),Eo),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),s=n.to();if(i.line<t.viewFrom||s.line>t.viewTo-1)return!1;var r;if(i.line==t.viewFrom||0==(r=Wt(e,i.line)))var o=ts(t.view[0].line),a=t.view[0].node;else var o=ts(t.view[r].line),a=t.view[r-1].node.nextSibling;var l=Wt(e,s.line);if(l==t.view.length-1)var c=t.viewTo-1,d=t.lineDiv.lastChild;else var c=ts(t.view[l+1].line)-1,d=t.view[l+1].node.previousSibling;for(var u=e.doc.splitLines(ce(e,a,d,o,c)),h=Ji(e.doc,Er(o,0),Er(c,Xi(e.doc,c).text.length));u.length>1&&h.length>1;)if(Fs(u)==Fs(h))u.pop(),h.pop(),c--;else{if(u[0]!=h[0])break;u.shift(),h.shift(),o++}for(var p=0,f=0,m=u[0],g=h[0],v=Math.min(m.length,g.length);v>p&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=Fs(u),b=Fs(h),x=Math.min(y.length-(1==u.length?p:0),b.length-(1==h.length?p:0));x>f&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)++f;u[u.length-1]=y.slice(0,y.length-f),u[0]=u[0].slice(p);var w=Er(o,p),k=Er(c,h.length?Fs(h).length-f:0);return u.length>1||u[0]||Wr(w,k)?(Fn(e.doc,u,w,k,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Ot(this.cm,It)(this.cm):e.data&&e.data!=e.startData&&Ot(this.cm,X)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Ot(this.cm,X)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Is,resetPosition:Is,needsContentAttribute:!0},se.prototype),e.inputStyles={textarea:ne,contenteditable:se},de.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=Wr(n.anchor,i.anchor)||0!=Wr(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ue(G(this.ranges[t].anchor),G(this.ranges[t].head));return new de(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(Wr(t,i.from())>=0&&Wr(e,i.to())<=0)return n}return-1}},ue.prototype={from:function(){return Y(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Hr,zr,Rr,qr={left:0,right:0,top:0,bottom:0},Ur=null,jr=0,Vr=0,Gr=0,Kr=null;yr?Kr=-.53:mr?Kr=15:kr?Kr=-.7:Cr&&(Kr=-1/3);var Yr=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Yr(e);return t.x*=Kr,t.y*=Kr,t};var Qr=new Os,Xr=null,Jr=e.changeEnd=function(e){return e.text?Er(e.from.line+e.text.length-1,Fs(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];n[e]==t&&"mode"!=e||(n[e]=t,eo.hasOwnProperty(e)&&Ot(this,eo[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Gn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:$t(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,It(this)}),removeOverlay:$t(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void It(this)}}),indentLine:$t(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ve(this.doc,e)&&Hn(this,e,t,n)}),indentSelection:$t(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var s=t[i];if(s.empty())s.head.line>n&&(Hn(this,s.head.line,e,!0),n=s.head.line,i==this.doc.sel.primIndex&&Wn(this));else{var r=s.from(),o=s.to(),a=Math.max(n,r.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=a;n>l;++l)Hn(this,l,e);var c=this.doc.sel.ranges;0==r.ch&&t.length==c.length&&c[i].from().ch>0&&ke(this.doc,i,new ue(r,c[i].to()),Eo)}}}),getTokenAt:function(e,t){return Fi(this,e,t)},getLineTokens:function(e,t){return Fi(this,Er(e),t,!0)},getTokenTypeAt:function(e){e=me(this.doc,e);var t,n=Ii(this,Xi(this.doc,e.line)),i=0,s=(n.length-1)/2,r=e.ch;if(0==r)t=n[2];else for(;;){var o=i+s>>1;if((o?n[2*o-1]:0)>=r)s=o;else{if(!(n[2*o+1]<r)){t=n[2*o+2];break}i=o+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!oo.hasOwnProperty(t))return n;var i=oo[t],s=this.getModeAt(e);if("string"==typeof s[t])i[s[t]]&&n.push(i[s[t]]);else if(s[t])for(var r=0;r<s[t].length;r++){var o=i[s[t][r]];o&&n.push(o)}else s.helperType&&i[s.helperType]?n.push(i[s.helperType]):i[s.name]&&n.push(i[s.name]);for(var r=0;r<i._global.length;r++){var a=i._global[r];a.pred(s,this)&&-1==Ds(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=fe(n,null==e?n.first+n.size-1:e),Re(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?me(this.doc,e):e?i.from():i.to(),pt(this,n,t||"page")},charCoords:function(e,t){return ht(this,me(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ut(this,e,t||"page"),gt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ut(this,{top:e,left:0},t||"page").top,ns(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var s=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>s&&(e=s,i=!0),n=Xi(this.doc,e)}else n=e;return dt(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-is(n):0)},defaultTextHeight:function(){return yt(this.display)},defaultCharWidth:function(){return bt(this.display)},setGutterMarker:$t(function(e,t,n){return zn(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&Hs(i)&&(e.gutterMarkers=null),!0})}),clearGutter:$t(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,Pt(t,i,"gutter"),Hs(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!ve(this.doc,e))return null;var t=e;if(e=Xi(this.doc,e),!e)return null}else{var t=ts(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,s){var r=this.display;e=pt(this,me(this.doc,e));var o=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),r.sizer.appendChild(t),"over"==i)o=e.top;else if("above"==i||"near"==i){var l=Math.max(r.wrapper.clientHeight,this.doc.height),c=Math.max(r.sizer.clientWidth,r.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==s?(a=r.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==s?a=0:"middle"==s&&(a=(r.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&In(this,a,o,a+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:$t(hn),triggerOnKeyPress:$t(mn),triggerOnKeyUp:fn,execCommand:function(e){return co.hasOwnProperty(e)?co[e].call(null,this):void 0},triggerElectric:$t(function(e){Z(this,e)}),findPosH:function(e,t,n,i){var s=1;0>t&&(s=-1,t=-t);for(var r=0,o=me(this.doc,e);t>r&&(o=qn(this.doc,o,s,n,i),!o.hitSide);++r);return o},moveH:$t(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?qn(n.doc,i.head,e,t,n.options.rtlMoveVisually):0>e?i.from():i.to()},Bo)}),deleteH:$t(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Rn(this,function(n){var s=qn(i,n.head,e,t,!1);return 0>e?{from:s,to:n.head}:{from:n.head,to:s}})}),findPosV:function(e,t,n,i){var s=1,r=i;0>t&&(s=-1,t=-t);for(var o=0,a=me(this.doc,e);t>o;++o){var l=pt(this,a,"div");if(null==r?r=l.left:l.left=r,a=Un(this,l,s,n),a.hitSide)break}return a},moveV:$t(function(e,t){var n=this,i=this.doc,s=[],r=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(o){if(r)return 0>e?o.from():o.to();var a=pt(n,o.head,"div");null!=o.goalColumn&&(a.left=o.goalColumn),s.push(a.left);var l=Un(n,a,e,t);return"page"==t&&o==i.sel.primary()&&En(n,null,ht(n,l,"div").top-a.top),l},Bo),s.length)for(var o=0;o<i.sel.ranges.length;o++)i.sel.ranges[o].goalColumn=s[o]}),findWordAt:function(e){var t=this.doc,n=Xi(t,e.line).text,i=e.ch,s=e.ch;if(n){var r=this.getHelper(e,"wordChars");(e.xRel<0||s==n.length)&&i?--i:++s;for(var o=n.charAt(i),a=Bs(o,r)?function(e){return Bs(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Bs(e)};i>0&&a(n.charAt(i-1));)--i;for(;s<n.length&&a(n.charAt(s));)++s}return new ue(Er(e.line,i),Er(e.line,s))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Jo(this.display.cursorDiv,"CodeMirror-overwrite"):Xo(this.display.cursorDiv,"CodeMirror-overwrite"),Do(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==js()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:$t(function(e,t){null==e&&null==t||Bn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ve(this)-this.display.barHeight,width:e.scrollWidth-Ve(this)-this.display.barWidth,clientHeight:Ke(this),clientWidth:Ge(this)}},scrollIntoView:$t(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Er(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Bn(this),this.curOp.scrollToPos=e;else{var n=Pn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:$t(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&ot(this);var s=i.display.viewFrom;i.doc.iter(s,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pt(i,s,"widget");break}++s}),i.curOp.forceUpdate=!0,Do(i,"refresh",this)}),operation:function(e){return At(this,e)},refresh:$t(function(){var e=this.display.cachedTextHeight;It(this),this.curOp.forceUpdate=!0,at(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),d(this),(null==e||Math.abs(e-yt(this.display))>.5)&&o(this),Do(this,"refresh",this)}),swapDoc:$t(function(e){var t=this.doc;return t.cm=null,Qi(this,e),at(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Cs(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},As(e);var Zr=e.defaults={},eo=e.optionHandlers={},to=e.Init={toString:function(){return"CodeMirror.Init"}};jn("value","",function(e,t){e.setValue(t)},!0),jn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),jn("indentUnit",2,n,!0),jn("indentWithTabs",!1),jn("smartIndent",!0),jn("tabSize",4,function(e){i(e),at(e),It(e)},!0),jn("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var s=0;;){var r=e.text.indexOf(t,s);if(-1==r)break;s=r+t.length,n.push(Er(i,r))}i++});for(var s=n.length-1;s>=0;s--)Fn(e.doc,t,n[s],Er(n[s].line,n[s].ch+t.length))}}),jn("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),i!=e.Init&&t.refresh()}),jn("specialCharPlaceholder",Bi,function(e){
e.refresh()},!0),jn("electricChars",!0),jn("inputStyle",Mr?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),jn("rtlMoveVisually",!$r),jn("wholeLineUpdateBefore",!0),jn("theme","default",function(e){a(e),l(e)},!0),jn("keyMap","default",function(t,n,i){var s=Gn(n),r=i!=e.Init&&Gn(i);r&&r.detach&&r.detach(t,s),s.attach&&s.attach(t,r||null)}),jn("extraKeys",null),jn("lineWrapping",!1,s,!0),jn("gutters",[],function(e){p(e.options),l(e)},!0),jn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?C(e.display)+"px":"0",e.refresh()},!0),jn("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),jn("scrollbarStyle","native",function(e){v(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),jn("lineNumbers",!1,function(e){p(e.options),l(e)},!0),jn("firstLineNumber",1,l,!0),jn("lineNumberFormatter",function(e){return e},l,!0),jn("showCursorWhenSelecting",!1,Ne,!0),jn("resetSelectionOnContextMenu",!0),jn("lineWiseCopyCut",!0),jn("readOnly",!1,function(e,t){"nocursor"==t?(yn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),jn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),jn("dragDrop",!0,qt),jn("allowDropFileTypes",null),jn("cursorBlinkRate",530),jn("cursorScrollMargin",0),jn("cursorHeight",1,Ne,!0),jn("singleCursorHeightPerLine",!0,Ne,!0),jn("workTime",100),jn("workDelay",100),jn("flattenSpans",!0,i,!0),jn("addModeClass",!1,i,!0),jn("pollInterval",100),jn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),jn("historyEventDelay",1250),jn("viewportMargin",10,function(e){e.refresh()},!0),jn("maxHighlightLength",1e4,i,!0),jn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),jn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),jn("autofocus",null);var no=e.modes={},io=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),no[t]=n},e.defineMIME=function(e,t){io[e]=t},e.resolveMode=function(t){if("string"==typeof t&&io.hasOwnProperty(t))t=io[t];else if(t&&"string"==typeof t.name&&io.hasOwnProperty(t.name)){var n=io[t.name];"string"==typeof n&&(n={name:n}),t=Ps(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),i=no[n.name];if(!i)return e.getMode(t,"text/plain");var s=i(t,n);if(so.hasOwnProperty(n.name)){var r=so[n.name];for(var o in r)r.hasOwnProperty(o)&&(s.hasOwnProperty(o)&&(s["_"+o]=s[o]),s[o]=r[o])}if(s.name=n.name,n.helperType&&(s.helperType=n.helperType),n.modeProps)for(var o in n.modeProps)s[o]=n.modeProps[o];return s},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var so=e.modeExtensions={};e.extendMode=function(e,t){var n=so.hasOwnProperty(e)?so[e]:so[e]={};Es(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){Co.prototype[e]=t},e.defineOption=jn;var ro=[];e.defineInitHook=function(e){ro.push(e)};var oo=e.helpers={};e.registerHelper=function(t,n,i){oo.hasOwnProperty(t)||(oo[t]=e[t]={_global:[]}),oo[t][n]=i},e.registerGlobalHelper=function(t,n,i,s){e.registerHelper(t,n,s),oo[t]._global.push({pred:i,val:s})};var ao=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var s=t[i];s instanceof Array&&(s=s.concat([])),n[i]=s}return n},lo=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var co=e.commands={selectAll:function(e){e.setSelection(Er(e.firstLine(),0),Er(e.lastLine()),Eo)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Eo)},killLine:function(e){Rn(e,function(t){if(t.empty()){var n=Xi(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Er(t.head.line+1,0)}:{from:t.head,to:Er(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Rn(e,function(t){return{from:Er(t.from().line,0),to:me(e.doc,Er(t.to().line+1,0))}})},delLineLeft:function(e){Rn(e,function(e){return{from:Er(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Rn(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){Rn(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Er(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Er(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return rr(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return ar(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return or(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Bo)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Bo)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?ar(e,t.head):i},Bo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,s=0;s<n.length;s++){var r=n[s].from(),o=Ho(e.getLine(r.line),r.ch,i);t.push(new Array(i-o%i+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){At(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var s=t[i].head,r=Xi(e.doc,s.line).text;if(r)if(s.ch==r.length&&(s=new Er(s.line,s.ch-1)),s.ch>0)s=new Er(s.line,s.ch+1),e.replaceRange(r.charAt(s.ch-1)+r.charAt(s.ch-2),Er(s.line,s.ch-2),s,"+transpose");else if(s.line>e.doc.first){var o=Xi(e.doc,s.line-1).text;o&&e.replaceRange(r.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),Er(s.line-1,o.length-1),Er(s.line,1),"+transpose")}n.push(new ue(s,s))}e.setSelections(n)})},newlineAndIndent:function(e){At(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var i=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0)}Wn(e)})},toggleOverwrite:function(e){e.toggleOverwrite()}},uo=e.keyMap={};uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},uo["default"]=Ar?uo.macDefault:uo.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var s=Ns(n.split(" "),Vn),r=0;r<s.length;r++){var o,a;r==s.length-1?(a=s.join(" "),o=i):(a=s.slice(0,r+1).join(" "),o="...");var l=t[a];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+a)}else t[a]=o}delete e[n]}for(var c in t)e[c]=t[c];return e};var ho=e.lookupKey=function(e,t,n,i){t=Gn(t);var s=t.call?t.call(e,i):t[e];if(s===!1)return"nothing";if("..."===s)return"multi";if(null!=s&&n(s))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ho(e,t.fallthrough,n,i);for(var r=0;r<t.fallthrough.length;r++){var o=ho(e,t.fallthrough[r],n,i);if(o)return o}}},po=e.isModifierKey=function(e){var t="string"==typeof e?e:ra[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},fo=e.keyName=function(e,t){if(Sr&&34==e.keyCode&&e["char"])return!1;var n=ra[e.keyCode],i=n;return null==i||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(Dr?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Dr?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};e.fromTextArea=function(t,n){function i(){t.value=c.getValue()}if(n=n?Es(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var s=js();n.autofocus=s==t||null!=t.getAttribute("autofocus")&&s==document.body}if(t.form&&(Oo(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var r=t.form,o=r.submit;try{var a=r.submit=function(){i(),r.submit=o,r.submit(),r.submit=a}}catch(l){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Fo(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c};var mo=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};mo.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ho(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ho(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ho(this.string,null,this.tabSize)-(this.lineStart?Ho(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var s=function(e){return n?e.toLowerCase():e},r=this.string.substr(this.pos,e.length);return s(r)==s(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var go=0,vo=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++go};As(vo),vo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&xt(e),Ms(this,"clear")){var n=this.find();n&&Cs(this,"clear",n.from,n.to)}for(var i=null,s=null,r=0;r<this.lines.length;++r){var o=this.lines[r],a=ei(o.markedSpans,this);e&&!this.collapsed?Pt(e,ts(o),"text"):e&&(null!=a.to&&(s=ts(o)),null!=a.from&&(i=ts(o))),o.markedSpans=ti(o.markedSpans,a),null==a.from&&this.collapsed&&!ki(this.doc,o)&&e&&es(o,yt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var r=0;r<this.lines.length;++r){var l=yi(this.lines[r]),c=u(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&It(e,i,s+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ae(e.doc)),e&&Cs(e,"markerCleared",e,this),t&&kt(e),this.parent&&this.parent.clear()}},vo.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,s=0;s<this.lines.length;++s){var r=this.lines[s],o=ei(r.markedSpans,this);if(null!=o.from&&(n=Er(t?r:ts(r),o.from),-1==e))return n;if(null!=o.to&&(i=Er(t?r:ts(r),o.to),1==e))return i}return n&&{from:n,to:i}},vo.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&At(n,function(){var i=e.line,s=ts(e.line),r=Ze(n,s);if(r&&(rt(r),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ki(t.doc,i)&&null!=t.height){var o=t.height;t.height=null;var a=_i(t)-o;a&&es(i,i.height+a)}})},vo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Ds(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},vo.prototype.detachLine=function(e){if(this.lines.splice(Ds(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var go=0,yo=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};As(yo),yo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Cs(this,"clear")}},yo.prototype.find=function(e,t){return this.primary.find(e,t)};var bo=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};As(bo),bo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=ts(n);if(null!=i&&t){for(var s=0;s<t.length;++s)t[s]==this&&t.splice(s--,1);t.length||(n.widgets=null);var r=_i(this);es(n,Math.max(0,n.height-r)),e&&At(e,function(){Ci(e,n,-r),Pt(e,i,"widget")})}},bo.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=_i(this)-e;i&&(es(n,n.height+i),t&&At(t,function(){t.curOp.forceUpdate=!0,Ci(t,n,i)}))};var xo=e.Line=function(e,t,n){this.text=e,di(this,t),this.height=n?n(this):1};As(xo),xo.prototype.lineNo=function(){return ts(this)};var wo={},ko={};Gi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;i>n;++n){var s=this.lines[n];this.height-=s.height,Mi(s),Cs(s,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;i>e;++e)if(n(this.lines[e]))return!0}},Ki.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],s=i.chunkSize();if(s>e){var r=Math.min(t,s-e),o=i.height;if(i.removeInner(e,r),this.height-=o-i.height,s==r&&(this.children.splice(n--,1),i.parent=null),0==(t-=r))break;e=0}else e-=s}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Gi))){var a=[];this.collapse(a),this.children=[new Gi(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var s=this.children[i],r=s.chunkSize();if(r>=e){if(s.insertInner(e,t,n),s.lines&&s.lines.length>50){for(;s.lines.length>50;){var o=s.lines.splice(s.lines.length-25,25),a=new Gi(o);s.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}e-=r}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Ki(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=Ds(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var s=new Ki(e.children);s.parent=e,e.children=[s,n],e=s}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var s=this.children[i],r=s.chunkSize();if(r>e){var o=Math.min(t,r-e);if(s.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=r}}};var So=0,Co=e.Doc=function(e,t,n,i){if(!(this instanceof Co))return new Co(e,t,n,i);null==n&&(n=0),Ki.call(this,[new Gi([new xo("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var s=Er(n,0);this.sel=pe(s),this.history=new rs(null),this.id=++So,this.modeOption=t,this.lineSep=i,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Vi(this,{from:s,to:s,text:e}),Te(this,pe(s),Eo)};Co.prototype=Ps(Ki.prototype,{constructor:Co,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Zi(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Ft(function(e){var t=Er(this.first,0),n=this.first+this.size-1;Tn(this,{from:t,to:Er(n,Xi(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Te(this,pe(t))}),replaceRange:function(e,t,n,i){t=me(this,t),n=n?me(this,n):t,Fn(this,e,t,n,i)},getRange:function(e,t,n){var i=Ji(this,me(this,e),me(this,t));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return ve(this,e)?Xi(this,e):void 0},getLineNumber:function(e){return ts(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Xi(this,e)),yi(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return me(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ft(function(e,t,n){Se(this,me(this,"number"==typeof e?Er(e,t||0):e),null,n)}),setSelection:Ft(function(e,t,n){Se(this,me(this,e),me(this,t||e),n)}),extendSelection:Ft(function(e,t,n){xe(this,me(this,e),t&&me(this,t),n)}),extendSelections:Ft(function(e,t){we(this,ye(this,e),t)}),extendSelectionsBy:Ft(function(e,t){var n=Ns(this.sel.ranges,e);we(this,ye(this,n),t)}),setSelections:Ft(function(e,t,n){if(e.length){for(var i=0,s=[];i<e.length;i++)s[i]=new ue(me(this,e[i].anchor),me(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Te(this,he(s,t),n)}}),addSelection:Ft(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new ue(me(this,e),me(this,t||e))),Te(this,he(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var s=Ji(this,n[i].from(),n[i].to());t=t?t.concat(s):s}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var s=Ji(this,n[i].from(),n[i].to());e!==!1&&(s=s.join(e||this.lineSeparator())),t[i]=s}return t},replaceSelection:function(e,t,n){for(var i=[],s=0;s<this.sel.ranges.length;s++)i[s]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Ft(function(e,t,n){for(var i=[],s=this.sel,r=0;r<s.ranges.length;r++){var o=s.ranges[r];i[r]={from:o.from(),to:o.to(),text:this.splitLines(e[r]),origin:n}}for(var a=t&&"end"!=t&&Cn(this,i,t),r=i.length-1;r>=0;r--)Tn(this,i[r]);a?_e(this,a):this.cm&&Wn(this.cm)}),undo:Ft(function(){Mn(this,"undo")}),redo:Ft(function(){Mn(this,"redo")}),undoSelection:Ft(function(){Mn(this,"undo",!0)}),redoSelection:Ft(function(){Mn(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new rs(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:gs(this.history.done),undone:gs(this.history.undone)}},setHistory:function(e){var t=this.history=new rs(this.history.maxGeneration);t.done=gs(e.done.slice(0),null,!0),t.undone=gs(e.undone.slice(0),null,!0)},addLineClass:Ft(function(e,t,n){return zn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(Vs(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:Ft(function(e,t,n){return zn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",s=e[i];if(!s)return!1;if(null==n)e[i]=null;else{var r=s.match(Vs(n));if(!r)return!1;var o=r.index+r[0].length;e[i]=s.slice(0,r.index)+(r.index&&o!=s.length?" ":"")+s.slice(o)||null}return!0})}),addLineWidget:Ft(function(e,t,n){return Ti(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Kn(this,me(this,e),me(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=me(this,e),Kn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=me(this,e);var t=[],n=Xi(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var s=n[i];(null==s.from||s.from<=e.ch)&&(null==s.to||s.to>=e.ch)&&t.push(s.marker.parent||s.marker)}return t},findMarks:function(e,t,n){e=me(this,e),t=me(this,t);var i=[],s=e.line;return this.iter(e.line,t.line+1,function(r){var o=r.markedSpans;if(o)for(var a=0;a<o.length;a++){var l=o[a];null!=l.to&&s==e.line&&e.ch>=l.to||null==l.from&&s!=e.line||null!=l.from&&s==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++s}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(s){var r=s.text.length+i;return r>e?(t=e,!0):(e-=r,void++n)}),me(this,Er(n,t))},indexFromPos:function(e){e=me(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Co(Zi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new Co(Zi(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Xn(i,Qn(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Jn(Qn(this));break}}if(t.history==this.history){var s=[t.id];Yi(t,function(e){s.push(e.id)},!0),t.history=new rs(null),t.history.done=gs(this.history.done,s),t.history.undone=gs(this.history.undone,s)}},iterLinkedDocs:function(e){Yi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ta(e)},lineSeparator:function(){return this.lineSep||"\n"}}),Co.prototype.eachLine=Co.prototype.iter;var _o="iter insert remove copy getEditor constructor".split(" ");for(var To in Co.prototype)Co.prototype.hasOwnProperty(To)&&Ds(_o,To)<0&&(e.prototype[To]=function(e){return function(){return e.apply(this.doc,arguments)}}(Co.prototype[To]));As(Co);var Lo=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Mo=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ao=e.e_stop=function(e){Lo(e),Mo(e)},Oo=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),s=i[t]||(i[t]=[]);s.push(n)}},$o=[],Fo=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var i=Ss(e,t,!1),s=0;s<i.length;++s)if(i[s]==n){i.splice(s,1);break}},Do=e.signal=function(e,t){var n=Ss(e,t,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),s=0;s<n.length;++s)n[s].apply(null,i)},No=null,Io=30,Po=e.Pass={toString:function(){return"CodeMirror.Pass"}},Eo={scroll:!1},Wo={origin:"*mouse"},Bo={origin:"+move"};Os.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ho=e.countColumn=function(e,t,n,i,s){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var r=i||0,o=s||0;;){var a=e.indexOf("	",r);if(0>a||a>=t)return o+(t-r);o+=a-r,o+=n-o%n,r=a+1}},zo=e.findColumn=function(e,t,n){for(var i=0,s=0;;){var r=e.indexOf("	",i);-1==r&&(r=e.length);var o=r-i;if(r==e.length||s+o>=t)return i+Math.min(o,t-s);if(s+=r-i,s+=n-s%n,i=r+1,s>=t)return i}},Ro=[""],qo=function(e){e.select()};Lr?qo=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:yr&&(qo=function(e){try{e.select()}catch(t){}});var Uo,jo=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Vo=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||jo.test(e))},Go=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Uo=document.createRange?function(e,t,n,i){var s=document.createRange();return s.setEnd(i||e,n),s.setStart(e,t),s}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(s){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var Ko=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};yr&&11>br&&(js=function(){try{return document.activeElement}catch(e){return document.body}});var Yo,Qo,Xo=e.rmClass=function(e,t){var n=e.className,i=Vs(t).exec(n);if(i){var s=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(s?i[1]+s:"")}},Jo=e.addClass=function(e,t){var n=e.className;Vs(t).test(n)||(e.className+=(n?" ":"")+t)},Zo=!1,ea=function(){
if(yr&&9>br)return!1;var e=Rs("div");return"draggable"in e||"dragDrop"in e}(),ta=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;i>=t;){var s=e.indexOf("\n",t);-1==s&&(s=e.length);var r=e.slice(t,"\r"==e.charAt(s-1)?s-1:s),o=r.indexOf("\r");-1!=o?(n.push(r.slice(0,o)),t+=o+1):(n.push(r),t=s+1)}return n}:function(e){return e.split(/\r\n?|\n/)},na=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},ia=function(){var e=Rs("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),sa=null,ra=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)ra[e+48]=ra[e+96]=String(e);for(var e=65;90>=e;e++)ra[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)ra[e+111]=ra[e+63235]="F"+e}();var oa,aa=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?i.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!s.test(n))return!1;for(var i,d=n.length,u=[],h=0;d>h;++h)u.push(i=e(n.charCodeAt(h)));for(var h=0,p=c;d>h;++h){var i=u[h];"m"==i?u[h]=p:p=i}for(var h=0,f=c;d>h;++h){var i=u[h];"1"==i&&"r"==f?u[h]="n":o.test(i)&&(f=i,"r"==i&&(u[h]="R"))}for(var h=1,p=u[0];d-1>h;++h){var i=u[h];"+"==i&&"1"==p&&"1"==u[h+1]?u[h]="1":","!=i||p!=u[h+1]||"1"!=p&&"n"!=p||(u[h]=p),p=i}for(var h=0;d>h;++h){var i=u[h];if(","==i)u[h]="N";else if("%"==i){for(var m=h+1;d>m&&"%"==u[m];++m);for(var g=h&&"!"==u[h-1]||d>m&&"1"==u[m]?"1":"N",v=h;m>v;++v)u[v]=g;h=m-1}}for(var h=0,f=c;d>h;++h){var i=u[h];"L"==f&&"1"==i?u[h]="L":o.test(i)&&(f=i)}for(var h=0;d>h;++h)if(r.test(u[h])){for(var m=h+1;d>m&&r.test(u[m]);++m);for(var y="L"==(h?u[h-1]:c),b="L"==(d>m?u[m]:c),g=y||b?"L":"R",v=h;m>v;++v)u[v]=g;h=m-1}for(var x,w=[],h=0;d>h;)if(a.test(u[h])){var k=h;for(++h;d>h&&a.test(u[h]);++h);w.push(new t(0,k,h))}else{var S=h,C=w.length;for(++h;d>h&&"L"!=u[h];++h);for(var v=S;h>v;)if(l.test(u[v])){v>S&&w.splice(C,0,new t(1,S,v));var _=v;for(++v;h>v&&l.test(u[v]);++v);w.splice(C,0,new t(2,_,v)),S=v}else++v;h>S&&w.splice(C,0,new t(1,S,h))}return 1==w[0].level&&(x=n.match(/^\s+/))&&(w[0].from=x[0].length,w.unshift(new t(0,0,x[0].length))),1==Fs(w).level&&(x=n.match(/\s+$/))&&(Fs(w).to-=x[0].length,w.push(new t(0,d-x[0].length,d))),2==w[0].level&&w.unshift(new t(1,w[0].to,w[0].to)),w[0].level!=Fs(w).level&&w.push(new t(w[0].level,d,d)),w}}();return e.version="5.14.2",e})},{}],175:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror"),e("../xml/xml"),e("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function i(n){if(e.findModeByName){var i=e.findModeByName(n);i&&(n=i.mime||i.mimes[0])}var s=e.getMode(t,n);return"null"==s.name?null:s}function s(e,t,n){return t.f=t.inline=n,n(e,t)}function r(e,t,n){return t.f=t.block=n,n(e,t)}function o(e){return!e||!/\S/.test(e.string)}function a(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,S&&e.f==c&&(e.f=f,e.block=l),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine=null,null}function l(e,t){var r=e.sol(),a=t.list!==!1,l=t.indentedCode;t.indentedCode=!1,a&&(t.indentationDiff>=0?(t.indentationDiff<4&&(t.indentation-=t.indentationDiff),t.list=null):t.indentation>0?t.list=null:t.list=!1);var c=null;if(t.indentationDiff>=4)return e.skipToEnd(),l||o(t.prevLine)?(t.indentation-=4,t.indentedCode=!0,C.code):null;if(e.eatSpace())return null;if((c=e.match(O))&&c[1].length<=6)return t.header=c[1].length,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,h(t);if(!(o(t.prevLine)||t.quote||a||l)&&(c=e.match($)))return t.header="="==c[0].charAt(0)?1:2,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,h(t);if(e.eat(">"))return t.quote=r?1:t.quote+1,n.highlightFormatting&&(t.formatting="quote"),e.eatSpace(),h(t);if("["===e.peek())return s(e,t,y);if(e.match(T,!0))return t.hr=!0,C.hr;if((o(t.prevLine)||a)&&(e.match(L,!1)||e.match(M,!1))){var u=null;for(e.match(L,!0)?u="ul":(e.match(M,!0),u="ol"),t.indentation=e.column()+e.current().length,t.list=!0;t.listStack&&e.column()<t.listStack[t.listStack.length-1];)t.listStack.pop();return t.listStack.push(t.indentation),n.taskLists&&e.match(A,!1)&&(t.taskList=!0),t.f=t.inline,n.highlightFormatting&&(t.formatting=["list","list-"+u]),h(t)}return n.fencedCodeBlocks&&(c=e.match(D,!0))?(t.fencedChars=c[1],t.localMode=i(c[2]),t.localMode&&(t.localState=t.localMode.startState()),t.f=t.block=d,n.highlightFormatting&&(t.formatting="code-block"),t.code=-1,h(t)):s(e,t,t.inline)}function c(t,n){var i=k.token(t,n.htmlState);if(!S){var s=e.innerMode(k,n.htmlState);("xml"==s.mode.name&&null===s.state.tagStart&&!s.state.context&&s.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=f,n.block=l,n.htmlState=null)}return i}function d(e,t){return t.fencedChars&&e.match(t.fencedChars,!1)?(t.localMode=t.localState=null,t.f=t.block=u,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),C.code)}function u(e,t){e.match(t.fencedChars),t.block=l,t.f=f,t.fencedChars=null,n.highlightFormatting&&(t.formatting="code-block"),t.code=1;var i=h(t);return t.code=0,i}function h(e){var t=[];if(e.formatting){t.push(C.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var i=0;i<e.formatting.length;i++)t.push(C.formatting+"-"+e.formatting[i]),"header"===e.formatting[i]&&t.push(C.formatting+"-"+e.formatting[i]+"-"+e.header),"quote"===e.formatting[i]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(C.formatting+"-"+e.formatting[i]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(C.linkHref,"url"):(e.strong&&t.push(C.strong),e.em&&t.push(C.em),e.strikethrough&&t.push(C.strikethrough),e.linkText&&t.push(C.linkText),e.code&&t.push(C.code)),e.header&&t.push(C.header,C.header+"-"+e.header),e.quote&&(t.push(C.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(C.quote+"-"+e.quote):t.push(C.quote+"-"+n.maxBlockquoteDepth)),e.list!==!1){var s=(e.listStack.length-1)%3;s?1===s?t.push(C.list2):t.push(C.list3):t.push(C.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function p(e,t){return e.match(F,!0)?h(t):void 0}function f(t,i){var s=i.text(t,i);if("undefined"!=typeof s)return s;if(i.list)return i.list=null,h(i);if(i.taskList){var o="x"!==t.match(A,!0)[1];return o?i.taskOpen=!0:i.taskClosed=!0,n.highlightFormatting&&(i.formatting="task"),i.taskList=!1,h(i)}if(i.taskOpen=!1,i.taskClosed=!1,i.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(i.formatting="header"),h(i);var a=t.sol(),l=t.next();if(i.linkTitle){i.linkTitle=!1;var d=l;"("===l&&(d=")"),d=(d+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var u="^\\s*(?:[^"+d+"\\\\]+|\\\\\\\\|\\\\.)"+d;if(t.match(new RegExp(u),!0))return C.linkHref}if("`"===l){var p=i.formatting;n.highlightFormatting&&(i.formatting="code"),t.eatWhile("`");var f=t.current().length;if(0==i.code)return i.code=f,h(i);if(f==i.code){var v=h(i);return i.code=0,v}return i.formatting=p,h(i)}if(i.code)return h(i);if("\\"===l&&(t.next(),n.highlightFormatting)){var y=h(i),b=C.formatting+"-escape";return y?y+" "+b:b}if("!"===l&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),i.inline=i.f=g,C.image;if("["===l&&t.match(/.*\](\(.*\)| ?\[.*\])/,!1))return i.linkText=!0,n.highlightFormatting&&(i.formatting="link"),h(i);if("]"===l&&i.linkText&&t.match(/\(.*\)| ?\[.*\]/,!1)){n.highlightFormatting&&(i.formatting="link");var y=h(i);return i.linkText=!1,i.inline=i.f=g,y}if("<"===l&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=m,n.highlightFormatting&&(i.formatting="link");var y=h(i);return y?y+=" ":y="",y+C.linkInline}if("<"===l&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=m,n.highlightFormatting&&(i.formatting="link");var y=h(i);return y?y+=" ":y="",y+C.linkEmail}if("<"===l&&t.match(/^(!--|\w)/,!1)){var x=t.string.indexOf(">",t.pos);if(-1!=x){var w=t.string.substring(t.start,x);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(i.md_inside=!0)}return t.backUp(1),i.htmlState=e.startState(k),r(t,i,c)}if("<"===l&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";var S=!1;if(!n.underscoresBreakWords&&"_"===l&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var _=t.pos-2;if(_>=0){var T=t.string.charAt(_);"_"!==T&&T.match(/(\w)/,!1)&&(S=!0)}}if("*"===l||"_"===l&&!S)if(a&&" "===t.peek());else{if(i.strong===l&&t.eat(l)){n.highlightFormatting&&(i.formatting="strong");var v=h(i);return i.strong=!1,v}if(!i.strong&&t.eat(l))return i.strong=l,n.highlightFormatting&&(i.formatting="strong"),h(i);if(i.em===l){n.highlightFormatting&&(i.formatting="em");var v=h(i);return i.em=!1,v}if(!i.em)return i.em=l,n.highlightFormatting&&(i.formatting="em"),h(i)}else if(" "===l&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return h(i);t.backUp(1)}if(n.strikethrough)if("~"===l&&t.eatWhile(l)){if(i.strikethrough){n.highlightFormatting&&(i.formatting="strikethrough");var v=h(i);return i.strikethrough=!1,v}if(t.match(/^[^\s]/,!1))return i.strikethrough=!0,n.highlightFormatting&&(i.formatting="strikethrough"),h(i)}else if(" "===l&&t.match(/^~~/,!0)){if(" "===t.peek())return h(i);t.backUp(2)}return" "===l&&(t.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),h(i)}function m(e,t){var i=e.next();if(">"===i){t.f=t.inline=f,n.highlightFormatting&&(t.formatting="link");var s=h(t);return s?s+=" ":s="",s+C.linkInline}return e.match(/^[^>]+/,!0),C.linkInline}function g(e,t){if(e.eatSpace())return null;var i=e.next();return"("===i||"["===i?(t.f=t.inline=v("("===i?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,h(t)):"error"}function v(e){return function(t,i){var s=t.next();if(s===e){i.f=i.inline=f,n.highlightFormatting&&(i.formatting="link-string");var r=h(i);return i.linkHref=!1,r}return t.match(w(e),!0)&&t.backUp(1),i.linkHref=!0,h(i)}}function y(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=b,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,h(t)):s(e,t,f)}function b(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=x,n.highlightFormatting&&(t.formatting="link");var i=h(t);return t.linkText=!1,i}return e.match(/^([^\]\\]|\\.)+/,!0),C.linkText}function x(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=f,C.linkHref+" url")}function w(e){return N[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),N[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),N[e]}var k=e.getMode(t,"text/html"),S="null"==k.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.underscoresBreakWords&&(n.underscoresBreakWords=!0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var C={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var _ in C)C.hasOwnProperty(_)&&n.tokenTypeOverrides[_]&&(C[_]=n.tokenTypeOverrides[_]);var T=/^([*\-_])(?:\s*\1){2,}\s*$/,L=/^[*\-+]\s+/,M=/^[0-9]+([.)])\s+/,A=/^\[(x| )\](?=\s)/,O=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,$=/^ *(?:\={1,}|-{1,})\s*$/,F=/^[^#!\[\]*_\\<>` "'(~]+/,D=new RegExp("^("+(n.fencedCodeBlocks===!0?"~~~+|```+":n.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),N=[],I={startState:function(){return{f:l,prevLine:null,thisLine:null,block:l,htmlState:null,indentation:0,inline:f,text:p,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(k,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedChars:t.fencedChars}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine){var n=t.header||t.hr;if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0)||n){if(a(t),!n)return null;t.prevLine=null}t.prevLine=t.thisLine,t.thisLine=e,t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var i=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentationDiff=Math.min(i-t.indentation,4),t.indentation=t.indentation+t.indentationDiff,i>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==c?{state:e.htmlState,mode:k}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:I}},blankLine:a,getType:h,fold:"markdown"};return I},"xml"),e.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":174,"../meta":176,"../xml/xml":177}],176:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../lib/codemirror")):"function"==typeof define&&define.amd?define(["../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.mime==t)return i;if(i.mimes)for(var s=0;s<i.mimes.length;s++)if(i.mimes[s]==t)return i}},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.ext)for(var s=0;s<i.ext.length;s++)if(i.ext[s]==t)return i}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.file&&i.file.test(t))return i}var s=t.lastIndexOf("."),r=s>-1&&t.substring(s+1,t.length);return r?e.findModeByExtension(r):void 0},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.name.toLowerCase()==t)return i;if(i.alias)for(var s=0;s<i.alias.length;s++)if(i.alias[s].toLowerCase()==t)return i}}})},{"../lib/codemirror":174}],177:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(i,s){function r(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(c(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(T=e.eat("/")?"closeTag":"openTag",t.tokenize=o,"tag bracket");if("&"==i){var s;return s=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),s?"atom":"error"}return e.eatWhile(/[^&<]/),null}function o(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=r,T=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return T="equals",null;if("<"==n){t.tokenize=r,t.state=p,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=a(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=o;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=r;break}n.next()}return e}}function c(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=c(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=r;break}return n.tokenize=c(e-1),n.tokenize(t,n)}}return"meta"}}function d(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(S.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function u(e){e.context&&(e.context=e.context.prev)}function h(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!S.contextGrabbers.hasOwnProperty(n)||!S.contextGrabbers[n].hasOwnProperty(t))return;u(e)}}function p(e,t,n){return"openTag"==e?(n.tagStart=t.column(),f):"closeTag"==e?m:p}function f(e,t,n){return"word"==e?(n.tagName=t.current(),L="tag",y):(L="error",f)}function m(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&S.implicitlyClosed.hasOwnProperty(n.context.tagName)&&u(n),n.context&&n.context.tagName==i||S.matchClosing===!1?(L="tag",g):(L="tag error",v)}return L="error",v}function g(e,t,n){return"endTag"!=e?(L="error",g):(u(n),p)}function v(e,t,n){return L="error",g(e,t,n)}function y(e,t,n){if("word"==e)return L="attribute",b;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,s=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||S.autoSelfClosers.hasOwnProperty(i)?h(n,i):(h(n,i),n.context=new d(n,i,s==n.indented)),p}return L="error",y}function b(e,t,n){return"equals"==e?x:(S.allowMissing||(L="error"),y(e,t,n))}function x(e,t,n){return"string"==e?w:"word"==e&&S.allowUnquoted?(L="string",y):(L="error",y(e,t,n))}function w(e,t,n){return"string"==e?w:y(e,t,n)}var k=i.indentUnit,S={},C=s.htmlMode?t:n;for(var _ in C)S[_]=C[_];for(var _ in s)S[_]=s[_];var T,L;return r.isInText=!0,{startState:function(e){var t={tokenize:r,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;T=null;var n=t.tokenize(e,t);return(n||T)&&"comment"!=n&&(L=null,t.state=t.state(T||n,e,t),L&&(n="error"==L?n+" error":L)),n},indent:function(t,n,i){var s=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+k;if(s&&s.noIndent)return e.Pass;if(t.tokenize!=o&&t.tokenize!=r)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return S.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+k*(S.multilineTagIndentFactor||1);if(S.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;s;){if(s.tagName==a[2]){s=s.prev;break}if(!S.implicitlyClosed.hasOwnProperty(s.tagName))break;s=s.prev}else if(a)for(;s;){var l=S.contextGrabbers[s.tagName];if(!l||!l.hasOwnProperty(a[2]))break;s=s.prev}for(;s&&s.prev&&!s.startOfLine;)s=s.prev;return s?s.indent+k:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,
blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:S.htmlMode?"html":"xml",helperType:S.htmlMode?"html":"xml",skipAttribute:function(e){e.state==x&&(e.state=y)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":174}],178:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(e,n){var i=e.peek(),s=n.escaped;if(n.escaped=!1,"#"==i&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&e.indentation()>n.keyCol)return e.skipToEnd(),"string";if(n.literal&&(n.literal=!1),e.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==i?n.inlinePairs++:"}"==i?n.inlinePairs--:"["==i?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!s&&","==i)return e.next(),"meta";if(n.inlinePairs>0&&!s&&","==i)return n.keyCol=0,n.pair=!1,n.pairStart=!1,e.next(),"meta";if(n.pairStart){if(e.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(t))return"keyword"}return!n.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=e.indentation(),"atom"):n.pair&&e.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==i,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),e.defineMIME("text/x-yaml","yaml")})},{"../../lib/codemirror":174}],179:[function(e,t,n){(function(e){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||u.defaults,this.rules=h.normal,this.options.gfm&&(this.options.tables?this.rules=h.tables:this.rules=h.gfm)}function i(e,t){if(this.options=t||u.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function s(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||u.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(i,s){return i?(s=s.source||s,s=s.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,s),n):new RegExp(e,t)}}function c(){}function d(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function u(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=d({},u.defaults,n||{});var s,a,l=n.highlight,c=0;try{s=e.lex(t,n)}catch(h){return i(h)}a=s.length;var p=function(e){if(e)return n.highlight=l,i(e);var t;try{t=r.parse(s,n)}catch(o){e=o}return n.highlight=l,e?i(e):i(null,t)};if(!l||l.length<3)return p();if(delete n.highlight,!a)return p();for(;c<s.length;c++)!function(e){return"code"!==e.type?--a||p():l(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--a||p():(e.text=n,e.escaped=!0,void(--a||p()))})}(s[c])}else try{return n&&(n=d({},u.defaults,n)),r.parse(e.lex(t,n),n)}catch(h){if(h.message+="\nPlease report this to https://github.com/chjj/marked.",(n||u.defaults).silent)return"<p>An error occured:</p><pre>"+o(h.message+"",!0)+"</pre>";throw h}}var h={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:c,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:c,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:c,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};h.bullet=/(?:[*+-]|\d+\.)/,h.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,h.item=l(h.item,"gm")(/bull/g,h.bullet)(),h.list=l(h.list)(/bull/g,h.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+h.def.source+")")(),h.blockquote=l(h.blockquote)("def",h.def)(),h._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",h.html=l(h.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,h._tag)(),h.paragraph=l(h.paragraph)("hr",h.hr)("heading",h.heading)("lheading",h.lheading)("blockquote",h.blockquote)("tag","<"+h._tag)("def",h.def)(),h.normal=d({},h),h.gfm=d({},h.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),h.gfm.paragraph=l(h.paragraph)("(?!","(?!"+h.gfm.fences.source.replace("\\1","\\2")+"|"+h.list.source.replace("\\1","\\3")+"|")(),h.tables=d({},h.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=h,e.lex=function(t,n){var i=new e(n);return i.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var i,s,r,o,a,l,c,d,u,e=e.replace(/^ +$/gm,"");e;)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]||""});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(t&&(r=this.rules.nptable.exec(e))){for(e=e.substring(r[0].length),l={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].split(/ *\| */);this.tokens.push(l)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,t,!0),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),o=r[2],this.tokens.push({type:"list_start",ordered:o.length>1}),r=r[0].match(this.rules.item),i=!1,u=r.length,d=0;u>d;d++)l=r[d],c=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&d!==u-1&&(a=h.bullet.exec(r[d+1])[0],o===a||o.length>1&&a.length>1||(e=r.slice(d+1).join("\n")+e,d=u-1)),s=i||/\n\n(?!\s*$)/.test(l),d!==u-1&&(i="\n"===l.charAt(l.length-1),s||(s=i)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:r[0]});else if(!n&&t&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),this.tokens.links[r[1].toLowerCase()]={href:r[2],title:r[3]};else if(t&&(r=this.rules.table.exec(e))){for(e=e.substring(r[0].length),l={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:c,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:c,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=l(p.link)("inside",p._inside)("href",p._href)(),p.reflink=l(p.reflink)("inside",p._inside)(),p.normal=d({},p),p.pedantic=d({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=d({},p.normal,{escape:l(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=d({},p.gfm,{br:l(p.br)("{2,}","*")(),text:l(p.gfm.text)("{2,}","*")()}),i.rules=p,i.output=function(e,t,n){var s=new i(t,n);return s.output(e)},i.prototype.output=function(e){for(var t,n,i,s,r="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),r+=s[1];else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),"@"===s[2]?(n=":"===s[1].charAt(6)?this.mangle(s[1].substring(7)):this.mangle(s[1]),i=this.mangle("mailto:")+n):(n=o(s[1]),i=n),r+=this.renderer.link(i,null,n);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),e=e.substring(s[0].length),r+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):o(s[0]):s[0];else if(s=this.rules.link.exec(e))e=e.substring(s[0].length),this.inLink=!0,r+=this.outputLink(s,{href:s[2],title:s[3]}),this.inLink=!1;else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){r+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,r+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),r+=this.renderer.strong(this.output(s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),r+=this.renderer.em(this.output(s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),r+=this.renderer.codespan(o(s[2],!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),r+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),r+=this.renderer.del(this.output(s[1]));else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),r+=this.renderer.text(o(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(s[0].length),n=o(s[1]),i=n,r+=this.renderer.link(i,null,n);return r},i.prototype.outputLink=function(e,t){var n=o(t.href),i=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,o(e[1]))},i.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,s=0;i>s;s++)t=e.charCodeAt(s),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(n?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"\n</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td",i=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return i+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(a(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(s){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},s.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},s.prototype.text=function(e){return e},r.parse=function(e,t,n){var i=new r(t,n);return i.parse(e)},r.prototype.parse=function(e){this.inline=new i(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,s,r="",o="";for(n="",e=0;e<this.token.header.length;e++)i={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",s=0;s<t.length;s++)n+=this.renderer.tablecell(this.inline.output(t[s]),{header:!1,align:this.token.align[s]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(var o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",a=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a);case"list_item_start":for(var o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(var o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},c.exec=c,u.options=u.setOptions=function(e){return d(u.defaults,e),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new s,xhtml:!1},u.Parser=r,u.parser=r.parse,u.Renderer=s,u.Lexer=e,u.lexer=e.lex,u.InlineLexer=i,u.inlineLexer=i.output,u.parse=u,"undefined"!=typeof t&&"object"==typeof n?t.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):this.marked=u}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],180:[function(e,t,n){!function(e,n,i){function s(e,t,n){return e.addEventListener?void e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function r(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return y[e.which]?y[e.which]:b[e.which]?b[e.which]:String.fromCharCode(e.which).toLowerCase()}function o(e,t){return e.sort().join(",")===t.sort().join(",")}function a(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function l(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function c(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function u(){if(!v){v={};for(var e in y)e>95&&112>e||y.hasOwnProperty(e)&&(v[y[e]]=e)}return v}function h(e,t,n){return n||(n=u()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function p(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function f(e,t){var n,i,s,r=[];for(n=p(e),s=0;s<n.length;++s)i=n[s],w[i]&&(i=w[i]),t&&"keypress"!=t&&x[i]&&(i=x[i],r.push("shift")),d(i)&&r.push(i);return t=h(i,r,t),{key:i,modifiers:r,action:t}}function m(e,t){return null===e||e===n?!1:e===t?!0:m(e.parentNode,t)}function g(e){function t(e){e=e||{};var t,n=!1;for(t in x)e[t]?n=!0:x[t]=0;n||(S=!1)}function i(e,t,n,i,s,r){var a,l,c=[],u=n.type;if(!y._callbacks[e])return[];for("keyup"==u&&d(e)&&(t=[e]),a=0;a<y._callbacks[e].length;++a)if(l=y._callbacks[e][a],(i||!l.seq||x[l.seq]==l.level)&&u==l.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||o(t,l.modifiers))){var h=!i&&l.combo==s,p=i&&l.seq==i&&l.level==r;(h||p)&&y._callbacks[e].splice(a,1),c.push(l)}return c}function u(e,t,n,i){y.stopCallback(t,t.target||t.srcElement,n,i)||e(t,n)===!1&&(l(t),c(t))}function h(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=r(e);if(t)return"keyup"==e.type&&w===t?void(w=!1):void y.handleKey(t,a(e),e)}function p(){clearTimeout(b),b=setTimeout(t,1e3)}function m(e,n,i,s){function o(t){return function(){S=t,++x[e],p()}}function a(n){u(i,n,e),"keyup"!==s&&(w=r(n)),setTimeout(t,10)}x[e]=0;for(var l=0;l<n.length;++l){var c=l+1===n.length,d=c?a:o(s||f(n[l+1]).action);v(n[l],d,s,e,l)}}function v(e,t,n,s,r){y._directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var o,a=e.split(" ");return a.length>1?void m(e,a,t,n):(o=f(e,n),y._callbacks[o.key]=y._callbacks[o.key]||[],i(o.key,o.modifiers,{type:o.action},s,e,r),void y._callbacks[o.key][s?"unshift":"push"]({callback:t,modifiers:o.modifiers,action:o.action,seq:s,level:r,combo:e}))}var y=this;if(e=e||n,!(y instanceof g))return new g(e);y.target=e,y._callbacks={},y._directMap={};var b,x={},w=!1,k=!1,S=!1;y._handleKey=function(e,n,s){var r,o=i(e,n,s),a={},l=0,c=!1;for(r=0;r<o.length;++r)o[r].seq&&(l=Math.max(l,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=l)continue;c=!0,a[o[r].seq]=1,u(o[r].callback,s,o[r].combo,o[r].seq)}else c||u(o[r].callback,s,o[r].combo);var h="keypress"==s.type&&k;s.type!=S||d(e)||h||t(a),k=c&&"keydown"==s.type},y._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)v(e[i],t,n)},s(e,"keypress",h),s(e,"keydown",h),s(e,"keyup",h)}for(var v,y={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},b={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},x={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},k=1;20>k;++k)y[111+k]="f"+k;for(k=0;9>=k;++k)y[k+96]=k;g.prototype.bind=function(e,t,n){var i=this;return e=e instanceof Array?e:[e],i._bindMultiple.call(i,e,t,n),i},g.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},g.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},g.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},g.prototype.stopCallback=function(e,t){var n=this;return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:m(t,n.target)?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.init=function(){var e=g(n);for(var t in e)"_"!==t.charAt(0)&&(g[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},g.init(),e.Mousetrap=g,"undefined"!=typeof t&&t.exports&&(t.exports=g),"function"==typeof define&&define.amd&&define(function(){return g})}(window,document)},{}],181:[function(e,t,n){!function(n,i,s){"use strict";!function r(t,n,i){function s(a,l){if(!n[a]){if(!t[a]){var c="function"==typeof e&&e;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return s(n?n:e)},u,u.exports,r,t,n,i)}return n[a].exports}for(var o="function"==typeof e&&e,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e){var t,r,o,a,l=function(e){return e&&e.__esModule?e:{"default":e}},c=e("./modules/handle-dom"),d=e("./modules/utils"),u=e("./modules/handle-swal-dom"),h=e("./modules/handle-click"),p=e("./modules/handle-key"),f=l(p),m=e("./modules/default-params"),g=l(m),v=e("./modules/set-params"),y=l(v);o=a=function(){function e(e){var t=o;return t[e]===s?g["default"][e]:t[e]}var o=arguments[0];if(c.addClass(i.body,"stop-scrolling"),u.resetInput(),o===s)return d.logStr("SweetAlert expects at least 1 attribute!"),!1;var a=d.extend({},g["default"]);switch(typeof o){case"string":a.title=o,a.text=arguments[1]||"",a.type=arguments[2]||"";break;case"object":if(o.title===s)return d.logStr('Missing "title" argument!'),!1;a.title=o.title;for(var l in g["default"])a[l]=e(l);a.confirmButtonText=a.showCancelButton?"Confirm":g["default"].confirmButtonText,a.confirmButtonText=e("confirmButtonText"),a.doneFunction=arguments[1]||null;break;default:return d.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof o),!1}y["default"](a),u.fixVerticalPosition(),u.openModal(arguments[1]);for(var p=u.getModal(),m=p.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],b=function(e){return h.handleButton(e,a,p)},x=0;x<m.length;x++)for(var w=0;w<v.length;w++){var k=v[w];m[x][k]=b}u.getOverlay().onclick=b,t=n.onkeydown;var S=function(e){return f["default"](e,a,p)};n.onkeydown=S,n.onfocus=function(){setTimeout(function(){r!==s&&(r.focus(),r=s)},0)}},o.setDefaults=a.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");d.extend(g["default"],e)},o.close=a.close=function(){var e=u.getModal();c.fadeOut(u.getOverlay(),5),c.fadeOut(e,5),c.removeClass(e,"showSweetAlert"),c.addClass(e,"hideSweetAlert"),c.removeClass(e,"visible");var o=e.querySelector(".sa-icon.sa-success");c.removeClass(o,"animate"),c.removeClass(o.querySelector(".sa-tip"),"animateSuccessTip"),c.removeClass(o.querySelector(".sa-long"),"animateSuccessLong");var a=e.querySelector(".sa-icon.sa-error");c.removeClass(a,"animateErrorIcon"),c.removeClass(a.querySelector(".sa-x-mark"),"animateXMark");var l=e.querySelector(".sa-icon.sa-warning");return c.removeClass(l,"pulseWarning"),c.removeClass(l.querySelector(".sa-body"),"pulseWarningIns"),c.removeClass(l.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var t=e.getAttribute("data-custom-class");c.removeClass(e,t)},300),c.removeClass(i.body,"stop-scrolling"),n.onkeydown=t,n.previousActiveElement&&n.previousActiveElement.focus(),r=s,clearTimeout(e.timeout),!0},o.showInputError=a.showInputError=function(e){var t=u.getModal(),n=t.querySelector(".sa-input-error");c.addClass(n,"show");var i=t.querySelector(".sa-error-container");c.addClass(i,"show"),i.querySelector("p").innerHTML=e,t.querySelector("input").focus()},o.resetInputError=a.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=u.getModal(),n=t.querySelector(".sa-input-error");c.removeClass(n,"show");var i=t.querySelector(".sa-error-container");c.removeClass(i,"show")},"undefined"!=typeof n?n.sweetAlert=n.swal=o:d.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:""};n["default"]=i,t.exports=n["default"]},{}],3:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var s=e("./utils"),r=(e("./handle-swal-dom"),e("./handle-dom")),o=function(e,t,i){function o(e){f&&t.confirmButtonColor&&(p.style.backgroundColor=e)}var c,d,u,h=e||n.event,p=h.target||h.srcElement,f=-1!==p.className.indexOf("confirm"),m=-1!==p.className.indexOf("sweet-overlay"),g=r.hasClass(i,"visible"),v=t.doneFunction&&"true"===i.getAttribute("data-has-done-function");switch(f&&t.confirmButtonColor&&(c=t.confirmButtonColor,d=s.colorLuminance(c,-.04),u=s.colorLuminance(c,-.14)),h.type){case"mouseover":o(d);break;case"mouseout":o(c);break;case"mousedown":o(u);break;case"mouseup":o(d);break;case"focus":var y=i.querySelector("button.confirm"),b=i.querySelector("button.cancel");f?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var x=i===p,w=r.isDescendant(i,p);if(!x&&!w&&g&&!t.allowOutsideClick)break;f&&v&&g?a(i,t):v&&g||m?l(i,t):r.isDescendant(i,p)&&"BUTTON"===p.tagName&&sweetAlert.close()}},a=function(e,t){var n=!0;r.hasClass(e,"show-input")&&(n=e.querySelector("input").value,n||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close()},l=function(e,t){var n=String(t.doneFunction).replace(/\s/g,""),i="function("===n.substring(0,9)&&")"!==n.substring(9,10);i&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};i["default"]={handleButton:o,handleConfirm:a,handleCancel:l},t.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0});var r=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},o=function(e,t){r(e,t)||(e.className+=" "+t)},a=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(r(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},l=function(e){var t=i.createElement("div");return t.appendChild(i.createTextNode(e)),t.innerHTML},c=function(e){e.style.opacity="",e.style.display="block"},d=function(e){if(e&&!e.length)return c(e);for(var t=0;t<e.length;++t)c(e[t])},u=function(e){e.style.opacity="",e.style.display="none"},h=function(e){if(e&&!e.length)return u(e);for(var t=0;t<e.length;++t)u(e[t])},p=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},f=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},m=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(i,t)});i()}e.style.display="block"},g=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(i,t):e.style.display="none"});i()},v=function(e){if("function"==typeof MouseEvent){var t=new MouseEvent("click",{view:n,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}else if(i.createEvent){var s=i.createEvent("MouseEvents");s.initEvent("click",!1,!1),e.dispatchEvent(s)}else i.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},y=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):n.event&&n.event.hasOwnProperty("cancelBubble")&&(n.event.cancelBubble=!0)};s.hasClass=r,s.addClass=o,s.removeClass=a,s.escapeHtml=l,s._show=c,s.show=d,s._hide=u,s.hide=h,s.isDescendant=p,s.getTopMargin=f,s.fadeIn=m,s.fadeOut=g,s.fireClick=v,s.stopEventPropagation=y},{}],5:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var r=e("./handle-dom"),o=e("./handle-swal-dom"),a=function(e,t,i){var a=e||n.event,l=a.keyCode||a.which,c=i.querySelector("button.confirm"),d=i.querySelector("button.cancel"),u=i.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var h=a.target||a.srcElement,p=-1,f=0;f<u.length;f++)if(h===u[f]){p=f;break}9===l?(h=-1===p?c:p===u.length-1?u[0]:u[p+1],r.stopEventPropagation(a),h.focus(),
t.confirmButtonColor&&o.setFocusStyle(h,t.confirmButtonColor)):13===l?("INPUT"===h.tagName&&(h=c,c.focus()),h=-1===p?c:s):27===l&&t.allowEscapeKey===!0?(h=d,r.fireClick(h,a)):h=s}};i["default"]=a,t.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(e,t,s){var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(s,"__esModule",{value:!0});var o=e("./utils"),a=e("./handle-dom"),l=e("./default-params"),c=r(l),d=e("./injected-html"),u=r(d),h=".sweet-alert",p=".sweet-overlay",f=function(){var e=i.createElement("div");for(e.innerHTML=u["default"];e.firstChild;)i.body.appendChild(e.firstChild)},m=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=i.querySelector(h);return e||(f(),e=m()),e}),g=function(){var e=m();return e?e.querySelector("input"):void 0},v=function(){return i.querySelector(p)},y=function(e,t){var n=o.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(e){var t=m();a.fadeIn(v(),10),a.show(t),a.addClass(t,"showSweetAlert"),a.removeClass(t,"hideSweetAlert"),n.previousActiveElement=i.activeElement;var s=t.querySelector("button.confirm");s.focus(),setTimeout(function(){a.addClass(t,"visible")},500);var r=t.getAttribute("data-timer");if("null"!==r&&""!==r){var o=e;t.timeout=setTimeout(function(){var e=(o||null)&&"true"===t.getAttribute("data-has-done-function");e?o(null):sweetAlert.close()},r)}},x=function(){var e=m(),t=g();a.removeClass(e,"show-input"),t.value=c["default"].inputValue,t.setAttribute("type",c["default"].inputType),t.setAttribute("placeholder",c["default"].inputPlaceholder),w()},w=function(e){if(e&&13===e.keyCode)return!1;var t=m(),n=t.querySelector(".sa-input-error");a.removeClass(n,"show");var i=t.querySelector(".sa-error-container");a.removeClass(i,"show")},k=function(){var e=m();e.style.marginTop=a.getTopMargin(m())};s.sweetAlertInitialize=f,s.getModal=m,s.getOverlay=v,s.getInput=g,s.setFocusStyle=y,s.openModal=b,s.resetInput=x,s.resetInputError=w,s.fixVerticalPosition=k},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <button class="confirm" tabIndex="1">OK</button>\n    </div></div>';n["default"]=i,t.exports=n["default"]},{}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=e("./utils"),r=e("./handle-swal-dom"),o=e("./handle-dom"),a=["error","warning","info","success","input","prompt"],l=function(e){var t=r.getModal(),n=t.querySelector("h2"),l=t.querySelector("p"),c=t.querySelector("button.cancel"),d=t.querySelector("button.confirm");if(n.innerHTML=e.html?e.title:o.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:o.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&o.show(l),e.customClass)o.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var u=t.getAttribute("data-custom-class");o.removeClass(t,u),t.setAttribute("data-custom-class","")}if(o.hide(t.querySelectorAll(".sa-icon")),e.type&&!i.isIE8()){var h=function(){for(var n=!1,i=0;i<a.length;i++)if(e.type===a[i]){n=!0;break}if(!n)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],c=s;-1!==l.indexOf(e.type)&&(c=t.querySelector(".sa-icon.sa-"+e.type),o.show(c));var d=r.getInput();switch(e.type){case"success":o.addClass(c,"animate"),o.addClass(c.querySelector(".sa-tip"),"animateSuccessTip"),o.addClass(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":o.addClass(c,"animateErrorIcon"),o.addClass(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":o.addClass(c,"pulseWarning"),o.addClass(c.querySelector(".sa-body"),"pulseWarningIns"),o.addClass(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":d.setAttribute("type",e.inputType),d.value=e.inputValue,d.setAttribute("placeholder",e.inputPlaceholder),o.addClass(t,"show-input"),setTimeout(function(){d.focus(),d.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof h)return h.v}if(e.imageUrl){var p=t.querySelector(".sa-icon.sa-custom");p.style.backgroundImage="url("+e.imageUrl+")",o.show(p);var f=80,m=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],y=g[1];v&&y?(f=v,m=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}p.setAttribute("style",p.getAttribute("style")+"width:"+f+"px; height:"+m+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?c.style.display="inline-block":o.hide(c),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?d.style.display="inline-block":o.hide(d),e.cancelButtonText&&(c.innerHTML=o.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(d.innerHTML=o.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(d.style.backgroundColor=e.confirmButtonColor,r.setFocusStyle(d,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=!!e.doneFunction;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};n["default"]=l,t.exports=n["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var s=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},o=function(){return n.attachEvent&&!n.addEventListener},a=function(e){n.console&&n.console.log("SweetAlert: "+e)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,i,s="#";for(i=0;3>i;i++)n=parseInt(e.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),s+=("00"+n).substr(n.length);return s};i.extend=s,i.hexToRgb=r,i.isIE8=o,i.logStr=a,i.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof t&&t.exports&&(t.exports=sweetAlert)}(window,document)},{}]},{},[2]);